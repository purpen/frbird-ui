!function(t){function e(){t.taconite.debug&&window.console&&window.console.log&&(1===++T&&e("Plugin Version: "+w),window.console.log("[taconite] "+[].join.call(arguments,"")))}function n(t,e,n){return N?N(t,e,n):t.responseXML||t.responseText}function o(o,r,a){var i=o.getResponseHeader("content-type");t.taconite.debug&&(e("[AJAX response] content-type: ",i,";  status: ",o.status," ",o.statusText,";  has responseXML: ",null!==o.responseXML),e("type arg: "+r));var c=n(o,r,a);return c&&c.documentElement&&"parsererror"!=c.documentElement.nodeName?t.taconite(c):"string"==typeof c?/taconite/.test(c)&&t.taconite(c):(e("jQuery core httpData returned: "+c),e('httpData: response is not XML (or not "valid" XML)')),c}function r(e,n){var o=L[e];if(t.isFunction(o))return o(n);throw'No parser registered for rawData of type "'+e+'"'}function a(t){return x(t)}function i(n){var o,r=!0;try{if("string"==typeof n&&(n=c(n)),!n||!n.documentElement)return e("$.taconite invoked without valid document; nothing to process"),!1;var a=n.documentElement.tagName;e("XML document root: ",a);var i=t("taconite",n)[0];if(!i)return e("document does not contain <taconite> element; nothing to process"),!1;t.event.trigger("taconite-begin-notify",[i]),r=s(i)}catch(l){r=o=l}if(E&&t.event.trigger("taconite-rawdata-notify",[D]),t.event.trigger("taconite-complete-notify",[n,!!r,r===!0?null:r]),o)throw o}function c(n){var o;e("attempting string to document conversion");try{if(window.DOMParser){var r=new DOMParser;o=r.parseFromString(n,"text/xml")}else o=t("<xml>")[0],o.async="false",o.loadXML(n)}catch(a){throw window.console&&window.console.error&&window.console.error("[taconite] ERROR parsing XML string for conversion: "+a),a}var i=o&&o.documentElement&&"parsererror"!=o.documentElement.tagName;return e("conversion ",i?"successful!":"FAILED"),o}function s(n){try{var o=(new Date).getTime();l(n.childNodes),t.taconite.lastTime=(new Date).getTime()-o,e("time to process response: "+t.taconite.lastTime+"ms")}catch(r){throw window.console&&window.console.error&&window.console.error("[taconite] ERROR processing document: "+r),r}return!0}function l(n){D={},E=!1;var o,a,i,c,s,l,g,m,h,v,w,b,y,A={wrap:1},T=0;for(c=0;c<n.length;c++)if(1==n[c].nodeType){var x=n[c],N=x.tagName;if("eval"!=N)if("rawData"!=N)if(v=x.getAttribute("select"),w=t(v),w[0]){if(b=x.getAttribute("cdataWrap")||t.taconite.defaults.cdataWrap,o=[],x.childNodes.length>0){for(T=1,s=0,g=[];s<x.childNodes.length;s++)g[s]=p(x.childNodes[s],b);o.push(A[N]?f(g):g)}for(a=x.getAttribute("name"),i=x.getAttribute("value"),null!==a&&o.push(a),null!==i&&(y=Number(i),i==y&&(i=y),o.push(i)),s=1;!0&&(i=x.getAttribute("arg"+s),null!==i);s++)i.length&&(y=Number(i),i==y&&(i=y)),o.push(i);t.taconite.debug&&u(v,N,o,g),w[N].apply(w,o)}else e("No matching targets for selector: ",v);else{m=x.firstChild?x.firstChild.nodeValue:null,h=x.getAttribute("type"),e("rawData ("+h+"): ",m);var L=x.getAttribute("namespace")||"none";D[L]||(D[L]=[]),D[L].push({data:r(h,m),type:h,name:x.getAttribute("name")||null,raw:m}),E||(E=!0)}else l=x.firstChild?x.firstChild.nodeValue:null,e('invoking "eval" command: ',l),l&&t.globalEval(l)}T&&d()}function u(t,n,o,r){var a="...";if(!r){a="";for(var i=0;i<o.length;i++)val=o[i],i>0&&(a+=","),a+="string"==typeof val?"'"+val+"'":val}e("invoking command: $('",t,"').",n,"("+a+")")}function d(){b.mozilla||t("select:taconiteTag").each(function(){var e=this;t("option:taconiteTag",this).each(function(){if(this.setAttribute("selected","selected"),this.taconiteTag=null,"select-one"==e.type){var n=t("option",e).index(this);e.selectedIndex=n}}),this.taconiteTag=null})}function f(t){for(var e=0,n=[];e<t.length;e++)1==t[e].nodeType&&n.push(t[e]);return n}function p(t,e){var n=t.nodeType;return 1==n?h(t,e):3==n?m(t.nodeValue):4==n?g(t.nodeValue,e):null}function g(e,n){var o=document.createElement(n),r=t(o)["script"==n?"text":"html"](e),a=r.children();return 1==a.size()?a[0]:o}function m(t){return b.msie&&(t=t.replace(/\n/g,"\r").replace(/\s+/g," ")),document.createTextNode(t)}function h(t,e){var n,o=t.tagName.toLowerCase();if(b.msie&&b.version<9){var r=t.getAttribute("type");("table"==o||"radio"==r||"checkbox"==r||"button"==o||"select"==o&&t.getAttribute("multiple"))&&(n=document.createElement("<"+o+" "+v(null,t,!0)+">"))}if(n||(n=document.createElement(o),v(n,t)),b.msie&&"td"==o){var a=t.getAttribute("colspan");a&&(n.colSpan=parseInt(a,10))}if(b.msie&&!n.canHaveChildren)t.childNodes.length>0&&(n.text=t.text);else for(var i=0,c=t.childNodes.length;i<c;i++){var s=p(t.childNodes[i],e);s&&n.appendChild(s)}return b.mozilla||("select"==o||"option"==o&&t.getAttribute("selected"))&&(n.taconiteTag=1),n}function v(e,n,o){for(var r=0,a="";r<n.attributes.length;r++){var i=n.attributes[r],c=t.trim(i.name),s=t.trim(i.value);o?a+=c+'="'+s+'" ':"style"==c?(e.style.cssText=s,e.setAttribute(c,s)):t.attr(e,c,s)}return a}var w="3.66",b=t.browser;if(!b){var y=navigator.userAgent.toLowerCase(),A=/(msie) ([\w.]+)/.exec(y)||!/compatible/.test(y)&&/(mozilla)/.exec(y)||[];b={version:A[2]},b[A[1]]=!0}t.taconite=function(t){i(t)},t.taconite.debug=0,t.taconite.autodetect=!0,t.taconite.defaults={cdataWrap:"div"},t.fn.replace=t.fn.replace||function(t){return this.after(t),this.remove(),this},t.fn.replaceContent=t.fn.replaceContent||function(t){return this.empty().append(t)},t.expr[":"].taconiteTag=function(t){return 1===t.taconiteTag},t.taconite.enableAutoDetection=function(e){t.taconite.autodetect=e,N&&(t.httpData=e?N:o)};var T=0,x=t.parseJSON||function(t){return window.eval("("+t+")")};t.ajaxPrefilter&&t.ajaxPrefilter(function(e,n,r){r.success(function(n,r,a){t.taconite.autodetect&&o(a,e.dataType,e)})});var N=t.httpData;t.httpData&&(t.httpData=o);var D,E,L={json:a};t.taconite.registerParser=function(t,e){L[t]=e}}(jQuery);
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e,n){function t(e,n,t,u){return!(e.selector!=n.selector||e.context!=n.context||t&&t.$lqguid!=n.fn.$lqguid||u&&u.$lqguid!=n.fn2.$lqguid)}e.extend(e.fn,{livequery:function(n,r){var i,o=this;return e.each(u.queries,function(e,u){return t(o,u,n,r)?(i=u)&&!1:void 0}),i=i||new u(o.selector,o.context,n,r),i.stopped=!1,i.run(),o},expire:function(n,r){var i=this;return e.each(u.queries,function(e,o){t(i,o,n,r)&&!i.stopped&&u.stop(o.id)}),i}});var u=e.livequery=function(n,t,r,i){var o=this;return o.selector=n,o.context=t,o.fn=r,o.fn2=i,o.elements=e([]),o.stopped=!1,o.id=u.queries.push(o)-1,r.$lqguid=r.$lqguid||u.guid++,i&&(i.$lqguid=i.$lqguid||u.guid++),o};u.prototype={stop:function(){var n=this;n.stopped||(n.fn2&&n.elements.each(n.fn2),n.elements=e([]),n.stopped=!0)},run:function(){var n=this;if(!n.stopped){var t=n.elements,u=e(n.selector,n.context),r=u.not(t),i=t.not(u);n.elements=u,r.each(n.fn),n.fn2&&i.each(n.fn2)}}},e.extend(u,{guid:0,queries:[],queue:[],running:!1,timeout:null,registered:[],checkQueue:function(){if(u.running&&u.queue.length)for(var e=u.queue.length;e--;)u.queries[u.queue.shift()].run()},pause:function(){u.running=!1},play:function(){u.running=!0,u.run()},registerPlugin:function(){e.each(arguments,function(n,t){if(e.fn[t]&&!(e.inArray(t,u.registered)>0)){var r=e.fn[t];e.fn[t]=function(){var e=r.apply(this,arguments);return u.run(),e},u.registered.push(t)}})},run:function(t){t!==n?e.inArray(t,u.queue)<0&&u.queue.push(t):e.each(u.queries,function(n){e.inArray(n,u.queue)<0&&u.queue.push(n)}),u.timeout&&clearTimeout(u.timeout),u.timeout=setTimeout(u.checkQueue,20)},stop:function(t){t!==n?u.queries[t].stop():e.each(u.queries,u.prototype.stop)}}),u.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html","prop","removeProp"),e(function(){u.play()})});
!function(e){"use strict";function t(t){var a=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(a))}function a(t){var a=t.target,r=e(a);if(!r.is("[type=submit],[type=image]")){var n=r.closest("[type=submit]");if(0===n.length)return;a=n[0]}var i=this;if(i.clk=a,"image"==a.type)if(void 0!==t.offsetX)i.clk_x=t.offsetX,i.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=r.offset();i.clk_x=t.pageX-o.left,i.clk_y=t.pageY-o.top}else i.clk_x=t.pageX-a.offsetLeft,i.clk_y=t.pageY-a.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function r(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n={};n.fileapi=void 0!==e("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData,e.fn.ajaxSubmit=function(t){function a(t){var a,r,n=e.param(t).split("&"),i=n.length,o=[];for(a=0;a<i;a++)n[a]=n[a].replace(/\+/g," "),r=n[a].split("="),o.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return o}function i(r){for(var n=new FormData,i=0;i<r.length;i++)n.append(r[i].name,r[i].value);if(t.extraData){var o=a(t.extraData);for(i=0;i<o.length;i++)o[i]&&n.append(o[i][0],o[i][1])}t.data=null;var u=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:s||"POST"});t.uploadProgress&&(u.xhr=function(){var e=jQuery.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var a=0,r=e.loaded||e.position,n=e.total;e.lengthComputable&&(a=Math.ceil(r/n*100)),t.uploadProgress(e,r,n,a)},!1),e}),u.data=null;var l=u.beforeSend;return u.beforeSend=function(e,t){t.data=n,l&&l.call(this,e,t)},e.ajax(u)}function o(a){function n(e){var t=e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document;return t}function i(){function t(){try{var e=n(v).readyState;r("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(a){r("Server abort: ",a," (",a.name,")"),o(D),T&&clearTimeout(T),T=void 0}}var a=c.attr("target"),i=c.attr("action");j.setAttribute("target",m),s||j.setAttribute("method","POST"),i!=f.url&&j.setAttribute("action",f.url),f.skipEncodingOverride||s&&!/post/i.test(s)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(T=setTimeout(function(){y=!0,o(k)},f.timeout));var u=[];try{if(f.extraData)for(var l in f.extraData)f.extraData.hasOwnProperty(l)&&(e.isPlainObject(f.extraData[l])&&f.extraData[l].hasOwnProperty("name")&&f.extraData[l].hasOwnProperty("value")?u.push(e('<input type="hidden" name="'+f.extraData[l].name+'">').val(f.extraData[l].value).appendTo(j)[0]):u.push(e('<input type="hidden" name="'+l+'">').val(f.extraData[l]).appendTo(j)[0]));f.iframeTarget||(h.appendTo("body"),v.attachEvent?v.attachEvent("onload",o):v.addEventListener("load",o,!1)),setTimeout(t,15);var d=document.createElement("form").submit;d.apply(j)}finally{j.setAttribute("action",i),a?j.setAttribute("target",a):c.removeAttr("target"),e(u).remove()}}function o(t){if(!g.aborted&&!F){try{M=n(v)}catch(a){r("cannot access response document: ",a),t=D}if(t===k&&g)return g.abort("timeout"),void S.reject(g,"timeout");if(t==D&&g)return g.abort("server abort"),void S.reject(g,"error","server abort");if(M&&M.location.href!=f.iframeSrc||y){v.detachEvent?v.detachEvent("onload",o):v.removeEventListener("load",o,!1);var i,s="success";try{if(y)throw"timeout";var u="xml"==f.dataType||M.XMLDocument||e.isXMLDoc(M);if(r("isXml="+u),!u&&window.opera&&(null===M.body||!M.body.innerHTML)&&--O)return r("requeing onLoad callback, DOM not available"),void setTimeout(o,250);var l=M.body?M.body:M.documentElement;g.responseText=l?l.innerHTML:null,g.responseXML=M.XMLDocument?M.XMLDocument:M,u&&(f.dataType="xml"),g.getResponseHeader=function(e){var t={"content-type":f.dataType};return t[e]},l&&(g.status=Number(l.getAttribute("status"))||g.status,g.statusText=l.getAttribute("statusText")||g.statusText);var c=(f.dataType||"").toLowerCase(),m=/(json|script|text)/.test(c);if(m||f.textarea){var p=M.getElementsByTagName("textarea")[0];if(p)g.responseText=p.value,g.status=Number(p.getAttribute("status"))||g.status,g.statusText=p.getAttribute("statusText")||g.statusText;else if(m){var x=M.getElementsByTagName("pre")[0],b=M.getElementsByTagName("body")[0];x?g.responseText=x.textContent?x.textContent:x.innerText:b&&(g.responseText=b.textContent?b.textContent:b.innerText)}}else"xml"==c&&!g.responseXML&&g.responseText&&(g.responseXML=X(g.responseText));try{L=_(g,c,f)}catch(t){s="parsererror",g.error=i=t||s}}catch(t){r("error caught: ",t),s="error",g.error=i=t||s}g.aborted&&(r("upload aborted"),s=null),g.status&&(s=g.status>=200&&g.status<300||304===g.status?"success":"error"),"success"===s?(f.success&&f.success.call(f.context,L,"success",g),S.resolve(g.responseText,"success",g),d&&e.event.trigger("ajaxSuccess",[g,f])):s&&(void 0===i&&(i=g.statusText),f.error&&f.error.call(f.context,g,s,i),S.reject(g,"error",i),d&&e.event.trigger("ajaxError",[g,f,i])),d&&e.event.trigger("ajaxComplete",[g,f]),d&&!--e.active&&e.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,g,s),F=!0,f.timeout&&clearTimeout(T),setTimeout(function(){f.iframeTarget||h.remove(),g.responseXML=null},100)}}}var u,l,f,d,m,h,v,g,x,b,y,T,j=c[0],w=!!e.fn.prop,S=e.Deferred();if(a)for(l=0;l<p.length;l++)u=e(p[l]),w?u.prop("disabled",!1):u.removeAttr("disabled");if(f=e.extend(!0,{},e.ajaxSettings,t),f.context=f.context||f,m="jqFormIO"+(new Date).getTime(),f.iframeTarget?(h=e(f.iframeTarget),b=h.attr("name"),b?m=b:h.attr("name",m)):(h=e('<iframe name="'+m+'" src="'+f.iframeSrc+'" />'),h.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=h[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var a="timeout"===t?"timeout":"aborted";r("aborting upload... "+a),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(n){}h.attr("src",f.iframeSrc),g.error=a,f.error&&f.error.call(f.context,g,a,t),d&&e.event.trigger("ajaxError",[g,f,a]),f.complete&&f.complete.call(f.context,g,a)}},d=f.global,d&&0===e.active++&&e.event.trigger("ajaxStart"),d&&e.event.trigger("ajaxSend",[g,f]),f.beforeSend&&f.beforeSend.call(f.context,g,f)===!1)return f.global&&e.active--,S.reject(),S;if(g.aborted)return S.reject(),S;x=j.clk,x&&(b=x.name,b&&!x.disabled&&(f.extraData=f.extraData||{},f.extraData[b]=x.value,"image"==x.type&&(f.extraData[b+".x"]=j.clk_x,f.extraData[b+".y"]=j.clk_y)));var k=1,D=2,A=e("meta[name=csrf-token]").attr("content"),E=e("meta[name=csrf-param]").attr("content");E&&A&&(f.extraData=f.extraData||{},f.extraData[E]=A),f.forceSync?i():setTimeout(i,10);var L,M,F,O=50,X=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},C=e.parseJSON||function(e){return window.eval("("+e+")")},_=function(t,a,r){var n=t.getResponseHeader("content-type")||"",i="xml"===a||!a&&n.indexOf("xml")>=0,o=i?t.responseXML:t.responseText;return i&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),r&&r.dataFilter&&(o=r.dataFilter(o,a)),"string"==typeof o&&("json"===a||!a&&n.indexOf("json")>=0?o=C(o):("script"===a||!a&&n.indexOf("javascript")>=0)&&e.globalEval(o)),o};return S}if(!this.length)return r("ajaxSubmit: skipping submit process - no element selected"),this;var s,u,l,c=this;"function"==typeof t&&(t={success:t}),s=this.attr("method"),u=this.attr("action"),l="string"==typeof u?e.trim(u):"",l=l||window.location.href||"",l&&(l=(l.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:l,async:!1,success:e.ajaxSettings.success,type:s||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var f={};if(this.trigger("form-pre-serialize",[this,t,f]),f.veto)return r("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return r("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=t.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var m,p=[],h=this.formToArray(t.semantic,p);if(t.data&&(t.extraData=t.data,m=e.param(t.data,d)),t.beforeSubmit&&t.beforeSubmit(h,this,t)===!1)return r("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[h,this,t,f]),f.veto)return r("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(h,d);m&&(v=v?v+"&"+m:m),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var g=[];if(t.resetForm&&g.push(function(){c.resetForm()}),t.clearForm&&g.push(function(){c.clearForm(t.includeHidden)}),!t.dataType&&t.target){var x=t.success||function(){};g.push(function(a){var r=t.replaceTarget?"replaceWith":"html";e(t.target)[r](a).each(x,arguments)})}else t.success&&g.push(t.success);t.success=function(e,a,r){for(var n=t.context||this,i=0,o=g.length;i<o;i++)g[i].apply(n,[e,a,r||c,c])};var b=e('input[type=file]:enabled[value!=""]',this),y=b.length>0,T="multipart/form-data",j=c.attr("enctype")==T||c.attr("encoding")==T,w=n.fileapi&&n.formdata;r("fileAPI :"+w);var S,k=(y||j)&&!w;t.iframe!==!1&&(t.iframe||k)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){S=o(h)}):S=o(h):S=(y||j)&&w?i(h):e.ajax(t),c.removeData("jqxhr").data("jqxhr",S);for(var D=0;D<p.length;D++)p[D]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!e.isReady&&i.s?(r("DOM not ready, queuing ajaxForm"),e(function(){e(i.s,i.c).ajaxForm(n)}),this):(r("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,a),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,t).bind("click.form-plugin",n,a)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,a){var r=[];if(0===this.length)return r;var i=this[0],o=t?i.getElementsByTagName("*"):i.elements;if(!o)return r;var s,u,l,c,f,d,m;for(s=0,d=o.length;s<d;s++)if(f=o[s],l=f.name)if(t&&i.clk&&"image"==f.type)f.disabled||i.clk!=f||(r.push({name:l,value:e(f).val(),type:f.type}),r.push({name:l+".x",value:i.clk_x},{name:l+".y",value:i.clk_y}));else if(c=e.fieldValue(f,!0),c&&c.constructor==Array)for(a&&a.push(f),u=0,m=c.length;u<m;u++)r.push({name:l,value:c[u]});else if(n.fileapi&&"file"==f.type&&!f.disabled){a&&a.push(f);var p=f.files;if(p.length)for(u=0;u<p.length;u++)r.push({name:l,value:p[u],type:f.type});else r.push({name:l,value:"",type:f.type})}else null!==c&&"undefined"!=typeof c&&(a&&a.push(f),r.push({name:l,value:c,type:f.type,required:f.required}));if(!t&&i.clk){var h=e(i.clk),v=h[0];l=v.name,l&&!v.disabled&&"image"==v.type&&(r.push({name:l,value:h.val()}),r.push({name:l+".x",value:i.clk_x},{name:l+".y",value:i.clk_y}))}return r},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var a=[];return this.each(function(){var r=this.name;if(r){var n=e.fieldValue(this,t);if(n&&n.constructor==Array)for(var i=0,o=n.length;i<o;i++)a.push({name:r,value:n[i]});else null!==n&&"undefined"!=typeof n&&a.push({name:this.name,value:n})}}),e.param(a)},e.fn.fieldValue=function(t){for(var a=[],r=0,n=this.length;r<n;r++){var i=this[r],o=e.fieldValue(i,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(a,o):a.push(o))}return a},e.fieldValue=function(t,a){var r=t.name,n=t.type,i=t.tagName.toLowerCase();if(void 0===a&&(a=!0),a&&(!r||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==i&&t.selectedIndex==-1))return null;if("select"==i){var o=t.selectedIndex;if(o<0)return null;for(var s=[],u=t.options,l="select-one"==n,c=l?o+1:u.length,f=l?o:0;f<c;f++){var d=u[f];if(d.selected){var m=d.value;if(m||(m=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),l)return m;s.push(m)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,n=this.tagName.toLowerCase();a.test(r)||"textarea"==n?this.value="":"checkbox"==r||"radio"==r?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==r?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone()):e(this).val(""):t&&(t===!0&&/hidden/.test(r)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var a=this.type;if("checkbox"==a||"radio"==a)this.checked=t;else if("option"==this.tagName.toLowerCase()){var r=e(this).parent("select");t&&r[0]&&"select-one"==r[0].type&&r.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}(jQuery);
!function(e){function t(){return e("<div/>")}var o=Math.abs,i=Math.max,n=Math.min,s=Math.round;e.imgAreaSelect=function(d,r){function a(e){return e+ye.left-be.left}function c(e){return e+ye.top-be.top}function l(e){return e-ye.left+be.left}function u(e){return e-ye.top+be.top}function h(e){return e.pageX-be.left}function f(e){return e.pageY-be.top}function m(e){var t=e||Q,o=e||X;return{x1:s(ve.x1*t),y1:s(ve.y1*o),x2:s(ve.x2*t),y2:s(ve.y2*o),width:s(ve.x2*t)-s(ve.x1*t),height:s(ve.y2*o)-s(ve.y1*o)}}function p(e,t,o,i,n){var d=n||Q,r=n||X;ve={x1:s(e/d||0),y1:s(t/r||0),x2:s(o/d||0),y2:s(i/r||0)},ve.width=ve.x2-ve.x1,ve.height=ve.y2-ve.y1}function y(){E&&le.width()&&(ye={left:s(le.offset().left),top:s(le.offset().top)},D=le.innerWidth(),R=le.innerHeight(),ye.top+=le.outerHeight()-R>>1,ye.left+=le.outerWidth()-D>>1,F=s(r.minWidth/Q)||0,G=s(r.minHeight/X)||0,J=s(n(r.maxWidth/Q||1<<24,D)),U=s(n(r.maxHeight/X||1<<24,R)),"1.3.2"!=e().jquery||"fixed"!=xe||we.getBoundingClientRect||(ye.top+=i(document.body.scrollTop,we.scrollTop),ye.left+=i(document.body.scrollLeft,we.scrollLeft)),be=/absolute|relative/.test($.css("position"))?{left:s($.offset().left)-$.scrollLeft(),top:s($.offset().top)-$.scrollTop()}:"fixed"==xe?{left:e(document).scrollLeft(),top:e(document).scrollTop()}:{left:0,top:0},L=a(0),j=c(0),(ve.x2>D||ve.y2>R)&&k())}function b(t){if(Z){switch(ue.css({left:a(ve.x1),top:c(ve.y1)}).add(he).width(re=ve.width).height(ae=ve.height),he.add(fe).add(pe).css({left:0,top:0}),fe.width(i(re-fe.outerWidth()+fe.innerWidth(),0)).height(i(ae-fe.outerHeight()+fe.innerHeight(),0)),e(me[0]).css({left:L,top:j,width:ve.x1,height:R}),e(me[1]).css({left:L+ve.x1,top:j,width:re,height:ve.y1}),e(me[2]).css({left:L+ve.x2,top:j,width:D-ve.x2,height:R}),e(me[3]).css({left:L+ve.x1,top:j+ve.y2,width:re,height:R-ve.y2}),re-=pe.outerWidth(),ae-=pe.outerHeight(),pe.length){case 8:e(pe[4]).css({left:re>>1}),e(pe[5]).css({left:re,top:ae>>1}),e(pe[6]).css({left:re>>1,top:ae}),e(pe[7]).css({top:ae>>1});case 4:pe.slice(1,3).css({left:re}),pe.slice(2,4).css({top:ae})}t!==!1&&(e.imgAreaSelect.onKeyPress!=ze&&e(document).unbind(e.imgAreaSelect.keyPress,e.imgAreaSelect.onKeyPress),r.keys&&e(document)[e.imgAreaSelect.keyPress](e.imgAreaSelect.onKeyPress=ze)),ke&&fe.outerWidth()-fe.innerWidth()==2&&(fe.css("margin",0),setTimeout(function(){fe.css("margin","auto")},0))}}function g(e){y(),b(e),_=a(ve.x1),ee=c(ve.y1),te=a(ve.x2),oe=c(ve.y2)}function x(e,t){r.fadeSpeed?e.fadeOut(r.fadeSpeed,t):e.hide()}function v(e){var t=l(h(e))-ve.x1,o=u(f(e))-ve.y1;ce||(y(),ce=!0,ue.one("mouseout",function(){ce=!1})),Y="",r.resizable&&(o<=r.resizeMargin?Y="n":o>=ve.height-r.resizeMargin&&(Y="s"),t<=r.resizeMargin?Y+="w":t>=ve.width-r.resizeMargin&&(Y+="e")),ue.css("cursor",Y?Y+"-resize":r.movable?"move":""),T&&T.toggle()}function w(t){e("body").css("cursor",""),(r.autoHide||ve.width*ve.height==0)&&x(ue.add(me),function(){e(this).hide()}),e(document).unbind("mousemove",C),ue.mousemove(v),r.onSelectEnd(d,m())}function S(t){return 1==t.which&&(y(),Y?(e("body").css("cursor",Y+"-resize"),_=a(ve[/w/.test(Y)?"x2":"x1"]),ee=c(ve[/n/.test(Y)?"y2":"y1"]),e(document).mousemove(C).one("mouseup",w),ue.unbind("mousemove",v)):r.movable?(q=L+ve.x1-h(t),B=j+ve.y1-f(t),ue.unbind("mousemove",v),e(document).mousemove(W).one("mouseup",function(){r.onSelectEnd(d,m()),e(document).unbind("mousemove",W),ue.mousemove(v)})):le.mousedown(t),!1)}function z(e){V&&(e?(te=i(L,n(L+D,_+o(oe-ee)*V*(te>_||-1))),oe=s(i(j,n(j+R,ee+o(te-_)/V*(oe>ee||-1)))),te=s(te)):(oe=i(j,n(j+R,ee+o(te-_)/V*(oe>ee||-1))),te=s(i(L,n(L+D,_+o(oe-ee)*V*(te>_||-1)))),oe=s(oe)))}function k(){_=n(_,L+D),ee=n(ee,j+R),o(te-_)<F&&(te=_-F*(te<_||-1),te<L?_=L+F:te>L+D&&(_=L+D-F)),o(oe-ee)<G&&(oe=ee-G*(oe<ee||-1),oe<j?ee=j+G:oe>j+R&&(ee=j+R-G)),te=i(L,n(te,L+D)),oe=i(j,n(oe,j+R)),z(o(te-_)<o(oe-ee)*V),o(te-_)>J&&(te=_-J*(te<_||-1),z()),o(oe-ee)>U&&(oe=ee-U*(oe<ee||-1),z(!0)),ve={x1:l(n(_,te)),x2:l(i(_,te)),y1:u(n(ee,oe)),y2:u(i(ee,oe)),width:o(te-_),height:o(oe-ee)},b(),r.onSelectChange(d,m())}function C(e){return te=/w|e|^$/.test(Y)||V?h(e):a(ve.x2),oe=/n|s|^$/.test(Y)||V?f(e):c(ve.y2),k(),!1}function A(t,o){te=(_=t)+ve.width,oe=(ee=o)+ve.height,e.extend(ve,{x1:l(_),y1:u(ee),x2:l(te),y2:u(oe)}),b(),r.onSelectChange(d,m())}function W(e){return _=i(L,n(q+h(e),L+D-ve.width)),ee=i(j,n(B+f(e),j+R-ve.height)),A(_,ee),e.preventDefault(),!1}function I(){e(document).unbind("mousemove",I),y(),te=_,oe=ee,k(),Y="",me.is(":visible")||ue.add(me).hide().fadeIn(r.fadeSpeed||0),Z=!0,e(document).unbind("mouseup",K).mousemove(C).one("mouseup",w),ue.unbind("mousemove",v),r.onSelectStart(d,m())}function K(){e(document).unbind("mousemove",I).unbind("mouseup",K),x(ue.add(me)),p(l(_),u(ee),l(_),u(ee)),this instanceof e.imgAreaSelect||(r.onSelectChange(d,m()),r.onSelectEnd(d,m()))}function P(t){return 1==t.which&&!me.is(":animated")&&(y(),q=_=h(t),B=ee=f(t),e(document).mousemove(I).mouseup(K),!1)}function N(){g(!1)}function H(){E=!0,O(r=e.extend({classPrefix:"imgareaselect",movable:!0,parent:"body",resizable:!0,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},r)),ue.add(me).css({visibility:""}),r.show&&(Z=!0,y(),b(),ue.add(me).hide().fadeIn(r.fadeSpeed||0)),setTimeout(function(){r.onInit(d,m())},0)}function M(e,t){for(var o in t)void 0!==r[o]&&e.css(t[o],r[o])}function O(o){if(o.parent&&($=e(o.parent)).append(ue.add(me)),e.extend(r,o),y(),null!=o.handles){for(pe.remove(),pe=e([]),se=o.handles?"corners"==o.handles?4:8:0;se--;)pe=pe.add(t());pe.addClass(r.classPrefix+"-handle").css({position:"absolute",fontSize:0,zIndex:ge+1||1}),!parseInt(pe.css("width"))>=0&&pe.width(5).height(5),(de=r.borderWidth)&&pe.css({borderWidth:de,borderStyle:"solid"}),M(pe,{borderColor1:"border-color",borderColor2:"background-color",borderOpacity:"opacity"})}for(Q=r.imageWidth/D||1,X=r.imageHeight/R||1,null!=o.x1&&(p(o.x1,o.y1,o.x2,o.y2),o.show=!o.hide),o.keys&&(r.keys=e.extend({shift:1,ctrl:"resize"},o.keys)),me.addClass(r.classPrefix+"-outer"),he.addClass(r.classPrefix+"-selection"),se=0;se++<4;)e(fe[se-1]).addClass(r.classPrefix+"-border"+se);M(he,{selectionColor:"background-color",selectionOpacity:"opacity"}),M(fe,{borderOpacity:"opacity",borderWidth:"border-width"}),M(me,{outerColor:"background-color",outerOpacity:"opacity"}),(de=r.borderColor1)&&e(fe[0]).css({borderStyle:"solid",borderColor:de}),(de=r.borderColor2)&&e(fe[1]).css({borderStyle:"dashed",borderColor:de}),ue.append(he.add(fe).add(T)).append(pe),ke&&((de=(me.css("filter")||"").match(/opacity=(\d+)/))&&me.css("opacity",de[1]/100),(de=(fe.css("filter")||"").match(/opacity=(\d+)/))&&fe.css("opacity",de[1]/100)),o.hide?x(ue.add(me)):o.show&&E&&(Z=!0,ue.add(me).fadeIn(r.fadeSpeed||0),g()),V=(ne=(r.aspectRatio||"").split(/:/))[0]/ne[1],le.add(me).unbind("mousedown",P),r.disable||r.enable===!1?(ue.unbind("mousemove",v).unbind("mousedown",S),e(window).unbind("resize",N)):((r.enable||r.disable===!1)&&((r.resizable||r.movable)&&ue.mousemove(v).mousedown(S),e(window).resize(N)),r.persistent||le.add(me).mousedown(P)),r.enable=r.disable=void 0}var E,T,L,j,D,R,$,q,B,Q,X,Y,F,G,J,U,V,Z,_,ee,te,oe,ie,ne,se,de,re,ae,ce,le=e(d),ue=t(),he=t(),fe=t().add(t()).add(t()).add(t()),me=t().add(t()).add(t()).add(t()),pe=e([]),ye={left:0,top:0},be={left:0,top:0},ge=0,xe="absolute",ve={x1:0,y1:0,x2:0,y2:0,width:0,height:0},we=document.documentElement,Se=navigator.userAgent,ze=function(e){var t,o,s=r.keys,d=e.keyCode;if(t=isNaN(s.alt)||!e.altKey&&!e.originalEvent.altKey?!isNaN(s.ctrl)&&e.ctrlKey?s.ctrl:!isNaN(s.shift)&&e.shiftKey?s.shift:isNaN(s.arrows)?10:s.arrows:s.alt,"resize"==s.arrows||"resize"==s.shift&&e.shiftKey||"resize"==s.ctrl&&e.ctrlKey||"resize"==s.alt&&(e.altKey||e.originalEvent.altKey)){switch(d){case 37:t=-t;case 39:o=i(_,te),_=n(_,te),te=i(o+t,_),z();break;case 38:t=-t;case 40:o=i(ee,oe),ee=n(ee,oe),oe=i(o+t,ee),z(!0);break;default:return}k()}else switch(_=n(_,te),ee=n(ee,oe),d){case 37:A(i(_-t,L),ee);break;case 38:A(_,i(ee-t,j));break;case 39:A(_+n(t,D-l(te)),ee);break;case 40:A(_,ee+n(t,R-u(oe)));break;default:return}return!1};this.remove=function(){O({disable:!0}),ue.add(me).remove()},this.getOptions=function(){return r},this.setOptions=O,this.getSelection=m,this.setSelection=p,this.cancelSelection=K,this.update=g;var ke=(/msie ([\w.]+)/i.exec(Se)||[])[1],Ce=/opera/i.test(Se),Ae=/webkit/i.test(Se)&&!/chrome/i.test(Se);for(ie=le;ie.length;)ge=i(ge,isNaN(ie.css("z-index"))?ge:ie.css("z-index")),"fixed"==ie.css("position")&&(xe="fixed"),ie=ie.parent(":not(body)");ge=r.zIndex||ge,ke&&le.attr("unselectable","on"),e.imgAreaSelect.keyPress=ke||Ae?"keydown":"keypress",Ce&&(T=t().css({width:"100%",height:"100%",position:"absolute",zIndex:ge+2||2})),ue.add(me).css({visibility:"hidden",position:xe,overflow:"hidden",zIndex:ge||"0"}),ue.css({zIndex:ge+2||2}),he.add(fe).css({position:"absolute",fontSize:0}),d.complete||"complete"==d.readyState||!le.is("img")?H():le.one("load",H),!E&&ke&&ke>=7&&(d.src=d.src)},e.fn.imgAreaSelect=function(t){return t=t||{},this.each(function(){e(this).data("imgAreaSelect")?t.remove?(e(this).data("imgAreaSelect").remove(),e(this).removeData("imgAreaSelect")):e(this).data("imgAreaSelect").setOptions(t):t.remove||(void 0===t.enable&&void 0===t.disable&&(t.enable=!0),e(this).data("imgAreaSelect",new e.imgAreaSelect(this,t)))}),t.instance?e(this).data("imgAreaSelect"):this}}(jQuery);
var qq=function(e){"use strict";return{hide:function(){return e.style.display="none",this},attach:function(t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),function(){qq(e).detach(t,n)}},detach:function(t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n),this},contains:function(t){return e===t||(e.contains?e.contains(t):!!(8&t.compareDocumentPosition(e)))},insertBefore:function(t){return t.parentNode.insertBefore(e,t),this},remove:function(){return e.parentNode.removeChild(e),this},css:function(t){return null!==t.opacity&&"string"!=typeof e.style.opacity&&"undefined"!=typeof e.filters&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t),this},hasClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return n.test(e.className)},addClass:function(t){return qq(e).hasClass(t)||(e.className+=" "+t),this},removeClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(t){var n,o=[];return e.querySelectorAll?e.querySelectorAll("."+t):(n=e.getElementsByTagName("*"),qq.each(n,function(e,n){qq(n).hasClass(t)&&o.push(n)}),o)},children:function(){for(var t=[],n=e.firstChild;n;)1===n.nodeType&&t.push(n),n=n.nextSibling;return t},setText:function(t){return e.innerText=t,e.textContent=t,this},clearText:function(){return qq(e).setText("")}}};qq.log=function(e,t){"use strict";window.console&&(t&&"info"!==t?window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e):window.console.log(e))},qq.isObject=function(e){"use strict";return null!==e&&e&&"object"==typeof e&&e.constructor===Object},qq.isFunction=function(e){"use strict";return"function"==typeof e},qq.isString=function(e){"use strict";return"[object String]"===Object.prototype.toString.call(e)},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.isFileOrInput=function(e){"use strict";if(window.File&&e instanceof File)return!0;if(window.HTMLInputElement){if(e instanceof HTMLInputElement&&e.type&&"file"===e.type.toLowerCase())return!0}else if(e.tagName&&"input"===e.tagName.toLowerCase()&&e.type&&"file"===e.type.toLowerCase())return!0;return!1},qq.isBlob=function(e){"use strict";return window.Blob&&"[object Blob]"===Object.prototype.toString.call(e)},qq.isXhrUploadSupported=function(){"use strict";var e=document.createElement("input");return e.type="file",void 0!==e.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&"undefined"!=typeof(new XMLHttpRequest).upload},qq.isFolderDropSupported=function(e){"use strict";return e.items&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){"use strict";return!qq.android()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.extend=function(e,t,n){"use strict";qq.each(t,function(t,o){n&&qq.isObject(o)?(void 0===e[t]&&(e[t]={}),qq.extend(e[t],o,!0)):e[t]=o})},qq.indexOf=function(e,t,n){"use strict";if(e.indexOf)return e.indexOf(t,n);n=n||0;var o=e.length;for(n<0&&(n+=o);n<o;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){"use strict";return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})},qq.ie=function(){"use strict";return navigator.userAgent.indexOf("MSIE")!==-1},qq.ie10=function(){"use strict";return navigator.userAgent.indexOf("MSIE 10")!==-1},qq.safari=function(){"use strict";return void 0!==navigator.vendor&&navigator.vendor.indexOf("Apple")!==-1},qq.chrome=function(){"use strict";return void 0!==navigator.vendor&&navigator.vendor.indexOf("Google")!==-1},qq.firefox=function(){"use strict";return navigator.userAgent.indexOf("Mozilla")!==-1&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){"use strict";return"Win32"===navigator.platform},qq.android=function(){"use strict";return navigator.userAgent.toLowerCase().indexOf("android")!==-1},qq.preventDefault=function(e){"use strict";e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=function(){"use strict";var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;return e.removeChild(n),n}}(),qq.each=function(e,t){"use strict";var n,o;if(e)for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&(o=t(n,e[n]),o===!1))break},qq.obj2url=function(e,t,n){"use strict";var o,i,s=[],r="&",a=function(e,n){var o=t?/\[\]$/.test(t)?t:t+"["+n+"]":n;"undefined"!==o&&"undefined"!==n&&s.push("object"==typeof e?qq.obj2url(e,o,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(o)+"="+encodeURIComponent(e()):encodeURIComponent(o)+"="+encodeURIComponent(e))};if(!n&&t)r=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",s.push(t),s.push(qq.obj2url(e));else if("[object Array]"===Object.prototype.toString.call(e)&&"undefined"!=typeof e)for(o=-1,i=e.length;o<i;o+=1)a(e[o],o);else if("undefined"!=typeof e&&null!==e&&"object"==typeof e)for(o in e)e.hasOwnProperty(o)&&a(e[o],o);else s.push(encodeURIComponent(t)+"="+encodeURIComponent(e));return t?s.join(r):s.join(r).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,t,n){"use strict";return t||(t=new FormData),qq.each(e,function(e,o){e=n?n+"["+e+"]":e,qq.isObject(o)?qq.obj2FormData(o,t,e):qq.isFunction(o)?t.append(e,o()):t.append(e,o)}),t},qq.obj2Inputs=function(e,t){"use strict";var n;return t||(t=document.createElement("form")),qq.obj2FormData(e,{append:function(e,o){n=document.createElement("input"),n.setAttribute("name",e),n.setAttribute("value",o),t.appendChild(n)}}),t},qq.setCookie=function(e,t,n){var o=new Date,i="";n&&(o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toGMTString()),document.cookie=e+"="+t+i+"; path=/"},qq.getCookie=function(e){for(var t,n=e+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(t=o[i];" "==t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(n))return t.substring(n.length,t.length)}},qq.getCookieNames=function(e){var t=document.cookie.split(";"),n=[];return qq.each(t,function(t,o){o=qq.trimStr(o);var i=o.indexOf("=");o.match(e)&&n.push(o.substr(0,i))}),n},qq.deleteCookie=function(e){qq.setCookie(e,"",-1)},qq.areCookiesEnabled=function(){var e=1e5*Math.random(),t="qqCookieTest:"+e;return qq.setCookie(t,1),!!qq.getCookie(t)&&(qq.deleteCookie(t),!0)},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.DisposeSupport=function(){"use strict";var e=[];return{dispose:function(){var t;do t=e.shift(),t&&t();while(t)},attach:function(){var e=arguments;this.addDisposer(qq(e[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}},qq.supportedFeatures=function(){function e(){var e,t=!0;try{e=document.createElement("input"),e.type="file",qq(e).hide(),e.disabled&&(t=!1)}catch(n){t=!1}return t}function t(){return qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/)}function n(){return qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)}var o,i,s,r,a,l,u,d;return o=e(),i=o&&qq.isXhrUploadSupported(),s=i&&t(),r=i&&qq.isFileChunkingSupported(),a=i&&r&&qq.areCookiesEnabled(),l=i&&n(),u=o&&(void 0!==window.postMessage||i),d=i,{uploading:o,ajaxUploading:i,fileDrop:i,folderDrop:s,chunking:r,resume:a,uploadCustomHeaders:i,uploadNonMultipart:i,itemSizeValidation:i,uploadViaPaste:l,progressBar:i,uploadCors:u,deleteFileCors:d}}(),qq.Promise=function(){"use strict";var e,t,n,o,i,s=0;return{then:function(i,r){return 0===s?(n=i,o=r):s===-1&&r?r(t):i&&i(e),this},done:function(e){return 0===s?i=e:e(),this},success:function(t){return s=1,e=t,n&&n(t),i&&i(),this},failure:function(e){return s=-1,t=e,o&&o(e),i&&i(),this}}},qq.UploadButton=function(e){"use strict";function t(){var e=document.createElement("input");return i.multiple&&e.setAttribute("multiple","multiple"),i.acceptFiles&&e.setAttribute("accept",i.acceptFiles),e.setAttribute("type","file"),e.setAttribute("name",i.name),qq(e).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),i.element.appendChild(e),o.attach(e,"change",function(){i.onChange(e)}),o.attach(e,"mouseover",function(){qq(i.element).addClass(i.hoverClass)}),o.attach(e,"mouseout",function(){qq(i.element).removeClass(i.hoverClass)}),o.attach(e,"focus",function(){qq(i.element).addClass(i.focusClass)}),o.attach(e,"blur",function(){qq(i.element).removeClass(i.focusClass)}),window.attachEvent&&e.setAttribute("tabIndex","-1"),e}var n,o=new qq.DisposeSupport,i={element:null,multiple:!1,acceptFiles:null,name:"file",onChange:function(e){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};return qq.extend(i,e),qq(i.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),n=t(),{getInput:function(){return n},reset:function(){n.parentNode&&qq(n).remove(),qq(i.element).removeClass(i.focusClass),n=t()}}},qq.PasteSupport=function(e){"use strict";function t(e){return e.type&&0===e.type.indexOf("image/")}function n(){qq(i.targetElement).attach("paste",function(e){var n=e.clipboardData;n&&qq.each(n.items,function(e,n){if(t(n)){var o=n.getAsFile();i.callbacks.pasteReceived(o)}})})}function o(){s&&s()}var i,s;return i={targetElement:null,callbacks:{log:function(e,t){},pasteReceived:function(e){}}},qq.extend(i,e),n(),{reset:function(){o()}}},qq.FineUploaderBasic=function(e){this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{endpoint:"/server/upload",params:{},paramsInBody:!0,customHeaders:{},forceMultipart:!0,inputName:"qqfile",uuidName:"qquuid",totalFileSizeName:"qqtotalfilesize"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0},callbacks:{onSubmit:function(e,t){},onSubmitted:function(e,t){},onComplete:function(e,t,n,o){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onResume:function(e,t,n){},onProgress:function(e,t,n,o){},onError:function(e,t,n,o){},onAutoRetry:function(e,t,n){},onManualRetry:function(e,t){},onValidateBatch:function(e){},onValidate:function(e){},onSubmitDelete:function(e){},onDelete:function(e){},onDeleteComplete:function(e,t,n){},onPasteReceived:function(e){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,partSize:2e6,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(e){return e.length>33&&(e=e.slice(0,19)+"..."+e.slice(-14)),e},text:{defaultResponseError:"Upload failure reason unknown",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1},blobs:{defaultName:"misc_data",paramNames:{name:"qqblobname"}},paste:{targetElement:null,defaultName:"pasted_image"}},qq.extend(this._options,e,!0),this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._filesInProgress=[],this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._paramsStore=this._createParamsStore("request"),this._deleteFileParamsStore=this._createParamsStore("deleteFile"),this._endpointStore=this._createEndpointStore("request"),this._deleteFileEndpointStore=this._createEndpointStore("deleteFile"),this._handler=this._createUploadHandler(),this._deleteHandler=this._createDeleteHandler(),this._options.button&&(this._button=this._createUploadButton(this._options.button)),this._options.paste.targetElement&&(this._pasteHandler=this._createPasteHandler()),this._preventLeaveInProgress()},qq.FineUploaderBasic.prototype={log:function(e,t){!this._options.debug||t&&"info"!==t?t&&"info"!==t&&qq.log("[FineUploader] "+e,t):qq.log("[FineUploader] "+e)},setParams:function(e,t){null==t?this._options.request.params=e:this._paramsStore.setParams(e,t)},setDeleteFileParams:function(e,t){null==t?this._options.deleteFile.params=e:this._deleteFileParamsStore.setParams(e,t)},setEndpoint:function(e,t){null==t?this._options.request.endpoint=e:this._endpointStore.setEndpoint(e,t)},getInProgress:function(){return this._filesInProgress.length},getNetUploads:function(){return this._netUploaded},uploadStoredFiles:function(){"use strict";for(var e;this._storedIds.length;)e=this._storedIds.shift(),this._filesInProgress.push(e),this._handler.upload(e)},clearStoredFiles:function(){this._storedIds=[]},retry:function(e){return!!this._onBeforeManualRetry(e)&&(this._netUploadedOrQueued++,this._handler.retry(e),!0)},cancel:function(e){this._handler.cancel(e)},cancelAll:function(){var e=[],t=this;qq.extend(e,this._storedIds),qq.each(e,function(e,n){t.cancel(n)}),this._handler.cancelAll()},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._filesInProgress=[],this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._button.reset(),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._pasteHandler&&this._pasteHandler.reset()},addFiles:function(e,t,n){var o,i,s=this,r=[];if(e){for(window.FileList&&e instanceof FileList||(e=[].concat(e)),o=0;o<e.length;o+=1)i=e[o],qq.isFileOrInput(i)?r.push(i):s.log(i+" is not a File or INPUT element!  Ignoring!","warn");this.log("Processing "+r.length+" files or inputs..."),this._uploadFileOrBlobDataList(r,t,n)}},addBlobs:function(e,t,n){if(e){var o=[].concat(e),i=[],s=this;qq.each(o,function(e,t){qq.isBlob(t)&&!qq.isFileOrInput(t)?i.push({blob:t,name:s._options.blobs.defaultName}):qq.isObject(t)&&t.blob&&t.name?i.push(t):s.log("addBlobs: entry at index "+e+" is not a Blob or a BlobData object","error")}),this._uploadFileOrBlobDataList(i,t,n)}else this.log("undefined or non-array parameter passed into addBlobs","error")},getUuid:function(e){return this._handler.getUuid(e)},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._handler.getSize(e)},getName:function(e){return this._handler.getName(e)},getFile:function(e){return this._handler.getFile(e)},deleteFile:function(e){this._onSubmitDelete(e)},setDeleteFileEndpoint:function(e,t){null==t?this._options.deleteFile.endpoint=e:this._deleteFileEndpointStore.setEndpoint(e,t)},_createUploadButton:function(e){var t=this,n=new qq.UploadButton({element:e,multiple:this._options.multiple&&qq.supportedFeatures.ajaxUploading,acceptFiles:this._options.validation.acceptFiles,onChange:function(e){t._onInputChange(e)},hoverClass:this._options.classes.buttonHover,focusClass:this._options.classes.buttonFocus});return this._disposeSupport.addDisposer(function(){n.dispose()}),n},_createUploadHandler:function(){var e=this;return new qq.UploadHandler({debug:this._options.debug,forceMultipart:this._options.request.forceMultipart,maxConnections:this._options.maxConnections,customHeaders:this._options.request.customHeaders,inputName:this._options.request.inputName,uuidParamName:this._options.request.uuidName,totalFileSizeParamName:this._options.request.totalFileSizeName,cors:this._options.cors,demoMode:this._options.demoMode,paramsInBody:this._options.request.paramsInBody,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:function(t,n){e.log(t,n)},onProgress:function(t,n,o,i){e._onProgress(t,n,o,i),e._options.callbacks.onProgress(t,n,o,i)},onComplete:function(t,n,o,i){e._onComplete(t,n,o,i),e._options.callbacks.onComplete(t,n,o,i)},onCancel:function(t,n){e._onCancel(t,n),e._options.callbacks.onCancel(t,n)},onUpload:function(t,n){e._onUpload(t,n),e._options.callbacks.onUpload(t,n)},onUploadChunk:function(t,n,o){e._options.callbacks.onUploadChunk(t,n,o)},onResume:function(t,n,o){return e._options.callbacks.onResume(t,n,o)},onAutoRetry:function(t,n,o,i){return e._preventRetries[t]=o[e._options.retry.preventRetryResponseProperty],!!e._shouldAutoRetry(t,n,o)&&(e._maybeParseAndSendUploadError(t,n,o,i),e._options.callbacks.onAutoRetry(t,n,e._autoRetries[t]+1),e._onBeforeAutoRetry(t,n),e._retryTimeouts[t]=setTimeout(function(){e._onAutoRetry(t,n,o)},1e3*e._options.retry.autoAttemptDelay),!0)}})},_createDeleteHandler:function(){var e=this;return new qq.DeleteFileAjaxRequestor({maxConnections:this._options.maxConnections,customHeaders:this._options.deleteFile.customHeaders,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,demoMode:this._options.demoMode,cors:this._options.cors,log:function(t,n){e.log(t,n)},onDelete:function(t){e._onDelete(t),e._options.callbacks.onDelete(t)},onDeleteComplete:function(t,n,o){e._onDeleteComplete(t,n,o),e._options.callbacks.onDeleteComplete(t,n,o)}})},_createPasteHandler:function(){var e=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:function(t,n){e.log(t,n)},pasteReceived:function(t){var n=e._options.callbacks.onPasteReceived,o=n(t);o&&o.then?o.then(function(n){e._handlePasteSuccess(t,n)},function(t){e.log("Ignoring pasted image per paste received callback.  Reason = '"+t+"'")}):e._handlePasteSuccess(t)}}})},_handlePasteSuccess:function(e,t){var n=e.type.split("/")[1],o=t;null==o&&(o=this._options.paste.defaultName),o+="."+n,this.addBlobs({name:o,blob:e})},_preventLeaveInProgress:function(){var e=this;this._disposeSupport.attach(window,"beforeunload",function(t){if(e._filesInProgress.length){var t=t||window.event;return t.returnValue=e._options.messages.onLeave,e._options.messages.onLeave}})},_onSubmit:function(e,t){this._netUploadedOrQueued++,this._options.autoUpload&&this._filesInProgress.push(e)},_onProgress:function(e,t,n,o){},_onComplete:function(e,t,n,o){n.success?this._netUploaded++:this._netUploadedOrQueued--,this._removeFromFilesInProgress(e),this._maybeParseAndSendUploadError(e,t,n,o)},_onCancel:function(e,t){this._netUploadedOrQueued--,this._removeFromFilesInProgress(e),clearTimeout(this._retryTimeouts[e]);var n=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&n>=0&&this._storedIds.splice(n,1)},_isDeletePossible:function(){return this._options.deleteFile.enabled&&(!this._options.cors.expected||qq.supportedFeatures.deleteFileCors)},_onSubmitDelete:function(e){return this._isDeletePossible()?void(this._options.callbacks.onSubmitDelete(e)!==!1&&this._deleteHandler.sendDelete(e,this.getUuid(e))):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onDelete:function(e){},_onDeleteComplete:function(e,t,n){var o=this._handler.getName(e);n?(this.log("Delete request for '"+o+"' has failed.","error"),this._options.callbacks.onError(e,o,"Delete request failed with response code "+t.status,t)):(this._netUploadedOrQueued--,this._netUploaded--,this.log("Delete request for '"+o+"' has succeeded."))},_removeFromFilesInProgress:function(e){var t=qq.indexOf(this._filesInProgress,e);t>=0&&this._filesInProgress.splice(t,1)},_onUpload:function(e,t){},_onInputChange:function(e){qq.supportedFeatures.ajaxUploading?this.addFiles(e.files):this.addFiles(e),this._button.reset()},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onAutoRetry:function(e,t,n){this.log("Retrying "+t+"..."),this._autoRetries[e]++,this._handler.retry(e)},_shouldAutoRetry:function(e,t,n){return!(this._preventRetries[e]||!this._options.retry.enableAuto)&&(void 0===this._autoRetries[e]&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts)},_onBeforeManualRetry:function(e){var t=this._options.validation.itemLimit;if(this._preventRetries[e])return this.log("Retries are forbidden for id "+e,"warn"),!1;if(this._handler.isValid(e)){var n=this._handler.getName(e);return this._options.callbacks.onManualRetry(e,n)!==!1&&(t>0&&this._netUploadedOrQueued+1>t?(this._itemError("retryFailTooManyItems",""),!1):(this.log("Retrying upload for '"+n+"' (id: "+e+")..."),this._filesInProgress.push(e),!0))}return this.log("'"+e+"' is not a valid file ID","error"),!1},_maybeParseAndSendUploadError:function(e,t,n,o){if(!n.success)if(o&&200!==o.status&&!n.error)this._options.callbacks.onError(e,t,"XHR returned response code "+o.status,o);else{var i=n.error?n.error:this._options.text.defaultResponseError;this._options.callbacks.onError(e,t,i,o)}},_uploadFileOrBlobDataList:function(e,t,n){var o,i=this._getValidationDescriptors(e),s=this._isBatchValid(i);if(s)if(e.length>0){for(o=0;o<e.length;o++)if(this._validateFileOrBlobData(e[o]))this._upload(e[o],t,n);else if(this._options.validation.stopOnFirstInvalidFile)return}else this._itemError("noFilesError","")},_upload:function(e,t,n){var o=this._handler.add(e),i=this._handler.getName(o);t&&this.setParams(t,o),n&&this.setEndpoint(n,o),this._options.callbacks.onSubmit(o,i)!==!1&&(this._onSubmit(o,i),this._options.callbacks.onSubmitted(o,i),this._options.autoUpload?this._handler.upload(o):this._storeForLater(o))},_storeForLater:function(e){this._storedIds.push(e)},_isBatchValid:function(e){var t,n=this._options.validation.itemLimit,o=this._netUploadedOrQueued+e.length,i=this._options.callbacks.onValidateBatch(e)!==!1;return i&&(0===n||o<=n?i=!0:(i=!1,t=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,o).replace(/\{itemLimit\}/g,n),this._batchError(t))),i},_validateFileOrBlobData:function(e){var t,n,o;return t=this._getValidationDescriptor(e),n=t.name,o=t.size,this._options.callbacks.onValidate(t)!==!1&&(qq.isFileOrInput(e)&&!this._isAllowedExtension(n)?(this._itemError("typeError",n),!1):0===o?(this._itemError("emptyError",n),!1):o&&this._options.validation.sizeLimit&&o>this._options.validation.sizeLimit?(this._itemError("sizeError",n),!1):!(o&&o<this._options.validation.minSizeLimit)||(this._itemError("minSizeError",n),!1))},_itemError:function(e,t){function n(e,t){s=s.replace(e,t)}var o,i,s=this._options.messages[e],r=[],a=[].concat(t),l=a[0];return qq.each(this._options.validation.allowedExtensions,function(e,t){qq.isString(t)&&r.push(t)}),o=r.join(", ").toLowerCase(),n("{file}",this._options.formatFileName(l)),n("{extensions}",o),n("{sizeLimit}",this._formatSize(this._options.validation.sizeLimit)),n("{minSizeLimit}",this._formatSize(this._options.validation.minSizeLimit)),i=s.match(/(\{\w+\})/g),null!==i&&qq.each(i,function(e,t){n(t,a[e])}),this._options.callbacks.onError(null,l,s),s},_batchError:function(e){this._options.callbacks.onError(null,null,e)},_isAllowedExtension:function(e){var t=this._options.validation.allowedExtensions,n=!1;return!t.length||(qq.each(t,function(t,o){if(qq.isString(o)){var i=new RegExp("\\."+o+"$","i");if(null!=e.match(i))return n=!0,!1}}),n)},_formatSize:function(e){var t=-1;do e/=1024,t++;while(e>99);return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_wrapCallbacks:function(){var e,t;e=this,t=function(t,n,o){try{return n.apply(e,o)}catch(i){e.log("Caught exception in '"+t+"' callback - "+i.message,"error")}};for(var n in this._options.callbacks)!function(){var o,i;o=n,i=e._options.callbacks[o],e._options.callbacks[o]=function(){return t(o,i,arguments)}}()},_parseFileOrBlobDataName:function(e){var t;return t=qq.isFileOrInput(e)?e.value?e.value.replace(/.*(\/|\\)/,""):null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name:e.name},_parseFileOrBlobDataSize:function(e){var t;return qq.isFileOrInput(e)?e.value||(t=null!==e.fileSize&&void 0!==e.fileSize?e.fileSize:e.size):t=e.blob.size,t},_getValidationDescriptor:function(e){var t,n,o;return o={},t=this._parseFileOrBlobDataName(e),n=this._parseFileOrBlobDataSize(e),o.name=t,void 0!==n&&(o.size=n),o},_getValidationDescriptors:function(e){var t=this,n=[];return qq.each(e,function(e,o){n.push(t._getValidationDescriptor(o))}),n},_createParamsStore:function(e){var t={},n=this;return{setParams:function(e,n){var o={};qq.extend(o,e),t[n]=o},getParams:function(o){var i={};return null!=o&&t[o]?qq.extend(i,t[o]):qq.extend(i,n._options[e].params),i},remove:function(e){return delete t[e]},reset:function(){t={}}}},_createEndpointStore:function(e){var t={},n=this;return{setEndpoint:function(e,n){t[n]=e},getEndpoint:function(o){return null!=o&&t[o]?t[o]:n._options[e].endpoint},remove:function(e){return delete t[e]},reset:function(){t={}}}}},qq.DragAndDrop=function(e){"use strict";function t(e){a.callbacks.dropLog("Grabbed "+e.length+" dropped files."),l.dropDisabled(!1),a.callbacks.processingDroppedFilesComplete(e)}function n(e){var t,o,i=new qq.Promise;return e.isFile?e.file(function(e){u.push(e),i.success()},function(t){a.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+t.code+".","error"),i.failure()}):e.isDirectory&&(t=e.createReader(),t.readEntries(function(e){var t=e.length;for(o=0;o<e.length;o+=1)n(e[o]).done(function(){t-=1,0===t&&i.success()});e.length||i.success()},function(t){a.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+t.code+".","error"),i.failure()})),i}function o(e){var t,o,i,s=[],r=new qq.Promise;if(a.callbacks.processingDroppedFiles(),l.dropDisabled(!0),e.files.length>1&&!a.allowMultipleItems)a.callbacks.processingDroppedFilesComplete([]),a.callbacks.dropError("tooManyFilesError",""),l.dropDisabled(!1),r.failure();else{if(u=[],qq.isFolderDropSupported(e))for(o=e.items,t=0;t<o.length;t+=1)i=o[t].webkitGetAsEntry(),i&&(i.isFile?u.push(o[t].getAsFile()):s.push(n(i).done(function(){s.pop(),0===s.length&&r.success()})));else u=e.files;0===s.length&&r.success()}return r}function i(e){l=new qq.UploadDropZone({element:e,onEnter:function(t){qq(e).addClass(a.classes.dropActive),t.stopPropagation()},onLeaveNotDescendants:function(t){qq(e).removeClass(a.classes.dropActive)},onDrop:function(n){a.hideDropZonesBeforeEnter&&qq(e).hide(),qq(e).removeClass(a.classes.dropActive),o(n.dataTransfer).done(function(){t(u)})}}),d.addDisposer(function(){l.dispose()}),a.hideDropZonesBeforeEnter&&qq(e).hide()}function s(e){var t;return qq.each(e.dataTransfer.types,function(e,n){if("Files"===n)return t=!0,!1}),t}function r(){var e=a.dropZoneElements;qq.each(e,function(e,t){i(t)}),!e.length||qq.ie()&&!qq.ie10()||d.attach(document,"dragenter",function(t){!l.dropDisabled()&&s(t)&&qq.each(e,function(e,t){qq(t).css({display:"block"})})}),d.attach(document,"dragleave",function(t){a.hideDropZonesBeforeEnter&&qq.FineUploader.prototype._leaving_document_out(t)&&qq.each(e,function(e,t){qq(t).hide()})}),d.attach(document,"drop",function(t){a.hideDropZonesBeforeEnter&&qq.each(e,function(e,t){qq(t).hide()}),t.preventDefault()})}var a,l,u=[],d=new qq.DisposeSupport;return a={dropZoneElements:[],hideDropZonesBeforeEnter:!1,allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(a,e,!0),r(),{setupExtraDropzone:function(e){a.dropZoneElements.push(e),i(e)},removeDropzone:function(e){var t,n=a.dropZoneElements;for(t in n)if(n[t]===e)return n.splice(t,1)},dispose:function(){d.dispose(),l.dispose()}}},qq.DragAndDrop.callbacks=function(){return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(e){},dropError:function(e,t){qq.log("Drag & drop error code '"+e+" with these specifics: '"+t+"'","error")},dropLog:function(e,t){qq.log(e,t)}}},qq.UploadDropZone=function(e){"use strict";function t(){return qq.safari()||qq.firefox()&&qq.windows()}function n(e){u||(t?d.attach(document,"dragover",function(e){e.preventDefault()}):d.attach(document,"dragover",function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())}),u=!0)}function o(e){if(qq.ie()&&!qq.ie10())return!1;var t,n=e.dataTransfer,o=qq.safari();return t=!!qq.ie10()||"none"!==n.effectAllowed,n&&t&&(n.files||!o&&n.types.contains&&n.types.contains("Files"))}function i(e){return void 0!==e&&(l=e),l}function s(){d.attach(a,"dragover",function(e){if(o(e)){var t=qq.ie()?null:e.dataTransfer.effectAllowed;"move"===t||"linkMove"===t?e.dataTransfer.dropEffect="move":e.dataTransfer.dropEffect="copy",e.stopPropagation(),e.preventDefault()}}),d.attach(a,"dragenter",function(e){if(!i()){if(!o(e))return;r.onEnter(e)}}),d.attach(a,"dragleave",function(e){if(o(e)){r.onLeave(e);var t=document.elementFromPoint(e.clientX,e.clientY);qq(this).contains(t)||r.onLeaveNotDescendants(e)}}),d.attach(a,"drop",function(e){if(!i()){if(!o(e))return;e.preventDefault(),r.onDrop(e)}})}var r,a,l,u,d=new qq.DisposeSupport;return r={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}},qq.extend(r,e),a=r.element,n(),s(),{dropDisabled:function(e){return i(e)},dispose:function(){d.dispose()}}},qq.FineUploader=function(e){qq.FineUploaderBasic.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,dragAndDrop:{extraDropzones:[],hideDropzones:!0,disableDefaultDropzone:!1},text:{uploadButton:"Upload a file",cancelButton:"Cancel",retryButton:"Retry",deleteButton:"Delete",failUpload:"Upload failed",dragZone:"Drop files here to upload",dropProcessing:"Processing dropped files...",formatProgress:"{percent}% of {total_size}",waitingForResponse:"Processing..."},template:'<div class="qq-uploader">'+(this._options.dragAndDrop&&this._options.dragAndDrop.disableDefaultDropzone?"":'<div class="qq-upload-drop-area"><span>{dragZoneText}</span></div>')+(this._options.button?"":'<div class="qq-upload-button"><div>{uploadButtonText}</div></div>')+'<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>'+(this._options.listElement?"":'<ul class="qq-upload-list"></ul>')+"</div>",fileTemplate:'<li><div class="qq-progress-bar"></div><span class="qq-upload-spinner"></span><span class="qq-upload-finished"></span><span class="qq-upload-file"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">{cancelButtonText}</a><a class="qq-upload-retry" href="#">{retryButtonText}</a><a class="qq-upload-delete" href="#">{deleteButtonText}</a><span class="qq-upload-status-text">{statusText}</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",progressBar:"qq-progress-bar",file:"qq-upload-file",spinner:"qq-upload-spinner",finished:"qq-upload-finished",retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",size:"qq-upload-size",cancel:"qq-upload-cancel",deleteButton:"qq-upload-delete",retry:"qq-upload-retry",statusText:"qq-upload-status-text",success:"qq-upload-success",fail:"qq-upload-fail",successIcon:null,failIcon:null,dropProcessing:"qq-drop-processing",dropProcessingSpinner:"qq-drop-processing-spinner"},failedUploadTextDisplay:{mode:"default",maxChars:50,responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."
},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}...",showButton:!1},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},showMessage:function(e){setTimeout(function(){window.alert(e)},0)},showConfirm:function(e,t,n){setTimeout(function(){var o=window.confirm(e);o?t():n&&n()},0)},showPrompt:function(e,t){var n=new qq.Promise,o=window.prompt(e,t);return null!=o&&qq.trimStr(o).length>0?n.success(o):n.failure("Undefined or invalid user-supplied value."),n}},!0),qq.extend(this._options,e,!0),!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._options.element.innerHTML="<div>"+this._options.messages.unsupportedBrowser+"</div>":(this._wrapCallbacks(),this._options.template=this._options.template.replace(/\{dragZoneText\}/g,this._options.text.dragZone),this._options.template=this._options.template.replace(/\{uploadButtonText\}/g,this._options.text.uploadButton),this._options.template=this._options.template.replace(/\{dropProcessingText\}/g,this._options.text.dropProcessing),this._options.fileTemplate=this._options.fileTemplate.replace(/\{cancelButtonText\}/g,this._options.text.cancelButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{retryButtonText\}/g,this._options.text.retryButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{deleteButtonText\}/g,this._options.text.deleteButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{statusText\}/g,""),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button||(this._button=this._createUploadButton(this._find(this._element,"button"))),this._bindCancelAndRetryEvents(),this._dnd=this._setupDragAndDrop(),this._options.paste.targetElement&&this._options.paste.promptForName&&this._setupPastePrompt())},qq.extend(qq.FineUploader.prototype,qq.FineUploaderBasic.prototype),qq.extend(qq.FineUploader.prototype,{clearStoredFiles:function(){qq.FineUploaderBasic.prototype.clearStoredFiles.apply(this,arguments),this._listElement.innerHTML=""},addExtraDropzone:function(e){this._dnd.setupExtraDropzone(e)},removeExtraDropzone:function(e){return this._dnd.removeDropzone(e)},getItemByFileId:function(e){for(var t=this._listElement.firstChild;t;){if(t.qqFileId==e)return t;t=t.nextSibling}},reset:function(){qq.FineUploaderBasic.prototype.reset.apply(this,arguments),this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._options.button||(this._button=this._createUploadButton(this._find(this._element,"button"))),this._bindCancelAndRetryEvents(),this._dnd.dispose(),this._dnd=this._setupDragAndDrop()},_removeFileItem:function(e){var t=this.getItemByFileId(e);qq(t).remove()},_setupDragAndDrop:function(){var e,t=this,n=this._find(this._element,"dropProcessing"),o=this._options.dragAndDrop.extraDropzones;return e=function(e){e.preventDefault()},this._options.dragAndDrop.disableDefaultDropzone||o.push(this._find(this._options.element,"drop")),new qq.DragAndDrop({dropZoneElements:o,hideDropZonesBeforeEnter:this._options.dragAndDrop.hideDropzones,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){var o=t._button.getInput();qq(n).css({display:"block"}),qq(o).attach("click",e)},processingDroppedFilesComplete:function(o){var i=t._button.getInput();qq(n).hide(),qq(i).detach("click",e),o&&t.addFiles(o)},dropError:function(e,n){t._itemError(e,n)},dropLog:function(e,n){t.log(e,n)}}})},_leaving_document_out:function(e){return(qq.chrome()||qq.safari()&&qq.windows())&&0==e.clientX&&0==e.clientY||qq.firefox()&&!e.relatedTarget},_storeForLater:function(e){qq.FineUploaderBasic.prototype._storeForLater.apply(this,arguments);var t=this.getItemByFileId(e);qq(this._find(t,"spinner")).hide()},_find:function(e,t){var n=qq(e).getByClass(this._options.classes[t])[0];if(!n)throw new Error("element not found "+t);return n},_onSubmit:function(e,t){qq.FineUploaderBasic.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onProgress:function(e,t,n,o){qq.FineUploaderBasic.prototype._onProgress.apply(this,arguments);var i,s,r,a;i=this.getItemByFileId(e),s=this._find(i,"progressBar"),r=Math.round(n/o*100),n===o?(a=this._find(i,"cancel"),qq(a).hide(),qq(s).hide(),qq(this._find(i,"statusText")).setText(this._options.text.waitingForResponse),this._displayFileSize(e)):(this._displayFileSize(e,n,o),qq(s).css({display:"block"})),qq(s).css({width:r+"%"})},_onComplete:function(e,t,n,o){qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments);var i=this.getItemByFileId(e);qq(this._find(i,"statusText")).clearText(),qq(i).removeClass(this._classes.retrying),qq(this._find(i,"progressBar")).hide(),this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading||qq(this._find(i,"cancel")).hide(),qq(this._find(i,"spinner")).hide(),n.success?(this._isDeletePossible()&&this._showDeleteLink(e),qq(i).addClass(this._classes.success),this._classes.successIcon&&(this._find(i,"finished").style.display="inline-block",qq(i).addClass(this._classes.successIcon))):(qq(i).addClass(this._classes.fail),this._classes.failIcon&&(this._find(i,"finished").style.display="inline-block",qq(i).addClass(this._classes.failIcon)),this._options.retry.showButton&&!this._preventRetries[e]&&qq(i).addClass(this._classes.retryable),this._controlFailureTextDisplay(i,n))},_onUpload:function(e,t){qq.FineUploaderBasic.prototype._onUpload.apply(this,arguments),this._showSpinner(e)},_onCancel:function(e,t){qq.FineUploaderBasic.prototype._onCancel.apply(this,arguments),this._removeFileItem(e)},_onBeforeAutoRetry:function(e){var t,n,o,i,s,r;qq.FineUploaderBasic.prototype._onBeforeAutoRetry.apply(this,arguments),t=this.getItemByFileId(e),n=this._find(t,"progressBar"),this._showCancelLink(t),n.style.width=0,qq(n).hide(),this._options.retry.showAutoRetryNote&&(o=this._find(t,"statusText"),i=this._autoRetries[e]+1,s=this._options.retry.maxAutoAttempts,r=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,i),r=r.replace(/\{maxAuto\}/g,s),qq(o).setText(r),1===i&&qq(t).addClass(this._classes.retrying))},_onBeforeManualRetry:function(e){var t=this.getItemByFileId(e);return qq.FineUploaderBasic.prototype._onBeforeManualRetry.apply(this,arguments)?(this._find(t,"progressBar").style.width=0,qq(t).removeClass(this._classes.fail),qq(this._find(t,"statusText")).clearText(),this._showSpinner(e),this._showCancelLink(t),!0):(qq(t).addClass(this._classes.retryable),!1)},_onSubmitDelete:function(e){return this._isDeletePossible()?void(this._options.callbacks.onSubmitDelete(e)!==!1&&(this._options.deleteFile.forceConfirm?this._showDeleteConfirm(e):this._sendDeleteRequest(e))):(this.log("Delete request ignored for file ID "+e+", delete feature is disabled.","warn"),!1)},_onDeleteComplete:function(e,t,n){qq.FineUploaderBasic.prototype._onDeleteComplete.apply(this,arguments);var o=this.getItemByFileId(e),i=this._find(o,"spinner"),s=this._find(o,"statusText");qq(i).hide(),n?(qq(s).setText(this._options.deleteFile.deletingFailedText),this._showDeleteLink(e)):this._removeFileItem(e)},_sendDeleteRequest:function(e){var t=this.getItemByFileId(e),n=this._find(t,"deleteButton"),o=this._find(t,"statusText");qq(n).hide(),this._showSpinner(e),qq(o).setText(this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete(e,this.getUuid(e))},_showDeleteConfirm:function(e){var t=this._handler.getName(e),n=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,t),o=(this.getUuid(e),this);this._options.showConfirm(n,function(){o._sendDeleteRequest(e)})},_addToList:function(e,t){var n=qq.toElement(this._options.fileTemplate);if(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading){var o=this._find(n,"cancel");qq(o).remove()}n.qqFileId=e;var i=this._find(n,"file");qq(i).setText(this._options.formatFileName(t)),qq(this._find(n,"size")).hide(),this._options.multiple||(this._handler.cancelAll(),this._clearList()),this._listElement.appendChild(n),this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading&&this._displayFileSize(e)},_clearList:function(){this._listElement.innerHTML="",this.clearStoredFiles()},_displayFileSize:function(e,t,n){var o=this.getItemByFileId(e),i=this.getSize(e),s=this._formatSize(i),r=this._find(o,"size");void 0!==t&&void 0!==n&&(s=this._formatProgress(t,n)),qq(r).css({display:"inline"}),qq(r).setText(s)},_bindCancelAndRetryEvents:function(){var e=this,t=this._listElement;this._disposeSupport.attach(t,"click",function(t){t=t||window.event;var n=t.target||t.srcElement;if(qq(n).hasClass(e._classes.cancel)||qq(n).hasClass(e._classes.retry)||qq(n).hasClass(e._classes.deleteButton)){qq.preventDefault(t);for(var o=n.parentNode;void 0===o.qqFileId;)o=o.parentNode;qq(n).hasClass(e._classes.deleteButton)?e.deleteFile(o.qqFileId):qq(n).hasClass(e._classes.cancel)?e.cancel(o.qqFileId):(qq(o).removeClass(e._classes.retryable),e.retry(o.qqFileId))}})},_formatProgress:function(e,t){function n(e,t){o=o.replace(e,t)}var o=this._options.text.formatProgress;return n("{percent}",Math.round(e/t*100)),n("{total_size}",this._formatSize(t)),o},_controlFailureTextDisplay:function(e,t){var n,o,i,s,r;n=this._options.failedUploadTextDisplay.mode,o=this._options.failedUploadTextDisplay.maxChars,i=this._options.failedUploadTextDisplay.responseProperty,"custom"===n?(s=t[i],s?s.length>o&&(r=s.substring(0,o)+"..."):(s=this._options.text.failUpload,this.log("'"+i+"' is not a valid property on the server response.","warn")),qq(this._find(e,"statusText")).setText(r||s),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(e,s)):"default"===n?qq(this._find(e,"statusText")).setText(this._options.text.failUpload):"none"!==n&&this.log("failedUploadTextDisplay.mode value of '"+n+"' is not valid","warn")},_showTooltip:function(e,t){e.title=t},_showSpinner:function(e){var t=this.getItemByFileId(e),n=this._find(t,"spinner");n.style.display="inline-block"},_showCancelLink:function(e){if(!this._options.disableCancelForFormUploads||qq.supportedFeatures.ajaxUploading){var t=this._find(e,"cancel");qq(t).css({display:"inline"})}},_showDeleteLink:function(e){var t=this.getItemByFileId(e),n=this._find(t,"deleteButton");qq(n).css({display:"inline"})},_itemError:function(e,t){var n=qq.FineUploaderBasic.prototype._itemError.apply(this,arguments);this._options.showMessage(n)},_batchError:function(e){qq.FineUploaderBasic.prototype._batchError.apply(this,arguments),this._options.showMessage(e)},_setupPastePrompt:function(){var e=this;this._options.callbacks.onPasteReceived=function(){var t=e._options.paste.namePromptMessage,n=e._options.paste.defaultName;return e._options.showPrompt(t,n)}}}),qq.AjaxRequestor=function(e){"use strict";function t(e){var t,n=qq.indexOf(p,e),i=h.maxConnections;delete f[e],p.splice(n,1),p.length>=i&&n<i&&(t=p[i-1],o(t))}function n(e){var n=f[e].xhr,o=u(),i=!1;t(e),l(n.status)||(i=!0,d(o+" request for "+e+" has failed - response code "+n.status,"error")),h.onComplete(e,n,i)}function o(e){var t,n=new XMLHttpRequest,o=u(),a={};h.onSend(e),h.paramsStore.getParams&&(a=h.paramsStore.getParams(e)),t=i(e,a),f[e].xhr=n,n.onreadystatechange=s(e),n.open(o,t,!0),h.cors.expected&&h.cors.sendCredentials&&(n.withCredentials=!0),r(e),d("Sending "+o+" request for "+e),!c&&a?n.send(qq.obj2url(a,"")):n.send()}function i(e,t){var n=h.endpointStore.getEndpoint(e),o=f[e].addToPath;return void 0!==o&&(n+="/"+o),c&&t?qq.obj2url(t,n):n}function s(e){var t=f[e].xhr;return function(){4===t.readyState&&n(e,t)}}function r(e){var t=f[e].xhr,n=h.customHeaders;t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("Cache-Control","no-cache"),qq.each(n,function(e,n){t.setRequestHeader(e,n)})}function a(e){var n=f[e].xhr,o=u();return!!n&&(n.onreadystatechange=null,n.abort(),t(e),d("Cancelled "+o+" for "+e),h.onCancel(e),!0)}function l(e){return qq.indexOf(h.successfulResponseCodes,e)>=0}function u(){return h.demoMode?"GET":h.method}var d,c,p=[],f=[],h={method:"POST",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},successfulResponseCodes:[200],demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onSend:function(e){},onComplete:function(e,t,n){},onCancel:function(e){}};return qq.extend(h,e),d=h.log,c="GET"===u()||"DELETE"===u(),{send:function(e,t){f[e]={addToPath:t};var n=p.push(e);n<=h.maxConnections&&o(e)},cancel:function(e){return a(e)}}},qq.DeleteFileAjaxRequestor=function(e){"use strict";var t,n={endpointStore:{},maxConnections:3,customHeaders:{},paramsStore:{},demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onDelete:function(e){},onDeleteComplete:function(e,t,n){}};return qq.extend(n,e),t=new qq.AjaxRequestor({method:"DELETE",endpointStore:n.endpointStore,paramsStore:n.paramsStore,maxConnections:n.maxConnections,customHeaders:n.customHeaders,successfulResponseCodes:[200,202,204],demoMode:n.demoMode,log:n.log,onSend:n.onDelete,onComplete:n.onDeleteComplete}),{sendDelete:function(e,o){t.send(e,o),n.log("Submitted delete file request for "+e)}}},qq.WindowReceiveMessage=function(e){var t={log:function(e,t){}},n={};return qq.extend(t,e),{receiveMessage:function(e,t){var o=function(e){t(e.data)};window.postMessage?n[e]=qq(window).attach("message",o):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(e){if(window.postMessage){var t=n[e];t&&t()}}}},qq.UploadHandler=function(e){"use strict";var t,n,o,i,s=[];return t={debug:!1,forceMultipart:!0,paramsInBody:!1,paramsStore:{},endpointStore:{},cors:{expected:!1,sendCredentials:!1},maxConnections:3,uuidParamName:"qquuid",totalFileSizeParamName:"qqtotalfilesize",chunking:{enabled:!1,partSize:2e6,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},blobs:{paramNames:{name:"qqblobname"}},log:function(e,t){},onProgress:function(e,t,n,o){},onComplete:function(e,t,n,o){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onAutoRetry:function(e,t,n,o){},onResume:function(e,t,n){}},qq.extend(t,e),n=t.log,o=function(e){var n,o=qq.indexOf(s,e),r=t.maxConnections;o>=0&&(s.splice(o,1),s.length>=r&&o<r&&(n=s[r-1],i.upload(n)))},i=qq.supportedFeatures.ajaxUploading?new qq.UploadHandlerXhr(t,o,n):new qq.UploadHandlerForm(t,o,n),{add:function(e){return i.add(e)},upload:function(e){var n=s.push(e);if(n<=t.maxConnections)return i.upload(e)},retry:function(e){var t=qq.indexOf(s,e);return t>=0?i.upload(e,!0):this.upload(e)},cancel:function(e){n("Cancelling "+e),t.paramsStore.remove(e),i.cancel(e),o(e)},cancelAll:function(){var e=this,t=[];qq.extend(t,s),qq.each(t,function(t,n){e.cancel(n)}),s=[]},getName:function(e){return i.getName(e)},getSize:function(e){if(i.getSize)return i.getSize(e)},getFile:function(e){if(i.getFile)return i.getFile(e)},getQueue:function(){return s},reset:function(){n("Resetting upload handler"),s=[],i.reset()},getUuid:function(e){return i.getUuid(e)},isValid:function(e){return i.isValid(e)},getResumableFilesData:function(){return i.getResumableFilesData?i.getResumableFilesData():[]}}},qq.UploadHandlerForm=function(e,t,n){"use strict";function o(e){void 0!==f[e]&&(f[e](),delete f[e])}function i(e,t){var n=e.id;_[p[n]]=t,f[n]=qq(e).attach("load",function(){c[n]&&(m("Received iframe load event for CORS upload request (file id "+n+")"),h[n]=setTimeout(function(){var e="No valid message received from loaded iframe for file id "+n;m(e,"error"),t({error:e})},1e3))}),g.receiveMessage(n,function(e){m("Received the following window message: '"+e+"'");var t,i=qq.parseJson(e),s=i.uuid;s&&_[s]?(clearTimeout(h[n]),delete h[n],o(n),t=_[s],delete _[s],g.stopReceivingMessages(n),t(i)):s||m("'"+e+"' does not contain a UUID - ignoring.")})}function s(e,t){d.cors.expected?i(e,t):f[e.id]=qq(e).attach("load",function(){if(m("Received response for "+e.id),e.parentNode){try{if(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML)return}catch(n){m("Error when attempting to access iframe during handling of upload response ("+n+")","error")}t()}})}function r(e){var t;try{var n=e.contentDocument||e.contentWindow.document,o=n.body.innerHTML;m("converting iframe's innerHTML to JSON"),m("innerHTML = "+o),o&&o.match(/^<pre/i)&&(o=n.body.firstChild.firstChild.nodeValue),t=qq.parseJson(o)}catch(i){m("Error when attempting to parse form upload response ("+i+")","error"),t={success:!1}}return t}function a(e){var t=qq.toElement('<iframe src="javascript:false;" name="'+e+'" />');return t.setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t}function l(e,t){var n=d.paramsStore.getParams(e),o=d.demoMode?"GET":"POST",i=qq.toElement('<form method="'+o+'" enctype="multipart/form-data"></form>'),s=d.endpointStore.getEndpoint(e),r=s;return n[d.uuidParamName]=p[e],d.paramsInBody?qq.obj2Inputs(n,i):r=qq.obj2url(n,s),i.setAttribute("action",r),i.setAttribute("target",t.name),i.style.display="none",document.body.appendChild(i),i}var u,d=e,c=[],p=[],f={},h={},q=t,m=n,g=new qq.WindowReceiveMessage({log:m}),_={};return u={add:function(e){e.setAttribute("name",d.inputName);var t=c.push(e)-1;return p[t]=qq.getUniqueId(),e.parentNode&&qq(e).remove(),t},getName:function(e){return u.isValid(e)?c[e].value.replace(/.*(\/|\\)/,""):void m(e+" is not a valid item ID.","error")},isValid:function(e){return void 0!==c[e]},reset:function(){c=[],p=[],f={}},getUuid:function(e){return p[e]},cancel:function(e){d.onCancel(e,this.getName(e)),delete c[e],delete p[e],delete f[e],d.cors.expected&&(clearTimeout(h[e]),delete h[e],g.stopReceivingMessages(e));var t=document.getElementById(e);t&&(t.setAttribute("src","java"+String.fromCharCode(115)+"cript:false;"),qq(t).remove())},upload:function(e){var t,n=c[e],i=u.getName(e),p=a(e);if(!n)throw new Error("file with passed id was not added, or already uploaded or cancelled");return d.onUpload(e,this.getName(e)),t=l(e,p),t.appendChild(n),s(p,function(t){m("iframe loaded");var n=t?t:r(p);o(e),d.cors.expected||qq(p).remove(),!n.success&&d.onAutoRetry(e,i,n)||(d.onComplete(e,i,n),q(e))}),m("Sending upload request for "+e),t.submit(),qq(t).remove(),e}}},qq.UploadHandlerXhr=function(e,t,n){"use strict";function o(e,t,n){var o=k.getSize(e),i=k.getName(e);t[U.chunking.paramNames.partIndex]=n.part,t[U.chunking.paramNames.partByteOffset]=n.start,t[U.chunking.paramNames.chunkSize]=n.size,t[U.chunking.paramNames.totalParts]=n.count,t[U.totalFileSizeParamName]=o,M&&(t[U.chunking.paramNames.filename]=i)}function i(e){e[U.resume.paramNames.resuming]=!0}function s(e,t,n){return e.slice?e.slice(t,n):e.mozSlice?e.mozSlice(t,n):e.webkitSlice?e.webkitSlice(t,n):void 0}function r(e,t){var n=U.chunking.partSize,o=k.getSize(e),i=P[e].file||P[e].blobData.blob,r=n*t,l=r+n>=o?o:r+n,u=a(e);return{part:t,start:r,end:l,count:u,blob:s(i,r,l),size:l-r}}function a(e){var t=k.getSize(e),n=U.chunking.partSize;return Math.ceil(t/n)}function l(e){var t=new XMLHttpRequest;return P[e].xhr=t,t}function u(e,t,n,o){var i=new FormData,s=U.demoMode?"GET":"POST",r=U.endpointStore.getEndpoint(o),a=r,l=k.getName(o),u=k.getSize(o),d=P[o].blobData;return e[U.uuidParamName]=P[o].uuid,M&&(e[U.totalFileSizeParamName]=u,d&&(e[U.blobs.paramNames.name]=d.name)),U.paramsInBody||(M||(e[U.inputName]=l),a=qq.obj2url(e,r)),t.open(s,a,!0),U.cors.expected&&U.cors.sendCredentials&&(t.withCredentials=!0),M?(U.paramsInBody&&qq.obj2FormData(e,i),i.append(U.inputName,n),i):n}function d(e,t){var n=U.customHeaders,o=P[e].file||P[e].blobData.blob;t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("Cache-Control","no-cache"),M||(t.setRequestHeader("Content-Type","application/octet-stream"),t.setRequestHeader("X-Mime-Type",o.type)),qq.each(n,function(e,n){t.setRequestHeader(e,n)})}function c(e,t,n){var o=k.getName(e),i=k.getSize(e);P[e].attemptingResume=!1,U.onProgress(e,o,i,i),U.onComplete(e,o,t,n),delete P[e].xhr,T(e)}function p(e){var t,n,s=P[e].remainingChunkIdxs[0],a=r(e,s),c=l(e),p=k.getSize(e),h=k.getName(e);void 0===P[e].loaded&&(P[e].loaded=0),A&&P[e].file&&C(e,a),c.onreadystatechange=F(e,c),c.upload.onprogress=function(t){if(t.lengthComputable){var n=t.loaded+P[e].loaded,o=f(e,s,t.total);U.onProgress(e,h,n,o)}},U.onUploadChunk(e,h,x(a)),n=U.paramsStore.getParams(e),o(e,n,a),P[e].attemptingResume&&i(n),t=u(n,c,a.blob,e),d(e,c),B("Sending chunked upload request for item "+e+": bytes "+(a.start+1)+"-"+a.end+" of "+p),c.send(t)}function f(e,t,n){var o=r(e,t),i=o.size,s=n-i,a=k.getSize(e),l=o.count,u=P[e].initialRequestOverhead,d=s-u;return P[e].lastRequestOverhead=s,0===t?(P[e].lastChunkIdxProgress=0,P[e].initialRequestOverhead=s,P[e].estTotalRequestsSize=a+l*s):P[e].lastChunkIdxProgress!==t&&(P[e].lastChunkIdxProgress=t,P[e].estTotalRequestsSize+=d),P[e].estTotalRequestsSize}function h(e){return M?P[e].lastRequestOverhead:0}function q(e,t,n){var o=P[e].remainingChunkIdxs.shift(),i=r(e,o);P[e].attemptingResume=!1,P[e].loaded+=i.size+h(e),P[e].remainingChunkIdxs.length>0?p(e):(A&&S(e),c(e,t,n))}function m(e,t){return 200!==e.status||!t.success||t.reset}function g(e){var t;try{t=qq.parseJson(e.responseText)}catch(n){B("Error when attempting to parse xhr response text ("+n+")","error"),t={}}return t}function _(e){B("Server has ordered chunking effort to be restarted on next attempt for item ID "+e,"error"),A&&(S(e),P[e].attemptingResume=!1),P[e].remainingChunkIdxs=[],delete P[e].loaded,delete P[e].estTotalRequestsSize,delete P[e].initialRequestOverhead}function v(e){P[e].attemptingResume=!1,B("Server has declared that it cannot handle resume for item ID "+e+" - starting from the first chunk","error"),_(e),k.upload(e,!0)}function b(e,t,n){var o=k.getName(e);U.onAutoRetry(e,o,t,n)||c(e,t,n)}function y(e,t){var n;P[e]&&(B("xhr - server response received for "+e),B("responseText = "+t.responseText),n=g(t),m(t,n)?(n.reset&&_(e),P[e].attemptingResume&&n.reset?v(e):b(e,n,t)):N?q(e,n,t):c(e,n,t))}function x(e){return{partIndex:e.part,startByte:e.start+1,endByte:e.end,totalParts:e.count}}function F(e,t){return function(){4===t.readyState&&y(e,t)}}function C(e,t){var n=k.getUuid(e),o=P[e].loaded,i=P[e].initialRequestOverhead,s=P[e].estTotalRequestsSize,r=w(e),a=n+z+t.part+z+o+z+i+z+s,l=U.resume.cookiesExpireIn;qq.setCookie(r,a,l)}function S(e){if(P[e].file){var t=w(e);qq.deleteCookie(t)}}function D(e){var t,n,o,i,s,r,a=qq.getCookie(w(e)),l=k.getName(e);if(a){if(t=a.split(z),5===t.length)return n=t[0],o=parseInt(t[1],10),i=parseInt(t[2],10),s=parseInt(t[3],10),r=parseInt(t[4],10),{uuid:n,part:o,lastByteSent:i,initialRequestOverhead:s,estTotalRequestsSize:r};B("Ignoring previously stored resume/chunk cookie for "+l+" - old cookie format","warn")}}function w(e){var t,n=k.getName(e),o=k.getSize(e),i=U.chunking.partSize;return t="qqfilechunk"+z+encodeURIComponent(n)+z+o+z+i,void 0!==O&&(t+=z+O),t}function E(){if(null!==U.resume.id&&void 0!==U.resume.id&&!qq.isFunction(U.resume.id)&&!qq.isObject(U.resume.id))return U.resume.id}function R(e,t){var n,o,i,s=k.getName(e),l=0;if(!P[e].remainingChunkIdxs||0===P[e].remainingChunkIdxs.length)for(P[e].remainingChunkIdxs=[],A&&!t&&P[e].file&&(n=D(e),n&&(o=r(e,n.part),U.onResume(e,s,x(o))!==!1&&(l=n.part,P[e].uuid=n.uuid,P[e].loaded=n.lastByteSent,P[e].estTotalRequestsSize=n.estTotalRequestsSize,P[e].initialRequestOverhead=n.initialRequestOverhead,P[e].attemptingResume=!0,B("Resuming "+s+" at partition index "+l)))),i=a(e)-1;i>=l;i-=1)P[e].remainingChunkIdxs.unshift(i);p(e)}function I(e){var t,n,o,i=P[e].file||P[e].blobData.blob,s=k.getName(e);P[e].loaded=0,t=l(e),t.upload.onprogress=function(t){t.lengthComputable&&(P[e].loaded=t.loaded,U.onProgress(e,s,t.loaded,t.total))},t.onreadystatechange=F(e,t),n=U.paramsStore.getParams(e),o=u(n,t,i,e),d(e,t),B("Sending upload request for "+e),t.send(o)}var k,U=e,T=t,B=n,P=[],z="|",N=U.chunking.enabled&&qq.supportedFeatures.chunking,A=U.resume.enabled&&N&&qq.supportedFeatures.resume,O=E(),M=U.forceMultipart||U.paramsInBody;return k={add:function(e){var t;if(e instanceof File)t=P.push({file:e})-1;else{if(!qq.isBlob(e.blob))throw new Error("Passed obj in not a File or BlobData (in qq.UploadHandlerXhr)");t=P.push({blobData:e})-1}return P[t].uuid=qq.getUniqueId(),t},getName:function(e){if(k.isValid(e)){var t=P[e].file,n=P[e].blobData;return t?null!==t.fileName&&void 0!==t.fileName?t.fileName:t.name:n.name}B(e+" is not a valid item ID.","error")},getSize:function(e){var t=P[e].file||P[e].blobData.blob;return qq.isFileOrInput(t)&&null!=t.fileSize?t.fileSize:t.size},getFile:function(e){if(P[e])return P[e].file||P[e].blobData.blob},getLoaded:function(e){return P[e].loaded||0},isValid:function(e){return void 0!==P[e]},reset:function(){P=[]},getUuid:function(e){return P[e].uuid},upload:function(e,t){var n=this.getName(e);U.onUpload(e,n),N?R(e,t):I(e)},cancel:function(e){var t=P[e].xhr;U.onCancel(e,this.getName(e)),t&&(t.onreadystatechange=null,t.abort()),A&&S(e),delete P[e]},getResumableFilesData:function(){var e=[],t=[];return N&&A?(e=void 0===O?qq.getCookieNames(new RegExp("^qqfilechunk\\"+z+".+\\"+z+"\\d+\\"+z+U.chunking.partSize+"=")):qq.getCookieNames(new RegExp("^qqfilechunk\\"+z+".+\\"+z+"\\d+\\"+z+U.chunking.partSize+"\\"+z+O+"=")),qq.each(e,function(e,n){var o=n.split(z),i=qq.getCookie(n).split(z);t.push({name:decodeURIComponent(o[1]),size:o[2],uuid:i[0],partIdx:i[1]})}),t):[]}}},function(e){"use strict";var t,n,o,i,s,r,a,l,u,d;r=["uploaderType"],o=function(e){if(e){var o=l(e);a(o),t("basic"===s("uploaderType")?new qq.FineUploaderBasic(o):new qq.FineUploader(o))}return n},i=function(e,t){var o=n.data("fineuploader");return t?(void 0===o&&(o={}),o[e]=t,n.data("fineuploader",o),void 0):void 0===o?null:o[e]},t=function(e){return i("uploader",e)},s=function(e,t){return i(e,t)},a=function(t){var o=t.callbacks={},i=new qq.FineUploaderBasic;e.each(i._options.callbacks,function(e,t){var i,s;i=/^on(\w+)/.exec(e)[1],i=i.substring(0,1).toLowerCase()+i.substring(1),s=n,o[e]=function(){var e=Array.prototype.slice.call(arguments);return s.triggerHandler(i,e)}})},l=function(t,o){var i,a;if(i=void 0===o?"basic"!==t.uploaderType?{element:n[0]}:{}:o,e.each(t,function(t,n){e.inArray(t,r)>=0?s(t,n):n instanceof e?i[t]=n[0]:e.isPlainObject(n)?(i[t]={},l(n,i[t])):e.isArray(n)?(a=[],e.each(n,function(t,n){n instanceof e?e.merge(a,n):a.push(n)}),i[t]=a):i[t]=n}),void 0===o)return i},u=function(n){return"string"===e.type(n)&&!n.match(/^_/)&&void 0!==t()[n]},d=function(e){var n=[],o=Array.prototype.slice.call(arguments,1);return l(o,n),t()[e].apply(t(),n)},e.fn.fineUploader=function(i){var s=this,r=arguments,a=[];return this.each(function(l,c){if(n=e(c),t()&&u(i)){if(a.push(d.apply(s,r)),1===s.length)return!1}else"object"!=typeof i&&i?e.error("Method "+i+" does not exist on jQuery.fineUploader"):o.apply(s,r)}),1===a.length?a[0]:a.length>1?a:this}}(jQuery),function(e){"use strict";function t(e){e||(e={}),e.dropZoneElements=[l];var t=s(e);return i(t),o(new qq.DragAndDrop(t)),l}function n(e,t){var n=l.data(u);return t?(void 0===n&&(n={}),n[e]=t,l.data(u,n),void 0):void 0===n?null:n[e]}function o(e){return n("dndInstance",e)}function i(t){var n=t.callbacks={};new qq.FineUploaderBasic;e.each(new qq.DragAndDrop.callbacks,function(e,t){var o,i=e;o=l,n[e]=function(){var e=Array.prototype.slice.call(arguments),t=o.triggerHandler(i,e);return t}})}function s(t,n){var o,i;if(o=void 0===n?{}:n,e.each(t,function(t,n){n instanceof e?o[t]=n[0]:e.isPlainObject(n)?(o[t]={},s(n,o[t])):e.isArray(n)?(i=[],e.each(n,function(t,n){n instanceof e?e.merge(i,n):i.push(n)}),o[t]=i):o[t]=n}),void 0===n)return o}function r(t){return"string"===e.type(t)&&"dispose"===t&&void 0!==o()[t]}function a(e){var t=[],n=Array.prototype.slice.call(arguments,1);return s(n,t),o()[e].apply(o(),t)}var l,u="fineUploaderDnd";e.fn.fineUploaderDnd=function(n){var i=this,s=arguments,u=[];return this.each(function(d,c){if(l=e(c),o()&&r(n)){if(u.push(a.apply(i,s)),1===i.length)return!1}else"object"!=typeof n&&n?e.error("Method "+n+" does not exist in Fine Uploader's DnD module."):t.apply(i,s)}),1===u.length?u[0]:u.length>1?u:this}}(jQuery);
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";function e(t){if(t instanceof Date)return t;if(String(t).match(a))return String(t).match(/^[0-9]*$/)&&(t=Number(t)),new Date(t);throw new Error("Couldn't cast `"+t+"` to a date object.")}function s(t){return function(e){var s=e.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(s)for(var i=0,o=s.length;i<o;++i){var a=s[i].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),h=new RegExp(a[0]),l=a[1]||"",c=a[3]||"",f=null;a=a[2],r.hasOwnProperty(a)&&(f=r[a],f=Number(t[f])),null!==f&&("!"===l&&(f=n(c,f)),""===l&&f<10&&(f="0"+f.toString()),e=e.replace(h,f.toString()))}return e=e.replace(/%%/,"%")}}function n(t,e){var s="s",n="";return t&&(t=t.replace(/(:|;|\s)/gi,"").split(/\,/),1===t.length?s=t[0]:(n=t[0],s=t[1])),1===Math.abs(e)?n:s}var i=100,o=[],a=[];a.push(/^[0-9]*$/.source),a.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a.push(/[0-9]{4}(\/[0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a=new RegExp(a.join("|"));var r={Y:"years",m:"months",w:"weeks",d:"days",D:"totalDays",H:"hours",M:"minutes",S:"seconds"},h=function(e,s,n){this.el=e,this.$el=t(e),this.interval=null,this.offset={},this.setFinalDate(s),this.instanceNumber=o.length,o.push(this),this.$el.data("countdown-instance",this.instanceNumber),n&&(this.$el.on("update.countdown",n),this.$el.on("stoped.countdown",n),this.$el.on("finish.countdown",n)),this.start()};t.extend(h.prototype,{start:function(){if(null!==this.interval)throw new Error("Countdown is already running!");var t=this;this.update(),this.interval=setInterval(function(){t.update.call(t)},i)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},pause:function(){this.stop.call(this)},resume:function(){this.start.call(this)},remove:function(){this.stop(),delete o[this.instanceNumber]},setFinalDate:function(t){this.finalDate=e(t)},update:function(){return 0===this.$el.closest("html").length?void this.remove():(this.totalSecsLeft=this.finalDate.valueOf()-(new Date).valueOf(),this.totalSecsLeft=Math.ceil(this.totalSecsLeft/1e3),this.totalSecsLeft=this.totalSecsLeft<0?0:this.totalSecsLeft,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,totalDays:Math.floor(this.totalSecsLeft/60/60/24),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),months:Math.floor(this.totalSecsLeft/60/60/24/30),years:Math.floor(this.totalSecsLeft/60/60/24/365)},void(0===this.totalSecsLeft?(this.stop(),this.dispatchEvent("finish")):this.dispatchEvent("update")))},dispatchEvent:function(e){var n=t.Event(e+".countdown");n.finalDate=this.finalDate,n.offset=t.extend({},this.offset),n.strftime=s(this.offset),this.$el.trigger(n)}}),t.fn.countdown=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){var s=t(this).data("countdown-instance");if(void 0!==s){var n=o[s],i=e[0];h.prototype.hasOwnProperty(i)?n[i].apply(n,e.slice(1)):null===String(i).match(/^[$A-Z_][0-9A-Z_$]*$/i)?n.setFinalDate.call(n,i):t.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,i))}else new h(this,e[0],e[1])})}});
!function(t){t.address=function(){var e,r,n=function(e){var r=t.extend(t.Event(e),function(){for(var e={},r=t.address.parameterNames(),n=0,a=r.length;n<a;n++)e[r[n]]=t.address.parameter(r[n]);return{value:t.address.value(),path:t.address.path(),pathNames:t.address.pathNames(),parameterNames:r,parameters:e,queryString:t.address.queryString()}}.call(t.address));return t(t.address).trigger(r),r},a=function(t){return Array.prototype.slice.call(t)},i=function(e,r,n){return t().bind.apply(t(t.address),Array.prototype.slice.call(arguments)),t.address},s=function(e,r){return t().unbind.apply(t(t.address),Array.prototype.slice.call(arguments)),t.address},o=function(){return B.pushState&&L.state!==e},c=function(){return("/"+P.pathname.replace(new RegExp(L.state),"")+P.search+(u()?"#"+u():"")).replace(K,"/")},u=function(){var t=P.href.indexOf("#");return t!=-1?P.href.substr(t+1):""},d=function(){return o()?c():u()},l=function(){try{return top.document!==e&&top.document.title!==e&&top.jQuery!==e&&top.jQuery.address!==e&&top.jQuery.address.frames()!==!1?top:window}catch(t){return window}},p=function(){return"javascript"},h=function(t){return t=t.toString(),(L.strict&&"/"!=t.substr(0,1)?"/":"")+t},f=function(t,e){return parseInt(t.css(e),10)},v=function(){if(!Y){var t=d(),e=decodeURI(rt)!=decodeURI(t);e&&(W&&C<7?P.reload():(W&&!H&&L.history&&D(y,50),rt=t,g(O)))}},g=function(t){return D(m,10),n(A).isDefaultPrevented()||n(t?q:N).isDefaultPrevented()},m=function(){if("null"!==L.tracker&&L.tracker!==I){var r=t.isFunction(L.tracker)?L.tracker:_[L.tracker],n=(P.pathname+P.search+(t.address&&!o()?t.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,"");t.isFunction(r)?r(n):t.isFunction(_.urchinTracker)?_.urchinTracker(n):_.pageTracker!==e&&t.isFunction(_.pageTracker._trackPageview)?_.pageTracker._trackPageview(n):_._gaq!==e&&t.isFunction(_._gaq.push)&&_._gaq.push(["_trackPageview",decodeURI(n)])}},y=function(){var t=p()+":"+O+";document.open();document.writeln('<html><head><title>"+z.title.replace(/\'/g,"\\'")+"</title><script>var "+U+' = "'+encodeURIComponent(d()).replace(/\'/g,"\\'")+(z.domain!=P.hostname?'";document.domain="'+z.domain:"")+"\";</script></head></html>');document.close();";C<7?r.src=t:r.contentWindow.location.replace(t)},w=function(){if(J&&V!=-1){var t,e,r=J.substr(V+1).split("&");for(t=0;t<r.length;t++)e=r[t].split("="),/^(autoUpdate|history|strict|wrap)$/.test(e[0])&&(L[e[0]]=isNaN(e[1])?/^(true|yes)$/i.test(e[1]):0!==parseInt(e[1],10)),/^(state|tracker)$/.test(e[0])&&(L[e[0]]=e[1]);J=I}rt=d()},b=function(){if(!Z){if(Z=$,w(),t('a[rel*="address:"]').address(),L.wrap){var a=t("body");t("body > *").wrapAll('<div style="padding:'+(f(a,"marginTop")+f(a,"paddingTop"))+"px "+(f(a,"marginRight")+f(a,"paddingRight"))+"px "+(f(a,"marginBottom")+f(a,"paddingBottom"))+"px "+(f(a,"marginLeft")+f(a,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+U+'" style="height:100%;overflow:auto;position:relative;'+(M&&!window.statusbar.visible?"resize:both;":"")+'" />');t("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"}),M&&t('<style type="text/css" />').appendTo("head").text("#"+U+"::-webkit-resizer { background-color: #fff; }")}if(W&&!H){var i=z.getElementsByTagName("frameset")[0];r=z.createElement((i?"":"i")+"frame"),r.src=p()+":"+O,i?(i.insertAdjacentElement("beforeEnd",r),i[i.cols?"cols":"rows"]+=",0",r.noResize=$,r.frameBorder=r.frameSpacing=0):(r.style.display="none",r.style.width=r.style.height=0,r.tabIndex=-1,z.body.insertAdjacentElement("afterBegin",r)),D(function(){t(r).bind("load",function(){var t=r.contentWindow;rt=t[U]!==e?t[U]:"",rt!=d()&&(g(O),P.hash=rt)}),r.contentWindow[U]===e&&y()},50)}D(function(){n("init"),g(O)},1),o()||(W&&C>7||!W&&H?_.addEventListener?_.addEventListener(R,v,O):_.attachEvent&&_.attachEvent("on"+R,v):Q(v,50)),"state"in window.history&&t(window).trigger("popstate")}},x=function(){decodeURI(rt)!=decodeURI(d())&&(rt=d(),g(O))},k=function(){_.removeEventListener?_.removeEventListener(R,v,O):_.detachEvent&&_.detachEvent("on"+R,v)},E=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},S=function(){var t={},e=E(navigator.userAgent);return e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),t},I=null,U="jQueryAddress",j="string",R="hashchange",T="init",A="change",q="internalChange",N="externalChange",$=!0,O=!1,L={autoUpdate:$,history:$,strict:$,frames:$,wrap:O},F=S(),C=parseFloat(F.version),M=F.webkit||F.safari,W=!t.support.opacity,_=l(),z=_.document,B=_.history,P=_.location,Q=setInterval,D=setTimeout,K=/\/{2,9}/g,G=navigator.userAgent,H="on"+R in _,J=t("script:last").attr("src"),V=J?J.indexOf("?"):-1,X=z.title,Y=O,Z=O,tt=$,et=O,rt=d();if(W){C=parseFloat(G.substr(G.indexOf("MSIE")+4)),z.documentMode&&z.documentMode!=C&&(C=8!=z.documentMode?7:8);var nt=z.onpropertychange;z.onpropertychange=function(){nt&&nt.call(z),z.title!=X&&z.title.indexOf("#"+d())!=-1&&(z.title=X)}}if(B.navigationMode&&(B.navigationMode="compatible"),"complete"==document.readyState)var at=setInterval(function(){t.address&&(b(),clearInterval(at))},50);else w(),t(b);return t(window).bind("popstate",x).bind("unload",k),{bind:function(t,e,r){return i.apply(this,a(arguments))},unbind:function(t,e){return s.apply(this,a(arguments))},init:function(t,e){return i.apply(this,[T].concat(a(arguments)))},change:function(t,e){return i.apply(this,[A].concat(a(arguments)))},internalChange:function(t,e){return i.apply(this,[q].concat(a(arguments)))},externalChange:function(t,e){return i.apply(this,[N].concat(a(arguments)))},baseURL:function(){var t=P.href;return t.indexOf("#")!=-1&&(t=t.substr(0,t.indexOf("#"))),/\/$/.test(t)&&(t=t.substr(0,t.length-1)),t},autoUpdate:function(t){return t!==e?(L.autoUpdate=t,this):L.autoUpdate},history:function(t){return t!==e?(L.history=t,this):L.history},state:function(t){if(t!==e){L.state=t;var r=c();return L.state!==e&&(B.pushState?"/#/"==r.substr(0,3)&&P.replace(L.state.replace(/^\/$/,"")+r.substr(2)):"/"!=r&&r.replace(/^\/#/,"")!=u()&&D(function(){P.replace(L.state.replace(/^\/$/,"")+"/#"+r)},1)),this}return L.state},frames:function(t){return t!==e?(L.frames=t,_=l(),this):L.frames},strict:function(t){return t!==e?(L.strict=t,this):L.strict},tracker:function(t){return t!==e?(L.tracker=t,this):L.tracker},wrap:function(t){return t!==e?(L.wrap=t,this):L.wrap},update:function(){return et=$,this.value(rt),et=O,this},title:function(t){return t!==e?(D(function(){X=z.title=t,tt&&r&&r.contentWindow&&r.contentWindow.document&&(r.contentWindow.document.title=t,tt=O)},50),this):z.title},value:function(t){if(t!==e){if(t=h(t),"/"==t&&(t=""),rt==t&&!et)return;if(rt=t,L.autoUpdate||et){if(g($))return this;o()?B[L.history?"pushState":"replaceState"]({},"",L.state.replace(/\/$/,"")+(""===rt?"/":rt)):(Y=$,M?L.history?P.hash="#"+rt:P.replace("#"+rt):rt!=d()&&(L.history?P.hash="#"+rt:P.replace("#"+rt)),W&&!H&&L.history&&D(y,50),M?D(function(){Y=O},1):Y=O)}return this}return h(rt)},path:function(t){if(t!==e){var r=this.queryString(),n=this.hash();return this.value(t+(r?"?"+r:"")+(n?"#"+n:"")),this}return h(rt).split("#")[0].split("?")[0]},pathNames:function(){var t=this.path(),e=t.replace(K,"/").split("/");return"/"!=t.substr(0,1)&&0!==t.length||e.splice(0,1),"/"==t.substr(t.length-1,1)&&e.splice(e.length-1,1),e},queryString:function(t){if(t!==e){var r=this.hash();return this.value(this.path()+(t?"?"+t:"")+(r?"#"+r:"")),this}var n=rt.split("?");return n.slice(1,n.length).join("?").split("#")[0]},parameter:function(r,n,a){var i,s;if(n!==e){var o=this.parameterNames();for(s=[],n=n===e||n===I?"":n.toString(),i=0;i<o.length;i++){var c=o[i],u=this.parameter(c);typeof u==j&&(u=[u]),c==r&&(u=n===I||""===n?[]:a?u.concat([n]):[n]);for(var d=0;d<u.length;d++)s.push(c+"="+u[d])}return t.inArray(r,o)==-1&&n!==I&&""!==n&&s.push(r+"="+n),this.queryString(s.join("&")),this}if(n=this.queryString()){var l=[];for(s=n.split("&"),i=0;i<s.length;i++){var p=s[i].split("=");p[0]==r&&l.push(p.slice(1).join("="))}if(0!==l.length)return 1!=l.length?l:l[0]}},parameterNames:function(){var e=this.queryString(),r=[];if(e&&e.indexOf("=")!=-1)for(var n=e.split("&"),a=0;a<n.length;a++){var i=n[a].split("=")[0];t.inArray(i,r)==-1&&r.push(i)}return r},hash:function(t){if(t!==e)return this.value(rt.split("#")[0]+(t?"#"+t:"")),this;var r=rt.split("#");return r.slice(1,r.length).join("#")}}}(),t.fn.address=function(e){return t(this).each(function(r){t(this).data("address")||t(this).on("click",function(r){if(r.shiftKey||r.ctrlKey||r.metaKey||2==r.which)return!0;var n=r.currentTarget;if(t(n).is("a")){r.preventDefault();var a=e?e.call(n):/address:/.test(t(n).attr("rel"))?t(n).attr("rel").split("address:")[1].split(" ")[0]:void 0===t.address.state()||/^\/?$/.test(t.address.state())?t(n).attr("href").replace(/^(#\!?|\.)/,""):t(n).attr("href").replace(new RegExp("^(.*"+t.address.state()+"|\\.)"),"");t.address.value(a)}}).on("submit",function(r){var n=r.currentTarget;if(t(n).is("form")){r.preventDefault();var a=t(n).attr("action"),i=e?e.call(n):(a.indexOf("?")!=-1?a.replace(/&$/,""):a+"?")+t(n).serialize();t.address.value(i)}}).data("address",!0)}),this}}(jQuery);
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(n,e,t,u,a){return jQuery.easing[jQuery.easing.def](n,e,t,u,a)},easeInQuad:function(n,e,t,u,a){return u*(e/=a)*e+t},easeOutQuad:function(n,e,t,u,a){return-u*(e/=a)*(e-2)+t},easeInOutQuad:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e+t:-u/2*(--e*(e-2)-1)+t},easeInCubic:function(n,e,t,u,a){return u*(e/=a)*e*e+t},easeOutCubic:function(n,e,t,u,a){return u*((e=e/a-1)*e*e+1)+t},easeInOutCubic:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e+t:u/2*((e-=2)*e*e+2)+t},easeInQuart:function(n,e,t,u,a){return u*(e/=a)*e*e*e+t},easeOutQuart:function(n,e,t,u,a){return-u*((e=e/a-1)*e*e*e-1)+t},easeInOutQuart:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e+t:-u/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(n,e,t,u,a){return u*(e/=a)*e*e*e*e+t},easeOutQuint:function(n,e,t,u,a){return u*((e=e/a-1)*e*e*e*e+1)+t},easeInOutQuint:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e*e+t:u/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(n,e,t,u,a){return-u*Math.cos(e/a*(Math.PI/2))+u+t},easeOutSine:function(n,e,t,u,a){return u*Math.sin(e/a*(Math.PI/2))+t},easeInOutSine:function(n,e,t,u,a){return-u/2*(Math.cos(Math.PI*e/a)-1)+t},easeInExpo:function(n,e,t,u,a){return 0==e?t:u*Math.pow(2,10*(e/a-1))+t},easeOutExpo:function(n,e,t,u,a){return e==a?t+u:u*(-Math.pow(2,-10*e/a)+1)+t},easeInOutExpo:function(n,e,t,u,a){return 0==e?t:e==a?t+u:(e/=a/2)<1?u/2*Math.pow(2,10*(e-1))+t:u/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(n,e,t,u,a){return-u*(Math.sqrt(1-(e/=a)*e)-1)+t},easeOutCirc:function(n,e,t,u,a){return u*Math.sqrt(1-(e=e/a-1)*e)+t},easeInOutCirc:function(n,e,t,u,a){return(e/=a/2)<1?-u/2*(Math.sqrt(1-e*e)-1)+t:u/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;if(i||(i=.3*a),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return-(s*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i))+t},easeOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;if(i||(i=.3*a),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return s*Math.pow(2,-10*e)*Math.sin((e*a-r)*(2*Math.PI)/i)+u+t},easeInOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(2==(e/=a/2))return t+u;if(i||(i=a*(.3*1.5)),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return e<1?-.5*(s*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i))+t:s*Math.pow(2,-10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)*.5+u+t},easeInBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),u*(e/=a)*e*((r+1)*e-r)+t},easeOutBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),u*((e=e/a-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),(e/=a/2)<1?u/2*(e*e*(((r*=1.525)+1)*e-r))+t:u/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+t},easeInBounce:function(n,e,t,u,a){return u-jQuery.easing.easeOutBounce(n,a-e,0,u,a)+t},easeOutBounce:function(n,e,t,u,a){return(e/=a)<1/2.75?u*(7.5625*e*e)+t:e<2/2.75?u*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?u*(7.5625*(e-=2.25/2.75)*e+.9375)+t:u*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(n,e,t,u,a){return e<a/2?.5*jQuery.easing.easeInBounce(n,2*e,0,u,a)+t:.5*jQuery.easing.easeOutBounce(n,2*e-a,0,u,a)+.5*u+t}});
!function(e,t){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e.Mustache={},t(Mustache))}(this,function(e){function t(e){return"function"==typeof e}function n(e){return g(e)?"array":typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}function o(e,t){return v.call(e,t)}function s(e){return!o(w,e)}function a(e){return String(e).replace(/[&<>"'\/]/g,function(e){return y[e]})}function u(t,n){function i(){if(w&&!y)for(;v.length;)delete d[v.pop()];else v=[];w=!1,y=!1}function o(e){if("string"==typeof e&&(e=e.split(b,2)),!g(e)||2!==e.length)throw new Error("Invalid tags: "+e);a=new RegExp(r(e[0])+"\\s*"),u=new RegExp("\\s*"+r(e[1])),h=new RegExp("\\s*"+r("}"+e[1]))}if(!t)return[];var a,u,h,f=[],d=[],v=[],w=!1,y=!1;o(n||e.tags);for(var U,T,j,S,V,C,A=new l(t);!A.eos();){if(U=A.pos,j=A.scanUntil(a))for(var I=0,R=j.length;I<R;++I)S=j.charAt(I),s(S)?v.push(d.length):y=!0,d.push(["text",S,U,U+1]),U+=1,"\n"===S&&i();if(!A.scan(a))break;if(w=!0,T=A.scan(E)||"name",A.scan(k),"="===T?(j=A.scanUntil(m),A.scan(m),A.scanUntil(u)):"{"===T?(j=A.scanUntil(h),A.scan(x),A.scanUntil(u),T="&"):j=A.scanUntil(u),!A.scan(u))throw new Error("Unclosed tag at "+A.pos);if(V=[T,j,U,A.pos],d.push(V),"#"===T||"^"===T)f.push(V);else if("/"===T){if(C=f.pop(),!C)throw new Error('Unopened section "'+j+'" at '+U);if(C[1]!==j)throw new Error('Unclosed section "'+C[1]+'" at '+U)}else"name"===T||"{"===T||"&"===T?y=!0:"="===T&&o(j)}if(C=f.pop())throw new Error('Unclosed section "'+C[1]+'" at '+A.pos);return p(c(d))}function c(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)t=e[i],t&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function p(e){for(var t,n,r=[],i=r,o=[],s=0,a=e.length;s<a;++s)switch(t=e[s],t[0]){case"#":case"^":i.push(t),o.push(t),i=t[4]=[];break;case"/":n=o.pop(),n[5]=t[2],i=o.length>0?o[o.length-1][4]:r;break;default:i.push(t)}return r}function l(e){this.string=e,this.tail=e,this.pos=0}function h(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function f(){this.cache={}}var d=Object.prototype.toString,g=Array.isArray||function(e){return"[object Array]"===d.call(e)},v=RegExp.prototype.test,w=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},k=/\s*/,b=/\s+/,m=/\s*=/,x=/\s*\}/,E=/#|\^|\/|>|\{|&|=|!/;l.prototype.eos=function(){return""===this.tail},l.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},l.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},h.prototype.push=function(e){return new h(e,this)},h.prototype.lookup=function(e){var n,r=this.cache;if(r.hasOwnProperty(e))n=r[e];else{for(var o,s,a=this,u=!1;a;){if(e.indexOf(".")>0)for(n=a.view,o=e.split("."),s=0;null!=n&&s<o.length;)s===o.length-1&&(u=i(n,o[s])),n=n[o[s++]];else n=a.view[e],u=i(a.view,e);if(u)break;a=a.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},f.prototype.clearCache=function(){this.cache={}},f.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=u(e,t)),r},f.prototype.render=function(e,t,n){var r=this.parse(e),i=t instanceof h?t:new h(t);return this.renderTokens(r,i,n,e)},f.prototype.renderTokens=function(e,t,n,r){for(var i,o,s,a="",u=0,c=e.length;u<c;++u)s=void 0,i=e[u],o=i[0],"#"===o?s=this.renderSection(i,t,n,r):"^"===o?s=this.renderInverted(i,t,n,r):">"===o?s=this.renderPartial(i,t,n,r):"&"===o?s=this.unescapedValue(i,t):"name"===o?s=this.escapedValue(i,t):"text"===o&&(s=this.rawValue(i)),void 0!==s&&(a+=s);return a},f.prototype.renderSection=function(e,n,r,i){function o(e){return s.render(e,n,r)}var s=this,a="",u=n.lookup(e[1]);if(u){if(g(u))for(var c=0,p=u.length;c<p;++c)a+=this.renderTokens(e[4],n.push(u[c]),r,i);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)a+=this.renderTokens(e[4],n.push(u),r,i);else if(t(u)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");u=u.call(n.view,i.slice(e[3],e[5]),o),null!=u&&(a+=u)}else a+=this.renderTokens(e[4],n,r,i);return a}},f.prototype.renderInverted=function(e,t,n,r){var i=t.lookup(e[1]);if(!i||g(i)&&0===i.length)return this.renderTokens(e[4],t,n,r)},f.prototype.renderPartial=function(e,n,r){if(r){var i=t(r)?r(e[1]):r[e[1]];return null!=i?this.renderTokens(this.parse(i),n,r,i):void 0}},f.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},f.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},f.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.1.3",e.tags=["{{","}}"];var U=new f;e.clearCache=function(){return U.clearCache()},e.parse=function(e,t){return U.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return U.render(e,t,r)},e.to_html=function(n,r,i,o){var s=e.render(n,r,i);return t(o)?void o(s):s},e.escape=a,e.Scanner=l,e.Context=h,e.Writer=f});
!function(e,t,a){"use strict";function n(t,v,p){function M(){var a=0,n=Ie.length;if(pe.old=e.extend({},pe),fe=de?0:ue[le.horizontal?"width":"height"](),ye=ge[le.horizontal?"width":"height"](),ve=de?t:he[le.horizontal?"outerWidth":"outerHeight"](),Ie.length=0,pe.start=0,pe.end=Math.max(ve-fe,0),De){a=Se.length,Ce=he.children(le.itemSelector),Se.length=0;var i,r=c(he,le.horizontal?"paddingLeft":"paddingTop"),o=c(he,le.horizontal?"paddingRight":"paddingBottom"),s="border-box"===e(Ce).css("boxSizing"),l="none"!==Ce.css("float"),u=0,h=Ce.length-1;ve=0,Ce.each(function(t,a){var n=e(a),s=n[le.horizontal?"outerWidth":"outerHeight"](),d=c(n,le.horizontal?"marginLeft":"marginTop"),f=c(n,le.horizontal?"marginRight":"marginBottom"),v=s+d+f,p=!d||!f,g={};g.el=a,g.size=p?s:v,g.half=g.size/2,g.start=ve+(p?d:0),g.center=g.start-Math.round(fe/2-g.size/2),g.end=g.start-fe+g.size,t||(ve+=r),ve+=v,le.horizontal||l||f&&d&&t>0&&(ve-=Math.min(d,f)),t===h&&(g.end+=o,ve+=o,u=p?f:0),Se.push(g),i=g}),he[0].style[le.horizontal?"width":"height"]=(s?ve:ve-r-o)+"px",ve-=u,Se.length?(pe.start=Se[0][xe?"center":"start"],pe.end=xe?i.center:fe<ve?i.end:pe.start):pe.start=pe.end=0}if(pe.center=Math.round(pe.end/2+pe.start/2),E(),me.length&&ye>0&&(le.dynamicHandle?(we=pe.start===pe.end?ye:Math.round(ye*fe/ve),we=d(we,le.minHandleSize,ye),me[0].style[le.horizontal?"width":"height"]=we+"px"):we=me[le.horizontal?"outerWidth":"outerHeight"](),be.end=ye-we,Ue||D()),!de&&fe>0){var f=pe.start,v="";if(De)e.each(Se,function(e,t){xe?Ie.push(t.center):t.start+t.size>f&&f<=pe.end&&(f=t.start,Ie.push(f),f+=fe,f>pe.end&&f<pe.end+fe&&Ie.push(pe.end))});else for(;f-fe<pe.end;)Ie.push(f),f+=fe;if(Pe[0]&&n!==Ie.length){for(var p=0;p<Ie.length;p++)v+=le.pageBuilder.call(ce,p);ze="custom"==le.pageItem?Pe.children():Pe.html(v).children(),ze.eq(Be.activePage).addClass(le.activeClass)}}Be.slideeSize=ve,Be.frameSize=fe,Be.sbSize=ye,Be.handleSize=we,De?(ce.initialized?(Be.activeItem>=Se.length||0===a&&Se.length>0)&&X(Be.activeItem>=Se.length?Se.length-1:0,!a):(X(le.startAt),ce[ke?"toCenter":"toStart"](le.startAt)),x(ke&&Se.length?Se[Be.activeItem].center:d(pe.dest,pe.start,pe.end))):ce.initialized?x(d(pe.dest,pe.start,pe.end)):x(le.startAt,1),re("load")}function x(e,t,a){if(De&&Re.released&&!a){var n=Y(e),i=e>pe.start&&e<pe.end;ke?(i&&(e=Se[n.centerItem].center),xe&&le.activateMiddle&&X(n.centerItem)):i&&(e=Se[n.firstItem].start)}Re.init&&Re.slidee&&le.elasticBounds?e>pe.end?e=pe.end+(e-pe.end)/6:e<pe.start&&(e=pe.start+(e-pe.start)/6):e=d(e,pe.start,pe.end),je.start=+new Date,je.time=0,je.from=pe.cur,je.to=e,je.delta=e-pe.cur,je.tweesing=Re.tweese||Re.init&&!Re.slidee,je.immediate=!je.tweesing&&(t||Re.init&&Re.slidee||!le.speed),Re.tweese=0,e!==pe.dest&&(pe.dest=e,re("change"),Ue||k()),F(),E(),H(),T()}function k(){return Ue?(je.immediate?pe.cur=je.to:je.tweesing?(je.tweeseDelta=je.to-pe.cur,Math.abs(je.tweeseDelta)<.1?pe.cur=je.to:pe.cur+=je.tweeseDelta*(Re.released?le.swingSpeed:le.syncSpeed)):(je.time=Math.min(+new Date-je.start,le.speed),pe.cur=je.from+je.delta*jQuery.easing[le.easing](je.time/le.speed,je.time,0,1,le.speed)),je.to===pe.cur?(pe.cur=je.to,Re.tweese=Ue=0):Ue=y(k),re("move"),de||(u?he[0].style[u]=h+(le.horizontal?"translateX":"translateY")+"("+-pe.cur+"px)":he[0].style[le.horizontal?"left":"top"]=-Math.round(pe.cur)+"px"),!Ue&&Re.released&&re("moveEnd"),void D()):(Ue=y(k),void(Re.released&&re("moveStart")))}function D(){me.length&&(be.cur=pe.start===pe.end?0:((Re.init&&!Re.slidee?pe.dest:pe.cur)-pe.start)/(pe.end-pe.start)*be.end,be.cur=d(Math.round(be.cur),be.start,be.end),Le.hPos!==be.cur&&(Le.hPos=be.cur,u?me[0].style[u]=h+(le.horizontal?"translateX":"translateY")+"("+be.cur+"px)":me[0].style[le.horizontal?"left":"top"]=be.cur+"px"))}function T(){ze[0]&&Le.page!==Be.activePage&&(Le.page=Be.activePage,ze.removeClass(le.activeClass).eq(Be.activePage).addClass(le.activeClass),re("activePage",Le.page))}function A(){Fe.speed&&pe.cur!==(Fe.speed>0?pe.end:pe.start)||ce.stop(),Ze=Re.init?y(A):0,Fe.now=+new Date,Fe.pos=pe.cur+(Fe.now-Fe.lastTime)/1e3*Fe.speed,x(Re.init?Fe.pos:Math.round(Fe.pos)),Re.init||pe.cur!==pe.dest||re("moveEnd"),Fe.lastTime=Fe.now}function q(e,t,n){if("boolean"===i(t)&&(n=t,t=a),t===a)x(pe[e],n);else{if(ke&&"center"!==e)return;var r=ce.getPos(t);r&&x(r[e],n,!ke)}}function N(e){return null!=e?l(e)?e>=0&&e<Se.length?e:-1:Ce.index(e):-1}function O(e){return N(l(e)&&e<0?e+Se.length:e)}function X(e,t){var a=N(e);return a==-1&&(a=Be.activeItem>=Se.length-1?0:Se.length-1),!(!De||a<0)&&((Le.active!==a||t)&&(Ce.eq(Be.activeItem).removeClass(le.activeClass),Ce.eq(a).addClass(le.activeClass),Le.active=Be.activeItem=a,H(),re("active",a)),a)}function Y(e){e=d(l(e)?e:pe.dest,pe.start,pe.end);var t={},a=xe?0:fe/2;if(!de)for(var n=0,i=Ie.length;n<i;n++){if(e>=pe.end||n===Ie.length-1){t.activePage=Ie.length-1;break}if(e<=Ie[n]+a){t.activePage=n;break}}if(De){for(var r=!1,o=!1,s=!1,c=0,u=Se.length;c<u;c++)if(r===!1&&e<=Se[c].start+Se[c].half&&(r=c),s===!1&&e<=Se[c].center+Se[c].half&&(s=c),c===u-1||e<=Se[c].end+Se[c].half){o=c;break}t.firstItem=l(r)?r:0,t.centerItem=l(s)?s:t.firstItem,t.lastItem=l(o)?o:t.centerItem}return t}function E(t){e.extend(Be,Y(t))}function H(){var e=pe.dest<=pe.start,t=pe.dest>=pe.end,a=e?1:t?2:3;if(Le.slideePosState!==a&&(Le.slideePosState=a,Ye.is("button,input")&&Ye.prop("disabled",e),Ee.is("button,input")&&Ee.prop("disabled",t),Ye.add(Ne)[e?"addClass":"removeClass"](le.disabledClass),Ee.add(qe)[t?"addClass":"removeClass"](le.disabledClass)),Le.fwdbwdState!==a&&Re.released&&(Le.fwdbwdState=a,Ne.is("button,input")&&Ne.prop("disabled",e),qe.is("button,input")&&qe.prop("disabled",t)),De){var n=0===Be.activeItem,i=Be.activeItem>=Se.length-1,r=n?1:i?2:3;Le.itemsButtonState!==r&&(Le.itemsButtonState=r,Oe.is("button,input")&&Oe.prop("disabled",n),Xe.is("button,input")&&Xe.prop("disabled",i),Oe[n?"addClass":"removeClass"](le.disabledClass),Xe[i?"addClass":"removeClass"](le.disabledClass))}}function L(e,t,a){if(e=O(e),t=O(t),e>-1&&t>-1&&e!==t&&(!a||t!==e-1)&&(a||t!==e+1)){Ce.eq(e)[a?"insertAfter":"insertBefore"](Se[t].el);var n=e<t?e:a?t:t-1,i=e>t?e:a?t+1:t,r=e>t;e===Be.activeItem?Le.active=Be.activeItem=a?r?t+1:t:r?t:t-1:Be.activeItem>n&&Be.activeItem<i&&(Le.active=Be.activeItem+=r?1:-1),M()}}function j(e,t){for(var a=0,n=He[e].length;a<n;a++)if(He[e][a]===t)return a;return-1}function F(){Re.released&&!ce.isPaused&&ce.resume()}function R(e){return Math.round(d(e,be.start,be.end)/be.end*(pe.end-pe.start))+pe.start}function W(){Re.history[0]=Re.history[1],Re.history[1]=Re.history[2],Re.history[2]=Re.history[3],Re.history[3]=Re.delta}function U(e){Re.released=0,Re.source=e,Re.slidee="slidee"===e}function $(t){if(!Re.init&&!G(t.target)){var a="touchstart"===t.type,n=t.data.source,i="slidee"===n;("handle"!==n||le.dragHandle&&be.start!==be.end)&&(i&&!(a?le.touchDragging:le.mouseDragging&&t.which<2)||(a||r(t,1),U(n),Re.init=1,Re.$source=e(t.target),Re.touch=a,Re.pointer=a?t.originalEvent.touches[0]:t,Re.initX=Re.pointer.pageX,Re.initY=Re.pointer.pageY,Re.initPos=i?pe.cur:be.cur,Re.start=+new Date,Re.time=0,Re.path=0,Re.delta=0,Re.locked=0,Re.history=[0,0,0,0],Re.pathToLock=i?a?30:10:0,Re.initLoc=Re[le.horizontal?"initX":"initY"],Re.deltaMin=i?-Re.initLoc:-be.cur,Re.deltaMax=i?document[le.horizontal?"width":"height"]-Re.initLoc:be.end-be.cur,w.on(a?z:P,Q),ce.pause(1),(i?he:me).addClass(le.draggedClass),re("moveStart"),i&&($e=setInterval(W,10))))}}function Q(e){Re.released="mouseup"===e.type||"touchend"===e.type,Re.pointer=Re.touch?e.originalEvent[Re.released?"changedTouches":"touches"][0]:e,Re.pathX=Re.pointer.pageX-Re.initX,Re.pathY=Re.pointer.pageY-Re.initY,Re.path=Math.sqrt(Math.pow(Re.pathX,2)+Math.pow(Re.pathY,2)),Re.delta=d(le.horizontal?Re.pathX:Re.pathY,Re.deltaMin,Re.deltaMax),!Re.locked&&Re.path>Re.pathToLock&&(Re.locked=1,(le.horizontal?Math.abs(Re.pathX)<Math.abs(Re.pathY):Math.abs(Re.pathX)>Math.abs(Re.pathY))?Re.released=1:Re.slidee&&Re.$source.on(I,o)),Re.released?(Re.touch||r(e),Z(),le.releaseSwing&&Re.slidee&&(Re.swing=(Re.delta-Re.history[0])/40*300,Re.delta+=Re.swing,Re.tweese=Math.abs(Re.swing)>10)):!Re.locked&&Re.touch||r(e),x(Re.slidee?Math.round(Re.initPos-Re.delta):R(Re.initPos+Re.delta))}function Z(){clearInterval($e),w.off(Re.touch?z:P,Q),(Re.slidee?he:me).removeClass(le.draggedClass),setTimeout(function(){Re.$source.off(I,o)}),ce.resume(1),pe.cur===pe.dest&&Re.init&&re("moveEnd"),Re.init=0}function G(t){return~e.inArray(t.nodeName,S)||e(t).is(le.interactive)}function J(){ce.stop(),w.off("mouseup",J)}function K(e){switch(r(e),this){case qe[0]:case Ne[0]:ce.moveBy(qe.is(this)?le.moveBy:-le.moveBy),w.on("mouseup",J);break;case Oe[0]:ce.prev();break;case Xe[0]:ce.next();break;case Ye[0]:ce.prevPage();break;case Ee[0]:ce.nextPage()}}function V(e){return We.curDelta=e.wheelDelta?-e.wheelDelta/120:(e.detail||e.deltaY)/3,De?(f=+new Date,We.last<f-We.resetTime&&(We.delta=0),We.last=f,We.delta+=We.curDelta,Math.abs(We.delta)<1?We.finalDelta=0:(We.finalDelta=Math.round(We.delta/1),We.delta%=1),We.finalDelta):We.curDelta}function _(e){le.scrollBy&&pe.start!==pe.end&&(r(e,1),ce.slideBy(le.scrollBy*V(e.originalEvent)))}function ee(e){le.clickBar&&e.target===ge[0]&&(r(e),x(R((le.horizontal?e.pageX-ge.offset().left:e.pageY-ge.offset().top)-we/2)))}function te(e){if(le.keyboardNavBy)switch(e.which){case le.horizontal?37:38:r(e),ce["pages"===le.keyboardNavBy?"prevPage":"prev"]();break;case le.horizontal?39:40:r(e),ce["pages"===le.keyboardNavBy?"nextPage":"next"]()}}function ae(e){return G(this)?void e.stopPropagation():void(this.parentNode===he[0]&&ce.activate(this))}function ne(){this.parentNode===Pe[0]&&ce.activatePage(ze.index(this))}function ie(e){le.pauseOnHover&&ce["mouseenter"===e.type?"pause":"resume"](2)}function re(e,t){if(He[e]){for(se=He[e].length,B.length=0,oe=0;oe<se;oe++)B.push(He[e][oe]);for(oe=0;oe<se;oe++)B[oe].call(ce,e,t)}}var oe,se,le=e.extend({},n.defaults,v),ce=this,de=l(t),ue=e(t),he=ue.children().eq(0),fe=0,ve=0,pe={start:0,center:0,end:0,cur:0,dest:0},ge=e(le.scrollBar).eq(0),me=ge.children().eq(0),ye=0,we=0,be={start:0,end:0,cur:0},Pe=e(le.pagesBar),ze=0,Ie=[],Ce=0,Se=[],Be={firstItem:0,lastItem:0,centerItem:0,activeItem:-1,activePage:0},Me="basic"===le.itemNav,xe="forceCentered"===le.itemNav,ke="centered"===le.itemNav||xe,De=!de&&(Me||ke||xe),Te=le.scrollSource?e(le.scrollSource):ue,Ae=le.dragSource?e(le.dragSource):ue,qe=e(le.forward),Ne=e(le.backward),Oe=e(le.prev),Xe=e(le.next),Ye=e(le.prevPage),Ee=e(le.nextPage),He={},Le={},je={},Fe={},Re={released:1},We={last:0,delta:0,resetTime:200},Ue=0,$e=0,Qe=0,Ze=0;de||(t=ue[0]),ce.initialized=0,ce.frame=t,ce.slidee=he[0],ce.pos=pe,ce.rel=Be,ce.items=Se,ce.pages=Ie,ce.isPaused=0,ce.options=le,ce.dragging=Re,ce.reload=M,ce.getPos=function(e){if(De){var t=N(e);return t!==-1&&Se[t]}var a=he.find(e).eq(0);if(a[0]){var n=le.horizontal?a.offset().left-he.offset().left:a.offset().top-he.offset().top,i=a[le.horizontal?"outerWidth":"outerHeight"]();return{start:n,center:n-fe/2+i/2,end:n-fe+i,size:i}}return!1},ce.moveBy=function(e){Fe.speed=e,!Re.init&&Fe.speed&&pe.cur!==(Fe.speed>0?pe.end:pe.start)&&(Fe.lastTime=+new Date,Fe.startPos=pe.cur,U("button"),Re.init=1,re("moveStart"),m(Ze),A())},ce.stop=function(){"button"===Re.source&&(Re.init=0,Re.released=1)},ce.prev=function(){ce.activate(Be.activeItem-1)},ce.next=function(){ce.activate(Be.activeItem+1)},ce.prevPage=function(){ce.activatePage(Be.activePage-1)},ce.nextPage=function(){ce.activatePage(Be.activePage+1)},ce.slideBy=function(e,t){e&&(De?ce[ke?"toCenter":"toStart"](d((ke?Be.centerItem:Be.firstItem)+le.scrollBy*e,0,Se.length)):x(pe.dest+e,t))},ce.slideTo=function(e,t){x(e,t)},ce.toStart=function(e,t){q("start",e,t)},ce.toEnd=function(e,t){q("end",e,t)},ce.toCenter=function(e,t){q("center",e,t)},ce.getIndex=N,ce.activate=function(e,t){var a=X(e);le.smart&&a!==!1&&(ke?ce.toCenter(a,t):a>=Be.lastItem?ce.toStart(a,t):a<=Be.firstItem?ce.toEnd(a,t):F())},ce.activatePage=function(e,t){l(e)&&x(Ie[d(e,0,Ie.length-1)],t)},ce.resume=function(e){!le.cycleBy||!le.cycleInterval||"items"===le.cycleBy&&!Se[0]||e<ce.isPaused||(ce.isPaused=0,Qe?Qe=clearTimeout(Qe):re("resume"),Qe=setTimeout(function(){switch(re("cycle"),le.cycleBy){case"items":ce.activate(Be.activeItem>=Se.length-1?0:Be.activeItem+1);break;case"pages":ce.activatePage(Be.activePage>=Ie.length-1?0:Be.activePage+1)}},le.cycleInterval))},ce.pause=function(e){e<ce.isPaused||(ce.isPaused=e||100,Qe&&(Qe=clearTimeout(Qe),re("pause")))},ce.toggle=function(){ce[Qe?"pause":"resume"]()},ce.set=function(t,a){e.isPlainObject(t)?e.extend(le,t):le.hasOwnProperty(t)&&(le[t]=a)},ce.add=function(t,a){var n=e(t);De?(null!=a&&Se[0]?Se.length&&n.insertBefore(Se[a].el):n.appendTo(he),a<=Be.activeItem&&(Le.active=Be.activeItem+=n.length)):he.append(n),M()},ce.remove=function(t){if(De){var a=O(t);if(a>-1){Ce.eq(a).remove();var n=a===Be.activeItem;a<Be.activeItem&&(Le.active=--Be.activeItem),M(),n&&(Le.active=null,ce.activate(Be.activeItem))}}else e(t).remove(),M()},ce.moveAfter=function(e,t){L(e,t,1)},ce.moveBefore=function(e,t){L(e,t)},ce.on=function(e,t){if("object"===i(e))for(var a in e)e.hasOwnProperty(a)&&ce.on(a,e[a]);else if("function"===i(t))for(var n=e.split(" "),r=0,o=n.length;r<o;r++)He[n[r]]=He[n[r]]||[],j(n[r],t)===-1&&He[n[r]].push(t);else if("array"===i(t))for(var s=0,l=t.length;s<l;s++)ce.on(e,t[s])},ce.one=function(e,t){function a(){t.apply(ce,arguments),ce.off(e,a)}ce.on(e,a)},ce.off=function(e,t){if(t instanceof Array)for(var a=0,n=t.length;a<n;a++)ce.off(e,t[a]);else for(var i=e.split(" "),r=0,o=i.length;r<o;r++)if(He[i[r]]=He[i[r]]||[],null==t)He[i[r]].length=0;else{var s=j(i[r],t);s!==-1&&He[i[r]].splice(s,1)}},ce.destroy=function(){return w.add(Te).add(me).add(ge).add(Pe).add(qe).add(Ne).add(Oe).add(Xe).add(Ye).add(Ee).unbind("."+g),Oe.add(Xe).add(Ye).add(Ee).removeClass(le.disabledClass),Ce&&Ce.eq(Be.activeItem).removeClass(le.activeClass),Pe.empty(),de||(ue.unbind("."+g),he.add(me).css(u||(le.horizontal?"left":"top"),u?"none":0),e.removeData(t,g)),Se.length=Ie.length=0,Le={},ce.initialized=0,ce},ce.init=function(){if(!ce.initialized){ce.on(p);var e=me;return de||(e=e.add(he),ue.css("overflow","hidden"),u||"static"!==ue.css("position")||ue.css("position","relative")),u?h&&e.css(u,h):("static"===ge.css("position")&&ge.css("position","relative"),e.css({position:"absolute"})),le.forward&&qe.on(C,K),le.backward&&Ne.on(C,K),le.prev&&Oe.on(I,K),le.next&&Xe.on(I,K),le.prevPage&&Ye.on(I,K),le.nextPage&&Ee.on(I,K),Te.on("DOMMouseScroll."+g+" mousewheel."+g,_),ge[0]&&ge.on(I,ee),De&&le.activateOn&&ue.on(le.activateOn+"."+g,"*",ae),Pe[0]&&le.activatePageOn&&Pe.on(le.activatePageOn+"."+g,"*",ne),Ae.on(b,{source:"slidee"},$),me&&me.on(b,{source:"handle"},$),w.bind("keydown."+g,te),de||(ue.on("mouseenter."+g+" mouseleave."+g,ie),ue.on("scroll."+g,s)),M(),le.cycleBy&&!de&&ce[le.startPaused?"pause":"resume"](),ce.initialized=1,ce}}}function i(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof e}function r(e,t){e.preventDefault(),t&&e.stopPropagation()}function o(t){r(t,1),e(this).off(t.type,o)}function s(){this.scrollLeft=0,this.scrollTop=0}function l(e){return!isNaN(parseFloat(e))&&isFinite(e)}function c(e,t){return 0|Math.round(String(e.css(t)).replace(/[^\-0-9.]/g,""))}function d(e,t,a){return e<t?t:e>a?a:e}var u,h,f,v="sly",p="Sly",g=v,m=t.cancelAnimationFrame||t.cancelRequestAnimationFrame,y=t.requestAnimationFrame,w=e(document),b="touchstart."+g+" mousedown."+g,P="mousemove."+g+" mouseup."+g,z="touchmove."+g+" touchend."+g,I="click."+g,C="mousedown."+g,S=["INPUT","SELECT","BUTTON","TEXTAREA"],B=[];!function(e){for(var t=["moz","webkit","o"],a=0,n=0,i=t.length;n<i&&!m;++n)m=e[t[n]+"CancelAnimationFrame"]||e[t[n]+"CancelRequestAnimationFrame"],y=m&&e[t[n]+"RequestAnimationFrame"];m||(y=function(t){var n=+new Date,i=Math.max(0,16-(n-a));return a=n+i,e.setTimeout(function(){t(n+i)},i)},m=function(e){clearTimeout(e)})}(window),function(){function e(e){for(var n=0,i=t.length;n<i;n++){var r=t[n]?t[n]+e.charAt(0).toUpperCase()+e.slice(1):e;if(null!=a.style[r])return r}}var t=["","webkit","moz","ms","o"],a=document.createElement("div");u=e("transform"),h=e("perspective")?"translateZ(0) ":""}(),t[p]=n,e.fn[v]=function(t,a){var r,o;return e.isPlainObject(t)||("string"!==i(t)&&t!==!1||(r=t===!1?"destroy":t,o=Array.prototype.slice.call(arguments,1)),t={}),this.each(function(i,s){var l=e.data(s,g);l||r?l&&r&&l[r]&&l[r].apply(l,o):l=e.data(s,g,new n(s,t,a).init())})},n.defaults={horizontal:0,itemNav:null,itemSelector:null,smart:0,activateOn:null,activateMiddle:0,scrollSource:null,scrollBy:0,dragSource:null,mouseDragging:0,touchDragging:0,releaseSwing:0,swingSpeed:.2,elasticBounds:0,interactive:null,scrollBar:null,dragHandle:0,dynamicHandle:0,minHandleSize:50,clickBar:0,syncSpeed:.5,pagesBar:null,pageItem:"custom",activatePageOn:null,pageBuilder:function(e){return"<li>"+(e+1)+"</li>"},forward:null,backward:null,prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5e3,pauseOnHover:0,startPaused:0,moveBy:300,speed:0,easing:"swing",startAt:0,keyboardNavBy:null,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}}(jQuery,window);
!function(e){e.flexslider=function(t,a){var n=e(t);n.vars=e.extend({},e.flexslider.defaults,a);var i,s=n.vars.namespace,r=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,o=("ontouchstart"in window||r||window.DocumentTouch&&document instanceof DocumentTouch)&&n.vars.touch,l="click touchend MSPointerUp keyup",c="",d="vertical"===n.vars.direction,u=n.vars.reverse,v=n.vars.itemWidth>0,p="fade"===n.vars.animation,m=""!==n.vars.asNavFor,f={},g=!0;e.data(t,"flexslider",n),f={init:function(){n.animating=!1,n.currentSlide=parseInt(n.vars.startAt?n.vars.startAt:0,10),isNaN(n.currentSlide)&&(n.currentSlide=0),n.animatingTo=n.currentSlide,n.atEnd=0===n.currentSlide||n.currentSlide===n.last,n.containerSelector=n.vars.selector.substr(0,n.vars.selector.search(" ")),n.slides=e(n.vars.selector,n),n.container=e(n.containerSelector,n),n.count=n.slides.length,n.syncExists=e(n.vars.sync).length>0,"slide"===n.vars.animation&&(n.vars.animation="swing"),n.prop=d?"top":"marginLeft",n.args={},n.manualPause=!1,n.stopped=!1,n.started=!1,n.startTimeout=null,n.transitions=!n.vars.video&&!p&&n.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var a in t)if(void 0!==e.style[t[a]])return n.pfx=t[a].replace("Perspective","").toLowerCase(),n.prop="-"+n.pfx+"-transform",!0;return!1}(),n.ensureAnimationEnd="",""!==n.vars.controlsContainer&&(n.controlsContainer=e(n.vars.controlsContainer).length>0&&e(n.vars.controlsContainer)),""!==n.vars.manualControls&&(n.manualControls=e(n.vars.manualControls).length>0&&e(n.vars.manualControls)),n.vars.randomize&&(n.slides.sort(function(){return Math.round(Math.random())-.5}),n.container.empty().append(n.slides)),n.doMath(),n.setup("init"),n.vars.controlNav&&f.controlNav.setup(),n.vars.directionNav&&f.directionNav.setup(),n.vars.keyboard&&(1===e(n.containerSelector).length||n.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!n.animating&&(39===t||37===t)){var a=39===t?n.getTarget("next"):37===t&&n.getTarget("prev");n.flexAnimate(a,n.vars.pauseOnAction)}}),n.vars.mousewheel&&n.bind("mousewheel",function(e,t,a,i){e.preventDefault();var s=t<0?n.getTarget("next"):n.getTarget("prev");n.flexAnimate(s,n.vars.pauseOnAction)}),n.vars.pausePlay&&f.pausePlay.setup(),n.vars.slideshow&&n.vars.pauseInvisible&&f.pauseInvisible.init(),n.vars.slideshow&&(n.vars.pauseOnHover&&n.hover(function(){n.manualPlay||n.manualPause||n.pause()},function(){n.manualPause||n.manualPlay||n.stopped||n.play()}),n.vars.pauseInvisible&&f.pauseInvisible.isHidden()||(n.vars.initDelay>0?n.startTimeout=setTimeout(n.play,n.vars.initDelay):n.play())),m&&f.asNav.setup(),o&&n.vars.touch&&f.touch(),(!p||p&&n.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",f.resize),n.find("img").attr("draggable","false"),setTimeout(function(){n.vars.start(n)},200)},asNav:{setup:function(){n.asNav=!0,n.animatingTo=Math.floor(n.currentSlide/n.move),n.currentItem=n.currentSlide,n.slides.removeClass(s+"active-slide").eq(n.currentItem).addClass(s+"active-slide"),r?(t._slider=n,n.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var a=e(this),i=a.index();e(n.vars.asNavFor).data("flexslider").animating||a.hasClass("active")||(n.direction=n.currentItem<i?"next":"prev",n.flexAnimate(i,n.vars.pauseOnAction,!1,!0,!0))})})):n.slides.on(l,function(t){t.preventDefault();var a=e(this),i=a.index(),r=a.offset().left-e(n).scrollLeft();r<=0&&a.hasClass(s+"active-slide")?n.flexAnimate(n.getTarget("prev"),!0):e(n.vars.asNavFor).data("flexslider").animating||a.hasClass(s+"active-slide")||(n.direction=n.currentItem<i?"next":"prev",n.flexAnimate(i,n.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){n.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var t,a,i="thumbnails"===n.vars.controlNav?"control-thumbs":"control-paging",r=1;if(n.controlNavScaffold=e('<ol class="'+s+"control-nav "+s+i+'"></ol>'),n.pagingCount>1)for(var o=0;o<n.pagingCount;o++){if(a=n.slides.eq(o),t="thumbnails"===n.vars.controlNav?'<img src="'+a.attr("data-thumb")+'"/>':"<a>"+r+"</a>","thumbnails"===n.vars.controlNav&&!0===n.vars.thumbCaptions){var d=a.attr("data-thumbcaption");""!=d&&void 0!=d&&(t+='<span class="'+s+'caption">'+d+"</span>")}n.controlNavScaffold.append("<li>"+t+"</li>"),r++}n.controlsContainer?e(n.controlsContainer).append(n.controlNavScaffold):n.append(n.controlNavScaffold),f.controlNav.set(),f.controlNav.active(),n.controlNavScaffold.delegate("a, img",l,function(t){if(t.preventDefault(),""===c||c===t.type){var a=e(this),i=n.controlNav.index(a);a.hasClass(s+"active")||(n.direction=i>n.currentSlide?"next":"prev",n.flexAnimate(i,n.vars.pauseOnAction))}""===c&&(c=t.type),f.setToClearWatchedEvent()})},setupManual:function(){n.controlNav=n.manualControls,f.controlNav.active(),n.controlNav.bind(l,function(t){if(t.preventDefault(),""===c||c===t.type){var a=e(this),i=n.controlNav.index(a);a.hasClass(s+"active")||(i>n.currentSlide?n.direction="next":n.direction="prev",n.flexAnimate(i,n.vars.pauseOnAction))}""===c&&(c=t.type),f.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===n.vars.controlNav?"img":"a";n.controlNav=e("."+s+"control-nav li "+t,n.controlsContainer?n.controlsContainer:n)},active:function(){n.controlNav.removeClass(s+"active").eq(n.animatingTo).addClass(s+"active")},update:function(t,a){n.pagingCount>1&&"add"===t?n.controlNavScaffold.append(e("<li><a>"+n.count+"</a></li>")):1===n.pagingCount?n.controlNavScaffold.find("li").remove():n.controlNav.eq(a).closest("li").remove(),f.controlNav.set(),n.pagingCount>1&&n.pagingCount!==n.controlNav.length?n.update(a,t):f.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+s+'direction-nav"><li><a class="'+s+'prev" href="#">'+n.vars.prevText+'</a></li><li><a class="'+s+'next" href="#">'+n.vars.nextText+"</a></li></ul>");n.controlsContainer?(e(n.controlsContainer).append(t),n.directionNav=e("."+s+"direction-nav li a",n.controlsContainer)):(n.append(t),n.directionNav=e("."+s+"direction-nav li a",n)),f.directionNav.update(),n.directionNav.bind(l,function(t){t.preventDefault();var a;""!==c&&c!==t.type||(a=e(this).hasClass(s+"next")?n.getTarget("next"):n.getTarget("prev"),n.flexAnimate(a,n.vars.pauseOnAction)),""===c&&(c=t.type),f.setToClearWatchedEvent()})},update:function(){var e=s+"disabled";1===n.pagingCount?n.directionNav.addClass(e).attr("tabindex","-1"):n.vars.animationLoop?n.directionNav.removeClass(e).removeAttr("tabindex"):0===n.animatingTo?n.directionNav.removeClass(e).filter("."+s+"prev").addClass(e).attr("tabindex","-1"):n.animatingTo===n.last?n.directionNav.removeClass(e).filter("."+s+"next").addClass(e).attr("tabindex","-1"):n.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+s+'pauseplay"><a></a></div>');n.controlsContainer?(n.controlsContainer.append(t),n.pausePlay=e("."+s+"pauseplay a",n.controlsContainer)):(n.append(t),n.pausePlay=e("."+s+"pauseplay a",n)),f.pausePlay.update(n.vars.slideshow?s+"pause":s+"play"),n.pausePlay.bind(l,function(t){t.preventDefault(),""!==c&&c!==t.type||(e(this).hasClass(s+"pause")?(n.manualPause=!0,n.manualPlay=!1,n.pause()):(n.manualPause=!1,n.manualPlay=!0,n.play())),""===c&&(c=t.type),f.setToClearWatchedEvent()})},update:function(e){"play"===e?n.pausePlay.removeClass(s+"pause").addClass(s+"play").html(n.vars.playText):n.pausePlay.removeClass(s+"play").addClass(s+"pause").html(n.vars.pauseText)}},touch:function(){function e(e){n.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(n.pause(),g=d?n.h:n.w,S=Number(new Date),x=e.touches[0].pageX,b=e.touches[0].pageY,f=v&&u&&n.animatingTo===n.last?0:v&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:v&&n.currentSlide===n.last?n.limit:v?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*g:(n.currentSlide+n.cloneOffset)*g,c=d?b:x,m=d?x:b,t.addEventListener("touchmove",a,!1),t.addEventListener("touchend",i,!1))}function a(e){x=e.touches[0].pageX,b=e.touches[0].pageY,h=d?c-b:c-x,y=d?Math.abs(h)<Math.abs(x-m):Math.abs(h)<Math.abs(b-m);var t=500;(!y||Number(new Date)-S>t)&&(e.preventDefault(),!p&&n.transitions&&(n.vars.animationLoop||(h/=0===n.currentSlide&&h<0||n.currentSlide===n.last&&h>0?Math.abs(h)/g+2:1),n.setProps(f+h,"setTouch")))}function i(e){if(t.removeEventListener("touchmove",a,!1),n.animatingTo===n.currentSlide&&!y&&null!==h){var s=u?-h:h,r=s>0?n.getTarget("next"):n.getTarget("prev");n.canAdvance(r)&&(Number(new Date)-S<550&&Math.abs(s)>50||Math.abs(s)>g/2)?n.flexAnimate(r,n.vars.pauseOnAction):p||n.flexAnimate(n.currentSlide,n.vars.pauseOnAction,!0)}t.removeEventListener("touchend",i,!1),c=null,m=null,h=null,f=null}function s(e){e.stopPropagation(),n.animating?e.preventDefault():(n.pause(),t._gesture.addPointer(e.pointerId),T=0,g=d?n.h:n.w,S=Number(new Date),f=v&&u&&n.animatingTo===n.last?0:v&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:v&&n.currentSlide===n.last?n.limit:v?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*g:(n.currentSlide+n.cloneOffset)*g)}function o(e){e.stopPropagation();var a=e.target._slider;if(a){var n=-e.translationX,i=-e.translationY;return T+=d?i:n,h=T,y=d?Math.abs(T)<Math.abs(-n):Math.abs(T)<Math.abs(-i),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){t._gesture.stop()}):void((!y||Number(new Date)-S>500)&&(e.preventDefault(),!p&&a.transitions&&(a.vars.animationLoop||(h=T/(0===a.currentSlide&&T<0||a.currentSlide===a.last&&T>0?Math.abs(T)/g+2:1)),a.setProps(f+h,"setTouch"))))}}function l(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!y&&null!==h){var a=u?-h:h,n=a>0?t.getTarget("next"):t.getTarget("prev");t.canAdvance(n)&&(Number(new Date)-S<550&&Math.abs(a)>50||Math.abs(a)>g/2)?t.flexAnimate(n,t.vars.pauseOnAction):p||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}c=null,m=null,h=null,f=null,T=0}}var c,m,f,g,h,S,y=!1,x=0,b=0,T=0;r?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",s,!1),t._slider=n,t.addEventListener("MSGestureChange",o,!1),t.addEventListener("MSGestureEnd",l,!1)):t.addEventListener("touchstart",e,!1)},resize:function(){!n.animating&&n.is(":visible")&&(v||n.doMath(),p?f.smoothHeight():v?(n.slides.width(n.computedW),n.update(n.pagingCount),n.setProps()):d?(n.viewport.height(n.h),n.setProps(n.h,"setTotal")):(n.vars.smoothHeight&&f.smoothHeight(),n.newSlides.width(n.computedW),n.setProps(n.computedW,"setTotal")))},smoothHeight:function(e){if(!d||p){var t=p?n:n.viewport;e?t.animate({height:n.slides.eq(n.animatingTo).height()},e):t.height(n.slides.eq(n.animatingTo).height())}},sync:function(t){var a=e(n.vars.sync).data("flexslider"),i=n.animatingTo;switch(t){case"animate":a.flexAnimate(i,n.vars.pauseOnAction,!1,!0);break;case"play":a.playing||a.asNav||a.play();break;case"pause":a.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(f.pauseInvisible.visProp=e[t]+"Hidden");if(f.pauseInvisible.visProp){var a=f.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(a,function(){f.pauseInvisible.isHidden()?n.startTimeout?clearTimeout(n.startTimeout):n.pause():n.started?n.play():n.vars.initDelay>0?setTimeout(n.play,n.vars.initDelay):n.play()})}},isHidden:function(){return document[f.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(i),i=setTimeout(function(){c=""},3e3)}},n.flexAnimate=function(t,a,i,r,l){if(n.vars.animationLoop||t===n.currentSlide||(n.direction=t>n.currentSlide?"next":"prev"),m&&1===n.pagingCount&&(n.direction=n.currentItem<t?"next":"prev"),!n.animating&&(n.canAdvance(t,l)||i)&&n.is(":visible")){if(m&&r){var c=e(n.vars.asNavFor).data("flexslider");if(n.atEnd=0===t||t===n.count-1,c.flexAnimate(t,!0,!1,!0,l),n.direction=n.currentItem<t?"next":"prev",c.direction=n.direction,Math.ceil((t+1)/n.visible)-1===n.currentSlide||0===t)return n.currentItem=t,n.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),!1;n.currentItem=t,n.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),t=Math.floor(t/n.visible)}if(n.animating=!0,n.animatingTo=t,a&&n.pause(),n.vars.before(n),n.syncExists&&!l&&f.sync("animate"),n.vars.controlNav&&f.controlNav.active(),v||n.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),n.atEnd=0===t||t===n.last,n.vars.directionNav&&f.directionNav.update(),t===n.last&&(n.vars.end(n),n.vars.animationLoop||n.pause()),p)o?(n.slides.eq(n.currentSlide).css({opacity:0,zIndex:1}),n.slides.eq(t).css({opacity:1,zIndex:2}),n.wrapup(y)):(n.slides.eq(n.currentSlide).css({zIndex:1}).animate({opacity:0},n.vars.animationSpeed,n.vars.easing),n.slides.eq(t).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing,n.wrapup));else{var g,h,S,y=d?n.slides.filter(":first").height():n.computedW;v?(g=n.vars.itemMargin,S=(n.itemW+g)*n.move*n.animatingTo,h=S>n.limit&&1!==n.visible?n.limit:S):h=0===n.currentSlide&&t===n.count-1&&n.vars.animationLoop&&"next"!==n.direction?u?(n.count+n.cloneOffset)*y:0:n.currentSlide===n.last&&0===t&&n.vars.animationLoop&&"prev"!==n.direction?u?0:(n.count+1)*y:u?(n.count-1-t+n.cloneOffset)*y:(t+n.cloneOffset)*y,n.setProps(h,"",n.vars.animationSpeed),n.transitions?(n.vars.animationLoop&&n.atEnd||(n.animating=!1,n.currentSlide=n.animatingTo),n.container.unbind("webkitTransitionEnd transitionend"),n.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(n.ensureAnimationEnd),n.wrapup(y)}),clearTimeout(n.ensureAnimationEnd),n.ensureAnimationEnd=setTimeout(function(){n.wrapup(y)},n.vars.animationSpeed+100)):n.container.animate(n.args,n.vars.animationSpeed,n.vars.easing,function(){n.wrapup(y)})}n.vars.smoothHeight&&f.smoothHeight(n.vars.animationSpeed)}},n.wrapup=function(e){p||v||(0===n.currentSlide&&n.animatingTo===n.last&&n.vars.animationLoop?n.setProps(e,"jumpEnd"):n.currentSlide===n.last&&0===n.animatingTo&&n.vars.animationLoop&&n.setProps(e,"jumpStart")),n.animating=!1,n.currentSlide=n.animatingTo,n.vars.after(n)},n.animateSlides=function(){!n.animating&&g&&n.flexAnimate(n.getTarget("next"))},n.pause=function(){clearInterval(n.animatedSlides),n.animatedSlides=null,n.playing=!1,n.vars.pausePlay&&f.pausePlay.update("play"),n.syncExists&&f.sync("pause")},n.play=function(){n.playing&&clearInterval(n.animatedSlides),n.animatedSlides=n.animatedSlides||setInterval(n.animateSlides,n.vars.slideshowSpeed),n.started=n.playing=!0,n.vars.pausePlay&&f.pausePlay.update("pause"),n.syncExists&&f.sync("play")},n.stop=function(){n.pause(),n.stopped=!0},n.canAdvance=function(e,t){var a=m?n.pagingCount-1:n.last;return!!t||(!(!m||n.currentItem!==n.count-1||0!==e||"prev"!==n.direction)||(!m||0!==n.currentItem||e!==n.pagingCount-1||"next"===n.direction)&&(!(e===n.currentSlide&&!m)&&(!!n.vars.animationLoop||(!n.atEnd||0!==n.currentSlide||e!==a||"next"===n.direction)&&(!n.atEnd||n.currentSlide!==a||0!==e||"next"!==n.direction))))},n.getTarget=function(e){return n.direction=e,"next"===e?n.currentSlide===n.last?0:n.currentSlide+1:0===n.currentSlide?n.last:n.currentSlide-1},n.setProps=function(e,t,a){var i=function(){var a=e?e:(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo,i=function(){if(v)return"setTouch"===t?e:u&&n.animatingTo===n.last?0:u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:n.animatingTo===n.last?n.limit:a;switch(t){case"setTotal":return u?(n.count-1-n.currentSlide+n.cloneOffset)*e:(n.currentSlide+n.cloneOffset)*e;case"setTouch":return u?e:e;case"jumpEnd":return u?e:n.count*e;case"jumpStart":return u?n.count*e:e;default:return e}}();return i*-1+"px"}();n.transitions&&(i=d?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)",a=void 0!==a?a/1e3+"s":"0s",n.container.css("-"+n.pfx+"-transition-duration",a),n.container.css("transition-duration",a)),n.args[n.prop]=i,(n.transitions||void 0===a)&&n.container.css(n.args),n.container.css("transform",i)},n.setup=function(t){if(p)n.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(o?n.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+n.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(n.currentSlide).css({opacity:1,zIndex:2}):0==n.vars.fadeFirstSlide?n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).css({opacity:1}):n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing)),n.vars.smoothHeight&&f.smoothHeight();else{var a,i;"init"===t&&(n.viewport=e('<div class="'+s+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(n).append(n.container),n.cloneCount=0,n.cloneOffset=0,u&&(i=e.makeArray(n.slides).reverse(),n.slides=e(i),n.container.empty().append(n.slides))),n.vars.animationLoop&&!v&&(n.cloneCount=2,n.cloneOffset=1,"init"!==t&&n.container.find(".clone").remove(),n.container.append(f.uniqueID(n.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(f.uniqueID(n.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),n.newSlides=e(n.vars.selector,n),a=u?n.count-1-n.currentSlide+n.cloneOffset:n.currentSlide+n.cloneOffset,d&&!v?(n.container.height(200*(n.count+n.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){n.newSlides.css({display:"block"}),n.doMath(),n.viewport.height(n.h),n.setProps(a*n.h,"init")},"init"===t?100:0)):(n.container.width(200*(n.count+n.cloneCount)+"%"),n.setProps(a*n.computedW,"init"),setTimeout(function(){n.doMath(),n.newSlides.css({width:n.computedW,"float":"left",display:"block"}),n.vars.smoothHeight&&f.smoothHeight()},"init"===t?100:0))}v||n.slides.removeClass(s+"active-slide").eq(n.currentSlide).addClass(s+"active-slide"),n.vars.init(n)},n.doMath=function(){var e=n.slides.first(),t=n.vars.itemMargin,a=n.vars.minItems,i=n.vars.maxItems;n.w=void 0===n.viewport?n.width():n.viewport.width(),n.h=e.height(),n.boxPadding=e.outerWidth()-e.width(),v?(n.itemT=n.vars.itemWidth+t,n.minW=a?a*n.itemT:n.w,n.maxW=i?i*n.itemT-t:n.w,n.itemW=n.minW>n.w?(n.w-t*(a-1))/a:n.maxW<n.w?(n.w-t*(i-1))/i:n.vars.itemWidth>n.w?n.w:n.vars.itemWidth,n.visible=Math.floor(n.w/n.itemW),n.move=n.vars.move>0&&n.vars.move<n.visible?n.vars.move:n.visible,n.pagingCount=Math.ceil((n.count-n.visible)/n.move+1),n.last=n.pagingCount-1,n.limit=1===n.pagingCount?0:n.vars.itemWidth>n.w?n.itemW*(n.count-1)+t*(n.count-1):(n.itemW+t)*n.count-n.w-t):(n.itemW=n.w,n.pagingCount=n.count,n.last=n.count-1),n.computedW=n.itemW-n.boxPadding},n.update=function(e,t){n.doMath(),v||(e<n.currentSlide?n.currentSlide+=1:e<=n.currentSlide&&0!==e&&(n.currentSlide-=1),n.animatingTo=n.currentSlide),n.vars.controlNav&&!n.manualControls&&("add"===t&&!v||n.pagingCount>n.controlNav.length?f.controlNav.update("add"):("remove"===t&&!v||n.pagingCount<n.controlNav.length)&&(v&&n.currentSlide>n.last&&(n.currentSlide-=1,n.animatingTo-=1),f.controlNav.update("remove",n.last))),n.vars.directionNav&&f.directionNav.update()},n.addSlide=function(t,a){var i=e(t);n.count+=1,n.last=n.count-1,d&&u?void 0!==a?n.slides.eq(n.count-a).after(i):n.container.prepend(i):void 0!==a?n.slides.eq(a).before(i):n.container.append(i),n.update(a,"add"),n.slides=e(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.added(n)},n.removeSlide=function(t){var a=isNaN(t)?n.slides.index(e(t)):t;n.count-=1,n.last=n.count-1,isNaN(t)?e(t,n.slides).remove():d&&u?n.slides.eq(n.last).remove():n.slides.eq(t).remove(),n.doMath(),n.update(a,"remove"),n.slides=e(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.removed(n)},f.init()},e(window).blur(function(e){focused=!1}).focus(function(e){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var a=e(this),n=t.selector?t.selector:".slides > li",i=a.find(n);1===i.length&&t.allowOneSlide===!0||0===i.length?(i.fadeIn(400),t.start&&t.start(a)):void 0===a.data("flexslider")&&new e.flexslider(this,t)});var a=e(this).data("flexslider");switch(t){case"play":a.play();break;case"pause":a.pause();break;case"stop":a.stop();break;case"next":a.flexAnimate(a.getTarget("next"),!0);break;case"prev":case"previous":a.flexAnimate(a.getTarget("prev"),!0);break;default:"number"==typeof t&&a.flexAnimate(t,!0)}}}(jQuery);
(function(){!function(t,i,e){var s,n,a;return a="slidesjs",n={width:940,height:528,start:1,navigation:{active:!0,effect:"slide"},pagination:{active:!0,effect:"slide"},play:{active:!1,effect:"slide",interval:5e3,auto:!1,swap:!0,pauseOnHover:!1,restartDelay:2500},effect:{slide:{speed:500},fade:{speed:300,crossfade:!0}},callback:{loaded:function(){},start:function(){},complete:function(){}}},s=function(){function i(i,e){this.element=i,this.options=t.extend(!0,{},n,e),this._defaults=n,this._name=a,this.init()}return i}(),s.prototype.init=function(){var e,s,n,a,o,d,r=this;return e=t(this.element),this.data=t.data(this),t.data(this,"animating",!1),t.data(this,"total",e.children().not(".slidesjs-navigation",e).length),t.data(this,"current",this.options.start-1),t.data(this,"vendorPrefix",this._getVendorPrefix()),"undefined"!=typeof TouchEvent&&(t.data(this,"touch",!0),this.options.effect.slide.speed=this.options.effect.slide.speed/2),e.css({overflow:"hidden"}),e.slidesContainer=e.children().not(".slidesjs-navigation",e).wrapAll("<div class='slidesjs-container'>",e).parent().css({overflow:"hidden",position:"relative"}),t(".slidesjs-container",e).wrapInner("<div class='slidesjs-control'>",e).children(),t(".slidesjs-control",e).css({position:"relative",left:0}),t(".slidesjs-control",e).children().addClass("slidesjs-slide").css({position:"absolute",top:0,left:0,width:"100%",zIndex:0,display:"none",webkitBackfaceVisibility:"hidden"}),t.each(t(".slidesjs-control",e).children(),function(i){var e;return e=t(this),e.attr("slidesjs-index",i)}),this.data.touch&&(t(".slidesjs-control",e).on("touchstart",function(t){return r._touchstart(t)}),t(".slidesjs-control",e).on("touchmove",function(t){return r._touchmove(t)}),t(".slidesjs-control",e).on("touchend",function(t){return r._touchend(t)})),e.fadeIn(0),this.update(),this.data.touch&&this._setuptouch(),t(".slidesjs-control",e).children(":eq("+this.data.current+")").eq(0).fadeIn(0,function(){return t(this).css({zIndex:10})}),this.options.navigation.active&&(o=t("<a>",{"class":"slidesjs-previous slidesjs-navigation",href:"#",title:"Previous",text:"Previous"}).appendTo(e),s=t("<a>",{"class":"slidesjs-next slidesjs-navigation",href:"#",title:"Next",text:"Next"}).appendTo(e)),t(".slidesjs-next",e).click(function(t){return t.preventDefault(),r.stop(!0),r.next(r.options.navigation.effect)}),t(".slidesjs-previous",e).click(function(t){return t.preventDefault(),r.stop(!0),r.previous(r.options.navigation.effect)}),this.options.play.active&&(a=t("<a>",{"class":"slidesjs-play slidesjs-navigation",href:"#",title:"Play",text:"Play"}).appendTo(e),d=t("<a>",{"class":"slidesjs-stop slidesjs-navigation",href:"#",title:"Stop",text:"Stop"}).appendTo(e),a.click(function(t){return t.preventDefault(),r.play(!0)}),d.click(function(t){return t.preventDefault(),r.stop(!0)}),this.options.play.swap&&d.css({display:"none"})),this.options.pagination.active&&(n=t("<ul>",{"class":"slidesjs-pagination"}).appendTo(e),t.each(new Array(this.data.total),function(i){var e,s;return e=t("<li>",{"class":"slidesjs-pagination-item"}).appendTo(n),s=t("<a>",{href:"#","data-slidesjs-item":i,html:i+1}).appendTo(e),s.click(function(i){return i.preventDefault(),r.stop(!0),r["goto"](1*t(i.currentTarget).attr("data-slidesjs-item")+1)})})),t(i).bind("resize",function(){return r.update()}),this._setActive(),this.options.play.auto&&this.play(),this.options.callback.loaded(this.options.start)},s.prototype._setActive=function(i){var e,s;return e=t(this.element),this.data=t.data(this),s=i>-1?i:this.data.current,t(".active",e).removeClass("active"),t(".slidesjs-pagination li:eq("+s+") a",e).addClass("active")},s.prototype.update=function(){var i,e,s;return i=t(this.element),this.data=t.data(this),t(".slidesjs-control",i).children(":not(:eq("+this.data.current+"))").css({display:"none",left:0,zIndex:0}),s=i.width(),e=this.options.height/this.options.width*s,this.options.width=s,this.options.height=e,t(".slidesjs-control, .slidesjs-container",i).css({width:s,height:e})},s.prototype.next=function(i){var e;return e=t(this.element),this.data=t.data(this),t.data(this,"direction","next"),void 0===i&&(i=this.options.navigation.effect),"fade"===i?this._fade():this._slide()},s.prototype.previous=function(i){var e;return e=t(this.element),this.data=t.data(this),t.data(this,"direction","previous"),void 0===i&&(i=this.options.navigation.effect),"fade"===i?this._fade():this._slide()},s.prototype["goto"]=function(i){var e,s;if(e=t(this.element),this.data=t.data(this),void 0===s&&(s=this.options.pagination.effect),i>this.data.total?i=this.data.total:i<1&&(i=1),"number"==typeof i)return"fade"===s?this._fade(i):this._slide(i);if("string"==typeof i){if("first"===i)return"fade"===s?this._fade(0):this._slide(0);if("last"===i)return"fade"===s?this._fade(this.data.total):this._slide(this.data.total)}},s.prototype._setuptouch=function(){var i,e,s,n;return i=t(this.element),this.data=t.data(this),n=t(".slidesjs-control",i),e=this.data.current+1,s=this.data.current-1,s<0&&(s=this.data.total-1),e>this.data.total-1&&(e=0),n.children(":eq("+e+")").css({display:"block",left:this.options.width}),n.children(":eq("+s+")").css({display:"block",left:-this.options.width})},s.prototype._touchstart=function(i){var e,s;return e=t(this.element),this.data=t.data(this),s=i.originalEvent.touches[0],this._setuptouch(),t.data(this,"touchtimer",Number(new Date)),t.data(this,"touchstartx",s.pageX),t.data(this,"touchstarty",s.pageY),i.stopPropagation()},s.prototype._touchend=function(i){var e,s,n,a,o,d,r,l=this;return e=t(this.element),this.data=t.data(this),d=i.originalEvent.touches[0],a=t(".slidesjs-control",e),a.position().left>.5*this.options.width||a.position().left>.1*this.options.width&&Number(new Date)-this.data.touchtimer<250?(t.data(this,"direction","previous"),this._slide()):a.position().left<-(.5*this.options.width)||a.position().left<-(.1*this.options.width)&&Number(new Date)-this.data.touchtimer<250?(t.data(this,"direction","next"),this._slide()):(n=this.data.vendorPrefix,r=n+"Transform",s=n+"TransitionDuration",o=n+"TransitionTimingFunction",a[0].style[r]="translateX(0px)",a[0].style[s]=.85*this.options.effect.slide.speed+"ms"),a.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return n=l.data.vendorPrefix,r=n+"Transform",s=n+"TransitionDuration",o=n+"TransitionTimingFunction",a[0].style[r]="",a[0].style[s]="",a[0].style[o]=""}),i.stopPropagation()},s.prototype._touchmove=function(i){var e,s,n,a,o;return e=t(this.element),this.data=t.data(this),a=i.originalEvent.touches[0],s=this.data.vendorPrefix,n=t(".slidesjs-control",e),o=s+"Transform",t.data(this,"scrolling",Math.abs(a.pageX-this.data.touchstartx)<Math.abs(a.pageY-this.data.touchstarty)),this.data.animating||this.data.scrolling||(i.preventDefault(),this._setuptouch(),n[0].style[o]="translateX("+(a.pageX-this.data.touchstartx)+"px)"),i.stopPropagation()},s.prototype.play=function(i){var e,s,n,a=this;if(e=t(this.element),this.data=t.data(this),!this.data.playInterval&&(i&&(s=this.data.current,this.data.direction="next","fade"===this.options.play.effect?this._fade():this._slide()),t.data(this,"playInterval",setInterval(function(){return s=a.data.current,a.data.direction="next","fade"===a.options.play.effect?a._fade():a._slide()},this.options.play.interval)),n=t(".slidesjs-container",e),this.options.play.pauseOnHover&&(n.unbind(),n.bind("mouseenter",function(){return a.stop()}),n.bind("mouseleave",function(){return a.options.play.restartDelay?t.data(a,"restartDelay",setTimeout(function(){return a.play(!0)},a.options.play.restartDelay)):a.play()})),t.data(this,"playing",!0),t(".slidesjs-play",e).addClass("slidesjs-playing"),this.options.play.swap))return t(".slidesjs-play",e).hide(),t(".slidesjs-stop",e).show()},s.prototype.stop=function(i){var e;if(e=t(this.element),this.data=t.data(this),clearInterval(this.data.playInterval),this.options.play.pauseOnHover&&i&&t(".slidesjs-container",e).unbind(),t.data(this,"playInterval",null),t.data(this,"playing",!1),t(".slidesjs-play",e).removeClass("slidesjs-playing"),this.options.play.swap)return t(".slidesjs-stop",e).hide(),t(".slidesjs-play",e).show()},s.prototype._slide=function(i){var e,s,n,a,o,d,r,l,h,c,p=this;if(e=t(this.element),this.data=t.data(this),!this.data.animating&&i!==this.data.current+1)return t.data(this,"animating",!0),s=this.data.current,i>-1?(i-=1,c=i>s?1:-1,n=i>s?-this.options.width:this.options.width,o=i):(c="next"===this.data.direction?1:-1,n="next"===this.data.direction?-this.options.width:this.options.width,o=s+c),o===-1&&(o=this.data.total-1),o===this.data.total&&(o=0),this._setActive(o),r=t(".slidesjs-control",e),i>-1&&r.children(":not(:eq("+s+"))").css({display:"none",left:0,zIndex:0}),r.children(":eq("+o+")").css({display:"block",left:c*this.options.width,zIndex:10}),this.options.callback.start(s+1),this.data.vendorPrefix?(d=this.data.vendorPrefix,h=d+"Transform",a=d+"TransitionDuration",l=d+"TransitionTimingFunction",r[0].style[h]="translateX("+n+"px)",r[0].style[a]=this.options.effect.slide.speed+"ms",r.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return r[0].style[h]="",r[0].style[a]="",r.children(":eq("+o+")").css({left:0}),r.children(":eq("+s+")").css({display:"none",left:0,zIndex:0}),t.data(p,"current",o),t.data(p,"animating",!1),r.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd"),r.children(":not(:eq("+o+"))").css({display:"none",left:0,zIndex:0}),p.data.touch&&p._setuptouch(),p.options.callback.complete(o+1)})):r.stop().animate({left:n},this.options.effect.slide.speed,function(){return r.css({left:0}),r.children(":eq("+o+")").css({left:0}),r.children(":eq("+s+")").css({display:"none",left:0,zIndex:0},t.data(p,"current",o),t.data(p,"animating",!1),p.options.callback.complete(o+1))})},s.prototype._fade=function(i){var e,s,n,a,o,d=this;if(e=t(this.element),this.data=t.data(this),!this.data.animating&&i!==this.data.current+1)return t.data(this,"animating",!0),s=this.data.current,i?(i-=1,o=i>s?1:-1,n=i):(o="next"===this.data.direction?1:-1,n=s+o),n===-1&&(n=this.data.total-1),n===this.data.total&&(n=0),this._setActive(n),a=t(".slidesjs-control",e),a.children(":eq("+n+")").css({display:"none",left:0,zIndex:10}),this.options.callback.start(s+1),this.options.effect.fade.crossfade?(a.children(":eq("+this.data.current+")").stop().fadeOut(this.options.effect.fade.speed),a.children(":eq("+n+")").stop().fadeIn(this.options.effect.fade.speed,function(){return a.children(":eq("+n+")").css({zIndex:0}),t.data(d,"animating",!1),t.data(d,"current",n),d.options.callback.complete(n+1)})):a.children(":eq("+s+")").stop().fadeOut(this.options.effect.fade.speed,function(){return a.children(":eq("+n+")").stop().fadeIn(d.options.effect.fade.speed,function(){return a.children(":eq("+n+")").css({zIndex:10})}),t.data(d,"animating",!1),t.data(d,"current",n),d.options.callback.complete(n+1)})},s.prototype._getVendorPrefix=function(){var t,i,s,n,a;for(t=e.body||e.documentElement,s=t.style,n="transition",a=["Moz","Webkit","Khtml","O","ms"],n=n.charAt(0).toUpperCase()+n.substr(1),i=0;i<a.length;){if("string"==typeof s[a[i]+n])return a[i];i++}return!1},t.fn[a]=function(i){return this.each(function(){if(!t.data(this,"plugin_"+a))return t.data(this,"plugin_"+a,new s(this,i))})}}(jQuery,window,document)}).call(this);
!function(l,e,o){l.fn.scrollUp=function(e){l.data(o.body,"scrollUp")||(l.data(o.body,"scrollUp",!0),l.fn.scrollUp.init(e))},l.fn.scrollUp.init=function(r){var s,t=l.fn.scrollUp.settings=l.extend({},l.fn.scrollUp.defaults,r);s=t.scrollTrigger?l(t.scrollTrigger):l("<a/>",{id:t.scrollName,href:"#top"}),t.scrollTitle&&s.attr("title",t.scrollTitle),t.className&&s.addClass(t.className),s.appendTo("body"),t.scrollImg||t.scrollTrigger||s.html(t.scrollText),s.css({display:"none",position:"fixed",zIndex:t.zIndex}),t.activeOverlay&&l("<div/>",{id:t.scrollName+"-active"}).css({position:"absolute",top:t.scrollDistance+"px",width:"100%",borderTop:"1px dotted"+t.activeOverlay,zIndex:t.zIndex}).appendTo("body");var c,a,n,i;switch(t.animation){case"fade":c="fadeIn",a="fadeOut",n=t.animationSpeed;break;case"slide":c="slideDown",a="slideUp",n=t.animationSpeed;break;default:c="show",a="hide",n=0}i="top"===t.scrollFrom?t.scrollDistance:l(o).height()-l(e).height()-t.scrollDistance;var d=!1;scrollEvent=l(e).scroll(function(){l(e).scrollTop()>i?d||(s[c](n),d=!0):d&&(s[a](n),d=!1)});var p;t.scrollTarget?"number"==typeof t.scrollTarget?p=t.scrollTarget:"string"==typeof t.scrollTarget&&(p=Math.floor(l(t.scrollTarget).offset().top)):p=0,s.click(function(e){e.preventDefault(),l("html, body").animate({scrollTop:p},t.scrollSpeed,t.easingType)})},l.fn.scrollUp.defaults={scrollName:"scrollUp",scrollDistance:300,scrollFrom:"top",scrollSpeed:300,easingType:"linear",animation:"fade",animationSpeed:200,scrollTrigger:!1,scrollTarget:!1,scrollText:"Scroll to top",scrollTitle:!1,scrollImg:!1,activeOverlay:!1,className:!1,zIndex:2147483647},l.fn.scrollUp.destroy=function(r){l.removeData(o.body,"scrollUp"),l("#"+l.fn.scrollUp.settings.scrollName).remove(),l("#"+l.fn.scrollUp.settings.scrollName+"-active").remove(),l.fn.jquery.split(".")[1]>=7?l(e).off("scroll",r):l(e).unbind("scroll",r)},l.scrollUp=l.fn.scrollUp}(jQuery,window,document);
!function(){$.fn.smint=function(t){var s=$.extend({scrollSpeed:500,mySelector:"div",selectClass:""},t);$(this).addClass("smint");var i=new Array,e=0,o=$(".smint").height(),a=$(".smint"),l=a.height();if(s.selectClass)var n=$(".smint a."+s.selectClass);else var n=$(".smint a");if(s.scrollSpeed)var r=s.scrollSpeed;if(s.mySelector)var c=s.mySelector;return n.each(function(t){var s=$(this).attr("href").split("#")[1];$(this).hasClass("extLink")||$(this).attr("id",s),i.push(Array($(c+"."+s).position().top-o,$(c+"."+s).height()+$(c+"."+s).position().top,s));var d=a.offset().top,p=function(e){var n=$(window).scrollTop()+l;n>d+l?(a.css({position:"fixed",top:0,left:0}).addClass("fxd"),$("body").css("padding-top",o)):(a.css("position","relative").removeClass("fxd"),$("body").css("padding-top","0")),console.log("scrollTop:"+n+" direction: "+e+" index: "+t),i[t][0]<=n&&n<=i[t][1]&&("up"==e?($("#"+s).addClass("active"),$("#"+i[t+1][2]).removeClass("active")):t>0?($("#"+s).addClass("active"),$("#"+i[t-1][2]).removeClass("active")):void 0==e&&$("#"+s).addClass("active"),$.each(i,function(t){s!=i[t][2]&&$("#"+i[t][2]).removeClass("active")}))};p(),$(window).scroll(function(){var t=$(this).scrollTop()+l;t>e?direction="down":t<e&&(direction="up"),e=t,p(direction),$(window).scrollTop()+$(window).height()==$(document).height()?(n.removeClass("active"),$(".smint a:not('.extLink'):last").addClass("active")):n.last().removeClass("active")}),$(this).on("click",function(t){var s=a.height();t.preventDefault();var i=$(this).attr("href").split("#")[1],e=$(c+"."+i).offset().top-s;if($("html, body").stop().animate({scrollTop:e},r),$(this).hasClass("extLink"))return!1}),$(".intLink").on("click",function(t){var s=a.height();t.preventDefault();var i=$(this).attr("href").split("#")[1];if(a.hasClass("fxd"))var e=$(c+"."+i).position().top-s;else var e=$(c+"."+i).position().top-2*s;if($("html, body").stop().animate({scrollTop:e},r),$(this).hasClass("extLink"))return!1})})},$.fn.smint.defaults={scrollSpeed:500,mySelector:"div"}}(jQuery);
!function(e,t,o,n){"use strict";var s,c=[],i=[],a=[],u=0,h=t.location.hash,r=!1,l=e(t).scrollTop(),d=!1,f={section:"section",sectionName:"section-name",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,axis:"y",target:"html,body",before:function(){},after:function(){}};e.scrollify=function(n){function p(o){i[o]&&(f.before(o,a),f.sectionName&&(t.location.hash=i[o]),e(f.target).stop().animate({scrollTop:c[o]},f.scrollSpeed,f.easing),e(f.target).promise().done(function(){f.after(o,a)}))}var m={handleMousedown:function(){d=!1},handleMouseup:function(){d=!0},handleScroll:function(){s&&clearTimeout(s),s=setTimeout(function(){if(l=e(t).scrollTop(),0==d)return!1;d=!1;for(var o,n=1,s=c.length,i=0,a=Math.abs(c[0]-l);n<s;n++)o=Math.abs(c[n]-l),o<a&&(a=o,i=n);u=i,p(i)},200)},wheelHandler:function(e,t){e.preventDefault(),t=t||-e.originalEvent.detail/3||e.originalEvent.wheelDelta/120,s&&clearTimeout(s),s=setTimeout(function(){t<0?u<c.length-1&&u++:t>0&&u>0&&u--,u>=0?p(u):u=0},25)},keyHandler:function(e){e.preventDefault(),38==e.keyCode?(u>0&&u--,p(u)):40==e.keyCode&&(u<c.length-1&&u++,p(u))},init:function(){f.scrollbars?(e(t).bind("mousedown",m.handleMousedown),e(t).bind("mouseup",m.handleMouseup),e(t).bind("scroll",m.handleScroll)):e("body").css({overflow:"hidden"}),e(o).bind("DOMMouseScroll mousewheel",m.wheelHandler),e(o).bind("keyup",m.keyHandler)}},y={touches:{touchstart:{y:-1},touchmove:{y:-1},touchend:!1,direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(e){var t;if("undefined"!=typeof e&&(e.preventDefault(),"undefined"!=typeof e.touches))switch(t=e.touches[0],e.type){case"touchstart":y.options.timeStamp=(new Date).getTime(),y.touches.touchend=!1;case"touchmove":y.touches[e.type].y=t.pageY,y.options.timeStamp+y.options.timeGap<(new Date).getTime()&&0==y.touches.touchend&&(y.touches.touchend=!0,y.touches.touchstart.y>-1&&Math.abs(y.touches.touchmove.y-y.touches.touchstart.y)>y.options.distance&&(y.touches.touchstart.y<y.touches.touchmove.y?(u>0&&u--,p(u)):(u<c.length-1&&u++,p(u))));break;case"touchend":0==y.touches[e.type]&&(y.touches[e.type]=!0,y.touches.touchstart.y>-1&&Math.abs(y.touches.touchmove.y-y.touches.touchstart.y)>y.options.distance&&(y.touches.touchstart.y<y.touches.touchmove.y?(u>0&&u--,p(u)):(u<c.length-1&&u++,p(u))))}},init:function(){o.addEventListener&&(o.addEventListener("touchstart",y.touchHandler,!1),o.addEventListener("touchmove",y.touchHandler,!1),o.addEventListener("touchend",y.touchHandler,!1))}};if("string"==typeof n)for(var v=i.length;v>=0;v--)"string"==typeof arguments[1]?i[v]==arguments[1]&&(u=v,p(v)):v==arguments[1]&&(u=v,p(v));else f=e.extend(f,n),e(f.section).each(function(t){t>0?c[t]=e(this).offset().top+f.offset:c[t]=e(this).offset().top,f.sectionName&&e(this).data(f.sectionName)?i[t]="#"+e(this).data(f.sectionName).replace(/ /g,"-"):i[t]="#"+(t+1),a[t]=e(this),h==i[t]&&(u=t,r=!0)}),0==r&&f.sectionName?t.location.hash=i[0]:p(u),m.init(),y.init()}}(jQuery,this,document);
!function(t){t.fn.qrcode=function(e){function r(t){this.mode=u,this.data=t}function o(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function n(t,e){if(void 0==t.length)throw Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=Array(t.length-r+e);for(var o=0;o<t.length-r;o++)this.num[o]=t[o+r]}function i(t,e){this.totalCount=t,this.dataCount=e}function s(){this.buffer=[],this.length=0}var u;r.prototype={getLength:function(){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},o.prototype={addData:function(t){this.dataList.push(new r(t)),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var t=1,t=1;40>t;t++){for(var e=i.getRSBlocks(t,this.errorCorrectLevel),r=new s,o=0,n=0;n<e.length;n++)o+=e[n].dataCount;for(n=0;n<this.dataList.length;n++)e=this.dataList[n],r.put(e.mode,4),r.put(e.getLength(),a.getLengthInBits(e.mode,t)),e.write(r);if(r.getLengthInBits()<=8*o)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),7<=this.typeNumber&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;7>=r;r++)if(!(-1>=t+r||this.moduleCount<=t+r))for(var o=-1;7>=o;o++)-1>=e+o||this.moduleCount<=e+o||(this.modules[t+r][e+o]=0<=r&&6>=r&&(0==o||6==o)||0<=o&&6>=o&&(0==r||6==r)||2<=r&&4>=r&&2<=o&&4>=o)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;8>r;r++){this.makeImpl(!0,r);var o=a.getLostPoint(this);(0==r||t>o)&&(t=o,e=r)}return e},createMovieClip:function(t,e,r){for(t=t.createEmptyMovieClip(e,r),this.make(),e=0;e<this.modules.length;e++)for(var r=1*e,o=0;o<this.modules[e].length;o++){var n=1*o;this.modules[e][o]&&(t.beginFill(0,100),t.moveTo(n,r),t.lineTo(n+1,r),t.lineTo(n+1,r+1),t.lineTo(n,r+1),t.endFill())}return t},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2);for(t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=0==t%2)},setupPositionAdjustPattern:function(){for(var t=a.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var o=t[e],n=t[r];if(null==this.modules[o][n])for(var i=-2;2>=i;i++)for(var s=-2;2>=s;s++)this.modules[o+i][n+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}},setupTypeNumber:function(t){for(var e=a.getBCHTypeNumber(this.typeNumber),r=0;18>r;r++){var o=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(r=0;18>r;r++)o=!t&&1==(e>>r&1),this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o},setupTypeInfo:function(t,e){for(var r=a.getBCHTypeInfo(this.errorCorrectLevel<<3|e),o=0;15>o;o++){var n=!t&&1==(r>>o&1);6>o?this.modules[o][8]=n:8>o?this.modules[o+1][8]=n:this.modules[this.moduleCount-15+o][8]=n}for(o=0;15>o;o++)n=!t&&1==(r>>o&1),8>o?this.modules[8][this.moduleCount-o-1]=n:9>o?this.modules[8][15-o-1+1]=n:this.modules[8][15-o-1]=n;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,o=this.moduleCount-1,n=7,i=0,s=this.moduleCount-1;0<s;s-=2)for(6==s&&s--;;){for(var u=0;2>u;u++)if(null==this.modules[o][s-u]){var h=!1;i<t.length&&(h=1==(t[i]>>>n&1)),a.getMask(e,o,s-u)&&(h=!h),this.modules[o][s-u]=h,n--,-1==n&&(i++,n=7)}if(o+=r,0>o||this.moduleCount<=o){o-=r,r=-r;break}}}},o.PAD0=236,o.PAD1=17,o.createData=function(t,e,r){for(var e=i.getRSBlocks(t,e),n=new s,u=0;u<r.length;u++){var h=r[u];n.put(h.mode,4),n.put(h.getLength(),a.getLengthInBits(h.mode,t)),h.write(n)}for(u=t=0;u<e.length;u++)t+=e[u].dataCount;if(n.getLengthInBits()>8*t)throw Error("code length overflow. ("+n.getLengthInBits()+">"+8*t+")");for(n.getLengthInBits()+4<=8*t&&n.put(0,4);0!=n.getLengthInBits()%8;)n.putBit(!1);for(;!(n.getLengthInBits()>=8*t)&&(n.put(o.PAD0,8),!(n.getLengthInBits()>=8*t));)n.put(o.PAD1,8);return o.createBytes(n,e)},o.createBytes=function(t,e){for(var r=0,o=0,i=0,s=Array(e.length),u=Array(e.length),h=0;h<e.length;h++){var l=e[h].dataCount,g=e[h].totalCount-l,o=Math.max(o,l),i=Math.max(i,g);s[h]=Array(l);for(var f=0;f<s[h].length;f++)s[h][f]=255&t.buffer[f+r];for(r+=l,f=a.getErrorCorrectPolynomial(g),l=new n(s[h],f.getLength()-1).mod(f),u[h]=Array(f.getLength()-1),f=0;f<u[h].length;f++)g=f+l.getLength()-u[h].length,u[h][f]=0<=g?l.get(g):0}for(f=h=0;f<e.length;f++)h+=e[f].totalCount;for(r=Array(h),f=l=0;f<o;f++)for(h=0;h<e.length;h++)f<s[h].length&&(r[l++]=s[h][f]);for(f=0;f<i;f++)for(h=0;h<e.length;h++)f<u[h].length&&(r[l++]=u[h][f]);return r},u=4;for(var a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;0<=a.getBCHDigit(e)-a.getBCHDigit(a.G15);)e^=a.G15<<a.getBCHDigit(e)-a.getBCHDigit(a.G15);return(t<<10|e)^a.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;0<=a.getBCHDigit(e)-a.getBCHDigit(a.G18);)e^=a.G18<<a.getBCHDigit(e)-a.getBCHDigit(a.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return a.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case 0:return 0==(e+r)%2;case 1:return 0==e%2;case 2:return 0==r%3;case 3:return 0==(e+r)%3;case 4:return 0==(Math.floor(e/2)+Math.floor(r/3))%2;case 5:return 0==e*r%2+e*r%3;case 6:return 0==(e*r%2+e*r%3)%2;case 7:return 0==(e*r%3+(e+r)%2)%2;default:throw Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new n([1],0),r=0;r<t;r++)e=e.multiply(new n([1,h.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&10>e)switch(t){case 1:return 10;case 2:return 9;case u:return 8;case 8:return 8;default:throw Error("mode:"+t)}else if(27>e)switch(t){case 1:return 12;case 2:return 11;case u:return 16;case 8:return 10;default:throw Error("mode:"+t)}else{if(!(41>e))throw Error("type:"+e);switch(t){case 1:return 14;case 2:return 13;case u:return 16;case 8:return 12;default:throw Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,o=0;o<e;o++)for(var n=0;n<e;n++){for(var i=0,s=t.isDark(o,n),u=-1;1>=u;u++)if(!(0>o+u||e<=o+u))for(var a=-1;1>=a;a++)0>n+a||e<=n+a||0==u&&0==a||s==t.isDark(o+u,n+a)&&i++;5<i&&(r+=3+i-5)}for(o=0;o<e-1;o++)for(n=0;n<e-1;n++)i=0,t.isDark(o,n)&&i++,t.isDark(o+1,n)&&i++,t.isDark(o,n+1)&&i++,t.isDark(o+1,n+1)&&i++,(0==i||4==i)&&(r+=3);for(o=0;o<e;o++)for(n=0;n<e-6;n++)t.isDark(o,n)&&!t.isDark(o,n+1)&&t.isDark(o,n+2)&&t.isDark(o,n+3)&&t.isDark(o,n+4)&&!t.isDark(o,n+5)&&t.isDark(o,n+6)&&(r+=40);for(n=0;n<e;n++)for(o=0;o<e-6;o++)t.isDark(o,n)&&!t.isDark(o+1,n)&&t.isDark(o+2,n)&&t.isDark(o+3,n)&&t.isDark(o+4,n)&&!t.isDark(o+5,n)&&t.isDark(o+6,n)&&(r+=40);for(n=i=0;n<e;n++)for(o=0;o<e;o++)t.isDark(o,n)&&i++;return t=Math.abs(100*i/e/e-50)/5,r+10*t}},h={glog:function(t){if(1>t)throw Error("glog("+t+")");return h.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;256<=t;)t-=255;return h.EXP_TABLE[t]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},l=0;8>l;l++)h.EXP_TABLE[l]=1<<l;for(l=8;256>l;l++)h.EXP_TABLE[l]=h.EXP_TABLE[l-4]^h.EXP_TABLE[l-5]^h.EXP_TABLE[l-6]^h.EXP_TABLE[l-8];for(l=0;255>l;l++)h.LOG_TABLE[h.EXP_TABLE[l]]=l;return n.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var o=0;o<t.getLength();o++)e[r+o]^=h.gexp(h.glog(this.get(r))+h.glog(t.get(o)));return new n(e,0)},mod:function(t){if(0>this.getLength()-t.getLength())return this;for(var e=h.glog(this.get(0))-h.glog(t.get(0)),r=Array(this.getLength()),o=0;o<this.getLength();o++)r[o]=this.get(o);for(o=0;o<t.getLength();o++)r[o]^=h.gexp(h.glog(t.get(o))+e);return new n(r,0).mod(t)}},i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(t,e){var r=i.getRsBlockTable(t,e);if(void 0==r)throw Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=r.length/3,n=[],s=0;s<o;s++)for(var u=r[3*s+0],a=r[3*s+1],h=r[3*s+2],l=0;l<u;l++)n.push(new i(a,h));return n},i.getRsBlockTable=function(t,e){switch(e){case 1:return i.RS_BLOCK_TABLE[4*(t-1)+0];case 0:return i.RS_BLOCK_TABLE[4*(t-1)+1];case 3:return i.RS_BLOCK_TABLE[4*(t-1)+2];case 2:return i.RS_BLOCK_TABLE[4*(t-1)+3]}},s.prototype={get:function(t){return 1==(this.buffer[Math.floor(t/8)]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},"string"==typeof e&&(e={text:e}),e=t.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},e),this.each(function(){var r;if("canvas"==e.render){r=new o(e.typeNumber,e.correctLevel),r.addData(e.text),r.make();var n=document.createElement("canvas");n.width=e.width,n.height=e.height;for(var i=n.getContext("2d"),s=e.width/r.getModuleCount(),u=e.height/r.getModuleCount(),a=0;a<r.getModuleCount();a++)for(var h=0;h<r.getModuleCount();h++){i.fillStyle=r.isDark(a,h)?e.foreground:e.background;var l=Math.ceil((h+1)*s)-Math.floor(h*s),g=Math.ceil((a+1)*s)-Math.floor(a*s);i.fillRect(Math.round(h*s),Math.round(a*u),l,g)}}else for(r=new o(e.typeNumber,e.correctLevel),r.addData(e.text),r.make(),n=t("<table></table>").css("width",e.width+"px").css("height",e.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",e.background),i=e.width/r.getModuleCount(),s=e.height/r.getModuleCount(),u=0;u<r.getModuleCount();u++)for(a=t("<tr></tr>").css("height",s+"px").appendTo(n),h=0;h<r.getModuleCount();h++)t("<td></td>").css("width",i+"px").css("background-color",r.isDark(u,h)?e.foreground:e.background).appendTo(a);r=n,jQuery(r).appendTo(this)})}}(jQuery);
(function(){var t=jQuery,i=function(){function t(){this.fadeDuration=500,this.fitImagesInViewport=!0,this.resizeDuration=700,this.positionFromTop=50,this.showImageNumberLabel=!0,this.alwaysShowNavOnTouchDevices=!1,this.wrapAround=!1}return t.prototype.albumLabel=function(t,i){return"Image "+t+" of "+i},t}(),e=function(){function i(t){this.options=t,this.album=[],this.currentImageIndex=void 0,this.init()}return i.prototype.init=function(){this.enable(),this.build()},i.prototype.enable=function(){var i=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(e){return i.start(t(e.currentTarget)),!1})},i.prototype.build=function(){var i=this;t("<div id='lightboxOverlay' class='lightboxOverlay'></div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image' src='' /><div class='lb-nav'><a class='lb-prev' href='' ></a><a class='lb-next' href='' ></a></div><div class='lb-loader'><a class='lb-cancel'></a></div></div></div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'></span><span class='lb-number'></span></div><div class='lb-closeContainer'><a class='lb-close'></a></div></div></div></div>").appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return i.end(),!1}),this.$lightbox.hide().on("click",function(e){return"lightbox"===t(e.target).attr("id")&&i.end(),!1}),this.$outerContainer.on("click",function(e){return"lightbox"===t(e.target).attr("id")&&i.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===i.currentImageIndex?i.changeImage(i.album.length-1):i.changeImage(i.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return i.currentImageIndex===i.album.length-1?i.changeImage(0):i.changeImage(i.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return i.end(),!1})},i.prototype.start=function(i){function e(t){n.album.push({link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var n=this,a=t(window);a.on("resize",t.proxy(this.sizeOverlay,this)),t("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var o,h=0,s=i.attr("data-lightbox");if(s){o=t(i.prop("tagName")+'[data-lightbox="'+s+'"]');for(var r=0;r<o.length;r=++r)e(t(o[r])),o[r]===i[0]&&(h=r)}else if("lightbox"===i.attr("rel"))e(i);else{o=t(i.prop("tagName")+'[rel="'+i.attr("rel")+'"]');for(var l=0;l<o.length;l=++l)e(t(o[l])),o[l]===i[0]&&(h=l)}var d=a.scrollTop()+this.options.positionFromTop,c=a.scrollLeft();this.$lightbox.css({top:d+"px",left:c+"px"}).fadeIn(this.options.fadeDuration),this.changeImage(h)},i.prototype.changeImage=function(i){var e=this;this.disableKeyboardNav();var n=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var a=new Image;a.onload=function(){var o,h,s,r,l,d,c;n.attr("src",e.album[i].link),o=t(a),n.width(a.width),n.height(a.height),e.options.fitImagesInViewport&&(c=t(window).width(),d=t(window).height(),l=c-e.containerLeftPadding-e.containerRightPadding-20,r=d-e.containerTopPadding-e.containerBottomPadding-120,(a.width>l||a.height>r)&&(a.width/l>a.height/r?(s=l,h=parseInt(a.height/(a.width/s),10),n.width(s),n.height(h)):(h=r,s=parseInt(a.width/(a.height/h),10),n.width(s),n.height(h)))),e.sizeContainer(n.width(),n.height())},a.src=this.album[i].link,this.currentImageIndex=i},i.prototype.sizeOverlay=function(){this.$overlay.width(t(window).width()).height(t(document).height())},i.prototype.sizeContainer=function(t,i){function e(){n.$lightbox.find(".lb-dataContainer").width(h),n.$lightbox.find(".lb-prevLink").height(s),n.$lightbox.find(".lb-nextLink").height(s),n.showImage()}var n=this,a=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),h=t+this.containerLeftPadding+this.containerRightPadding,s=i+this.containerTopPadding+this.containerBottomPadding;a!==h||o!==s?this.$outerContainer.animate({width:h,height:s},this.options.resizeDuration,"swing",function(){e()}):e()},i.prototype.showImage=function(){this.$lightbox.find(".lb-loader").hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},i.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(i){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},i.prototype.updateDetails=function(){var i=this;"undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(i){location.href=t(this).attr("href")}),this.album.length>1&&this.options.showImageNumberLabel?this.$lightbox.find(".lb-number").text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn("fast"):this.$lightbox.find(".lb-number").hide(),this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return i.sizeOverlay()})},i.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var i=new Image;i.src=this.album[this.currentImageIndex-1].link}},i.prototype.enableKeyboardNav=function(){t(document).on("keyup.keyboard",t.proxy(this.keyboardAction,this))},i.prototype.disableKeyboardNav=function(){t(document).off(".keyboard")},i.prototype.keyboardAction=function(t){var i=27,e=37,n=39,a=t.keyCode,o=String.fromCharCode(a).toLowerCase();a===i||o.match(/x|o|c/)?this.end():"p"===o||a===e?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):"n"!==o&&a!==n||(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},i.prototype.end=function(){this.disableKeyboardNav(),t(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),t("select, object, embed").css({visibility:"visible"})},i}();t(function(){var t=new i;new e(t)})}).call(this);
!function(e,t,r){"use strict";function n(r){if(o=t.documentElement,a=t.body,K(),ie=this,r=r||{},ue=r.constants||{},r.easing)for(var n in r.easing)U[n]=r.easing[n];ye=r.edgeStrategy||"set",ce={beforerender:r.beforerender,render:r.render,keyframe:r.keyframe},fe=r.forceHeight!==!1,fe&&(Ve=r.scale||1),me=r.mobileDeceleration||x,de=r.smoothScrolling!==!1,ge=r.smoothScrollingDuration||E,ve={targetTop:ie.getScrollTop()},Ge=(r.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),Ge?(se=t.getElementById("skrollr-body"),se&&ae(),X(),De(o,[y,S],[T])):De(o,[y,b],[T]),ie.refresh(),Se(e,"resize orientationchange",function(){var e=o.clientWidth,t=o.clientHeight;t===$e&&e===Me||($e=t,Me=e,_e=!0)});var i=Y();return function l(){Z(),be=i(l)}(),ie}var o,a,i={get:function(){return ie},init:function(e){return ie||new n(e)},VERSION:"0.6.26"},l=Object.prototype.hasOwnProperty,s=e.Math,c=e.getComputedStyle,f="touchstart",u="touchmove",m="touchcancel",p="touchend",d="skrollable",g=d+"-before",v=d+"-between",h=d+"-after",y="skrollr",T="no-"+y,b=y+"-desktop",S=y+"-mobile",k="linear",w=1e3,x=.004,E=200,A="start",F="end",C="center",D="bottom",H="___skrollable_id",I=/^(?:input|textarea|button|select)$/i,P=/^\s+|\s+$/g,N=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,O=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,V=/^(@?[a-z\-]+)\[(\w+)\]$/,z=/-([a-z0-9_])/g,q=function(e,t){return t.toUpperCase()},L=/[\-+]?[\d]*\.?[\d]+/g,M=/\{\?\}/g,$=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,_=/[a-z\-]+-gradient/g,B="",G="",K=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(c){var t=c(a,null);for(var r in t)if(B=r.match(e)||+r==r&&t[r].match(e))break;if(!B)return void(B=G="");B=B[0],"-"===B.slice(0,1)?(G=B,B={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[B]):G="-"+B.toLowerCase()+"-"}},Y=function(){var t=e.requestAnimationFrame||e[B.toLowerCase()+"RequestAnimationFrame"],r=Pe();return!Ge&&t||(t=function(t){var n=Pe()-r,o=s.max(0,1e3/60-n);return e.setTimeout(function(){r=Pe(),t()},o)}),t},R=function(){var t=e.cancelAnimationFrame||e[B.toLowerCase()+"CancelAnimationFrame"];return!Ge&&t||(t=function(t){return e.clearTimeout(t)}),t},U={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-s.cos(e*s.PI)/2+.5},sqrt:function(e){return s.sqrt(e)},outCubic:function(e){return s.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-s.abs(3*s.cos(e*t*1.028)/t)}};n.prototype.refresh=function(e){var n,o,a=!1;for(e===r?(a=!0,le=[],Be=0,e=t.getElementsByTagName("*")):e.length===r&&(e=[e]),n=0,o=e.length;n<o;n++){var i=e[n],l=i,s=[],c=de,f=ye,u=!1;if(a&&H in i&&delete i[H],i.attributes){for(var m=0,p=i.attributes.length;m<p;m++){var g=i.attributes[m];if("data-anchor-target"!==g.name)if("data-smooth-scrolling"!==g.name)if("data-edge-strategy"!==g.name)if("data-emit-events"!==g.name){var v=g.name.match(N);if(null!==v){var h={props:g.value,element:i,eventType:g.name.replace(z,q)};s.push(h);var y=v[1];y&&(h.constant=y.substr(1));var T=v[2];/p$/.test(T)?(h.isPercentage=!0,h.offset=(0|T.slice(0,-1))/100):h.offset=0|T;var b=v[3],S=v[4]||b;b&&b!==A&&b!==F?(h.mode="relative",h.anchors=[b,S]):(h.mode="absolute",b===F?h.isEnd=!0:h.isPercentage||(h.offset=h.offset*Ve))}}else u=!0;else f=g.value;else c="off"!==g.value;else if(l=t.querySelector(g.value),null===l)throw'Unable to find anchor target "'+g.value+'"'}if(s.length){var k,w,x;!a&&H in i?(x=i[H],k=le[x].styleAttr,w=le[x].classAttr):(x=i[H]=Be++,k=i.style.cssText,w=Ce(i)),le[x]={element:i,styleAttr:k,classAttr:w,anchorTarget:l,keyFrames:s,smoothScrolling:c,edgeStrategy:f,emitEvents:u,lastFrameIndex:-1},De(i,[d],[])}}}for(Ee(),n=0,o=e.length;n<o;n++){var E=le[e[n][H]];E!==r&&(J(E),ee(E))}return ie},n.prototype.relativeToAbsolute=function(e,t,r){var n=o.clientHeight,a=e.getBoundingClientRect(),i=a.top,l=a.bottom-a.top;return t===D?i-=n:t===C&&(i-=n/2),r===D?i+=l:r===C&&(i+=l/2),i+=ie.getScrollTop(),i+.5|0},n.prototype.animateTo=function(e,t){t=t||{};var n=Pe(),o=ie.getScrollTop();return pe={startTop:o,topDiff:e-o,targetTop:e,duration:t.duration||w,startTime:n,endTime:n+(t.duration||w),easing:U[t.easing||k],done:t.done},pe.topDiff||(pe.done&&pe.done.call(ie,!1),pe=r),ie},n.prototype.stopAnimateTo=function(){pe&&pe.done&&pe.done.call(ie,!0),pe=r},n.prototype.isAnimatingTo=function(){return!!pe},n.prototype.isMobile=function(){return Ge},n.prototype.setScrollTop=function(t,r){return he=r===!0,Ge?Ke=s.min(s.max(t,0),Oe):e.scrollTo(0,t),ie},n.prototype.getScrollTop=function(){return Ge?Ke:e.pageYOffset||o.scrollTop||a.scrollTop||0},n.prototype.getMaxScrollTop=function(){return Oe},n.prototype.on=function(e,t){return ce[e]=t,ie},n.prototype.off=function(e){return delete ce[e],ie},n.prototype.destroy=function(){var e=R();e(be),we(),De(o,[T],[y,b,S]);for(var t=0,n=le.length;t<n;t++)oe(le[t].element);o.style.overflow=a.style.overflow="",o.style.height=a.style.height="",se&&i.setStyle(se,"transform","none"),ie=r,se=r,ce=r,fe=r,Oe=0,Ve=1,ue=r,me=r,ze="down",qe=-1,Me=0,$e=0,_e=!1,pe=r,de=r,ge=r,ve=r,he=r,Be=0,ye=r,Ge=!1,Ke=0,Te=r};var X=function(){var n,i,l,c,d,g,v,h,y,T,b,S;Se(o,[f,u,m,p].join(" "),function(e){var o=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(d=o.clientY,g=o.clientX,T=e.timeStamp,I.test(c.tagName)||e.preventDefault(),e.type){case f:n&&n.blur(),ie.stopAnimateTo(),n=c,i=v=d,l=g,y=T;break;case u:I.test(c.tagName)&&t.activeElement!==c&&e.preventDefault(),h=d-v,S=T-b,ie.setScrollTop(Ke-h,!0),v=d,b=T;break;default:case m:case p:var a=i-d,k=l-g,w=k*k+a*a;if(w<49){if(!I.test(n.tagName)){n.focus();var x=t.createEvent("MouseEvents");x.initMouseEvent("click",!0,!0,e.view,1,o.screenX,o.screenY,o.clientX,o.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),n.dispatchEvent(x)}return}n=r;var E=h/S;E=s.max(s.min(E,3),-3);var A=s.abs(E/me),F=E*A+.5*me*A*A,C=ie.getScrollTop()-F,D=0;C>Oe?(D=(Oe-C)/F,C=Oe):C<0&&(D=-C/F,C=0),A*=1-D,ie.animateTo(C+.5|0,{easing:"outCubic",duration:A})}}),e.scrollTo(0,0),o.style.overflow=a.style.overflow="hidden"},j=function(){var e,t,r,n,a,i,l,c,f,u,m,p=o.clientHeight,d=Ae();for(c=0,f=le.length;c<f;c++)for(e=le[c],t=e.element,r=e.anchorTarget,n=e.keyFrames,a=0,i=n.length;a<i;a++)l=n[a],u=l.offset,m=d[l.constant]||0,l.frame=u,l.isPercentage&&(u*=p,l.frame=u),"relative"===l.mode&&(oe(t),l.frame=ie.relativeToAbsolute(r,l.anchors[0],l.anchors[1])-u,oe(t,!0)),l.frame+=m,fe&&!l.isEnd&&l.frame>Oe&&(Oe=l.frame);for(Oe=s.max(Oe,Fe()),c=0,f=le.length;c<f;c++){for(e=le[c],n=e.keyFrames,a=0,i=n.length;a<i;a++)l=n[a],m=d[l.constant]||0,l.isEnd&&(l.frame=Oe-l.offset+m);e.keyFrames.sort(Ne)}},W=function(e,t){for(var r=0,n=le.length;r<n;r++){var o,a,s=le[r],c=s.element,f=s.smoothScrolling?e:t,u=s.keyFrames,m=u.length,p=u[0],y=u[u.length-1],T=f<p.frame,b=f>y.frame,S=T?p:y,k=s.emitEvents,w=s.lastFrameIndex;if(T||b){if(T&&s.edge===-1||b&&1===s.edge)continue;switch(T?(De(c,[g],[h,v]),k&&w>-1&&(xe(c,p.eventType,ze),s.lastFrameIndex=-1)):(De(c,[h],[g,v]),k&&w<m&&(xe(c,y.eventType,ze),s.lastFrameIndex=m)),s.edge=T?-1:1,s.edgeStrategy){case"reset":oe(c);continue;case"ease":f=S.frame;break;default:case"set":var x=S.props;for(o in x)l.call(x,o)&&(a=ne(x[o].value),0===o.indexOf("@")?c.setAttribute(o.substr(1),a):i.setStyle(c,o,a));continue}}else 0!==s.edge&&(De(c,[d,v],[g,h]),s.edge=0);for(var E=0;E<m-1;E++)if(f>=u[E].frame&&f<=u[E+1].frame){var A=u[E],F=u[E+1];for(o in A.props)if(l.call(A.props,o)){var C=(f-A.frame)/(F.frame-A.frame);C=A.props[o].easing(C),a=re(A.props[o].value,F.props[o].value,C),a=ne(a),0===o.indexOf("@")?c.setAttribute(o.substr(1),a):i.setStyle(c,o,a)}k&&w!==E&&("down"===ze?xe(c,A.eventType,ze):xe(c,F.eventType,ze),s.lastFrameIndex=E);break}}},Z=function(){_e&&(_e=!1,Ee());var e,t,n=ie.getScrollTop(),o=Pe();if(pe)o>=pe.endTime?(n=pe.targetTop,e=pe.done,pe=r):(t=pe.easing((o-pe.startTime)/pe.duration),n=pe.startTop+t*pe.topDiff|0),ie.setScrollTop(n,!0);else if(!he){var a=ve.targetTop-n;a&&(ve={startTop:qe,topDiff:n-qe,targetTop:n,startTime:Le,endTime:Le+ge}),o<=ve.endTime&&(t=U.sqrt((o-ve.startTime)/ge),n=ve.startTop+t*ve.topDiff|0)}if(Ge&&se&&i.setStyle(se,"transform","translate(0, "+-Ke+"px) "+Te),he||qe!==n){ze=n>qe?"down":n<qe?"up":ze,he=!1;var l={curTop:n,lastTop:qe,maxTop:Oe,direction:ze},s=ce.beforerender&&ce.beforerender.call(ie,l);s!==!1&&(W(n,ie.getScrollTop()),qe=n,ce.render&&ce.render.call(ie,l)),e&&e.call(ie,!1)}Le=o},J=function(e){for(var t=0,r=e.keyFrames.length;t<r;t++){for(var n,o,a,i,l=e.keyFrames[t],s={};null!==(i=O.exec(l.props));)a=i[1],o=i[2],n=a.match(V),null!==n?(a=n[1],n=n[2]):n=k,o=o.indexOf("!")?Q(o):[o.slice(1)],s[a]={value:o,easing:U[n]};l.props=s}},Q=function(e){var t=[];return $.lastIndex=0,e=e.replace($,function(e){return e.replace(L,function(e){return e/255*100+"%"})}),G&&(_.lastIndex=0,e=e.replace(_,function(e){return G+e})),e=e.replace(L,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},ee=function(e){var t,r,n={};for(t=0,r=e.keyFrames.length;t<r;t++)te(e.keyFrames[t],n);for(n={},t=e.keyFrames.length-1;t>=0;t--)te(e.keyFrames[t],n)},te=function(e,t){var r;for(r in t)l.call(e.props,r)||(e.props[r]=t[r]);for(r in e.props)t[r]=e.props[r]},re=function(e,t,r){var n,o=e.length;if(o!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var a=[e[0]];for(n=1;n<o;n++)a[n]=e[n]+(t[n]-e[n])*r;return a},ne=function(e){var t=1;return M.lastIndex=0,e[0].replace(M,function(){return e[t++]})},oe=function(e,t){e=[].concat(e);for(var r,n,o=0,a=e.length;o<a;o++)n=e[o],r=le[n[H]],r&&(t?(n.style.cssText=r.dirtyStyleAttr,De(n,r.dirtyClassAttr)):(r.dirtyStyleAttr=n.style.cssText,r.dirtyClassAttr=Ce(n),n.style.cssText=r.styleAttr,De(n,r.classAttr)))},ae=function(){Te="translateZ(0)",i.setStyle(se,"transform",Te);var e=c(se),t=e.getPropertyValue("transform"),r=e.getPropertyValue(G+"transform"),n=t&&"none"!==t||r&&"none"!==r;n||(Te="")};i.setStyle=function(e,t,r){var n=e.style;if(t=t.replace(z,q).replace("-",""),"zIndex"===t)isNaN(r)?n[t]=r:n[t]=""+(0|r);else if("float"===t)n.styleFloat=n.cssFloat=r;else try{B&&(n[B+t.slice(0,1).toUpperCase()+t.slice(1)]=r),n[t]=r}catch(o){}};var ie,le,se,ce,fe,ue,me,pe,de,ge,ve,he,ye,Te,be,Se=i.addEvent=function(t,r,n){var o=function(t){return t=t||e.event,t.target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1,t.defaultPrevented=!0}),n.call(this,t)};r=r.split(" ");for(var a,i=0,l=r.length;i<l;i++)a=r[i],t.addEventListener?t.addEventListener(a,n,!1):t.attachEvent("on"+a,o),Ye.push({element:t,name:a,listener:n})},ke=i.removeEvent=function(e,t,r){t=t.split(" ");for(var n=0,o=t.length;n<o;n++)e.removeEventListener?e.removeEventListener(t[n],r,!1):e.detachEvent("on"+t[n],r)},we=function(){for(var e,t=0,r=Ye.length;t<r;t++)e=Ye[t],ke(e.element,e.name,e.listener);Ye=[]},xe=function(e,t,r){ce.keyframe&&ce.keyframe.call(ie,e,t,r)},Ee=function(){var e=ie.getScrollTop();Oe=0,fe&&!Ge&&(a.style.height=""),j(),fe&&!Ge&&(a.style.height=Oe+o.clientHeight+"px"),Ge?ie.setScrollTop(s.min(ie.getScrollTop(),Oe)):ie.setScrollTop(e,!0),he=!0},Ae=function(){var e,t,r=o.clientHeight,n={};for(e in ue)t=ue[e],"function"==typeof t?t=t.call(ie):/p$/.test(t)&&(t=t.slice(0,-1)/100*r),n[e]=t;return n},Fe=function(){var e=se&&se.offsetHeight||0,t=s.max(e,a.scrollHeight,a.offsetHeight,o.scrollHeight,o.offsetHeight,o.clientHeight);return t-o.clientHeight},Ce=function(t){var r="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[r],r="baseVal"),t[r]},De=function(t,n,o){var a="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[a],a="baseVal"),o===r)return void(t[a]=n);for(var i=t[a],l=0,s=o.length;l<s;l++)i=Ie(i).replace(Ie(o[l])," ");i=He(i);for(var c=0,f=n.length;c<f;c++)Ie(i).indexOf(Ie(n[c]))===-1&&(i+=" "+n[c]);t[a]=He(i)},He=function(e){return e.replace(P,"")},Ie=function(e){return" "+e+" "},Pe=Date.now||function(){return+new Date},Ne=function(e,t){return e.frame-t.frame},Oe=0,Ve=1,ze="down",qe=-1,Le=Pe(),Me=0,$e=0,_e=!1,Be=0,Ge=!1,Ke=0,Ye=[];"function"==typeof define&&define.amd?define("skrollr",function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:e.skrollr=i}(window,document);
!function(e){"function"==typeof define&&define.amd?define("picker",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):this.Picker=e(jQuery)}(function(e){function t(i,a,d,u){function f(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",x.component.nodes(v.open),y.box),y.wrap),y.frame),y.holder)}function l(){b.data(a,x).addClass(y.input).val(b.data("value")?x.get("select",_.format):i.value).on("focus."+v.id+" click."+v.id,g),_.editable||b.on("keydown."+v.id,function(e){var t=e.keyCode,n=/^(8|46)$/.test(t);return 27==t?(x.close(),!1):void((32==t||n||!v.open&&x.component.key[t])&&(e.preventDefault(),e.stopPropagation(),n?x.clear().close():x.open()))}),r(i,{haspopup:!0,expanded:!1,readonly:!1,owns:i.id+"_root"+(x._hidden?" "+x._hidden.id:"")})}function p(){x.$root.on({focusin:function(e){x.$root.removeClass(y.focused),e.stopPropagation()},"mousedown click":function(t){var n=t.target;n!=x.$root.children()[0]&&(t.stopPropagation(),"mousedown"!=t.type||e(n).is(":input")||"OPTION"==n.nodeName||(t.preventDefault(),i.focus()))}}).on("click","[data-pick], [data-nav], [data-clear]",function(){var n=e(this),o=n.data(),r=n.hasClass(y.navDisabled)||n.hasClass(y.disabled),a=document.activeElement;a=a&&(a.type||a.href)&&a,(r||a&&!e.contains(x.$root[0],a))&&i.focus(),o.nav&&!r?x.set("highlight",x.component.item.highlight,{nav:o.nav}):t._.isInteger(o.pick)&&!r?x.set("select",o.pick).close(!0):o.clear&&x.clear().close(!0)}).on("click","[data-close]",function(){x.close(!0)}),r(x.$root[0],"hidden",!0)}function m(){var t;_.hiddenName===!0?(t=i.name,i.name=""):(t=["string"==typeof _.hiddenPrefix?_.hiddenPrefix:"","string"==typeof _.hiddenSuffix?_.hiddenSuffix:"_submit"],t=t[0]+i.name+t[1]),x._hidden=e('<input type=hidden name="'+t+'"'+(i.id?'id="'+i.id+'_hidden"':"")+(b.data("value")||i.value?' value="'+x.get("select",_.formatSubmit)+'"':"")+">")[0],b.on("change."+v.id,function(){x._hidden.value=i.value?x.get("select",_.formatSubmit):""}).after(x._hidden)}function g(e){e.stopPropagation(),"focus"==e.type&&x.$root.addClass(y.focused),x.open()}if(!i)return t;var h=!1,v={id:i.id||"P"+Math.abs(~~(Math.random()*new Date))},_=d?e.extend(!0,{},d.defaults,u):u||{},y=e.extend({},t.klasses(),_.klass),b=e(i),k=function(){return this.start()},x=k.prototype={constructor:k,$node:b,start:function(){return v&&v.start?x:(v.methods={},v.start=!0,v.open=!1,v.type=i.type,i.autofocus=i==document.activeElement,i.readOnly=!_.editable,i.id=i.id||v.id,"text"!=i.type&&(i.type="text"),x.component=new d(x,_),x.$root=e(t._.node("div",f(),y.picker,'id="'+i.id+'_root"')),p(),_.formatSubmit&&m(),l(),_.container?e(_.container).append(x.$root):b.after(x.$root),x.on({start:x.component.onStart,render:x.component.onRender,stop:x.component.onStop,open:x.component.onOpen,close:x.component.onClose,set:x.component.onSet}).on({start:_.onStart,render:_.onRender,stop:_.onStop,open:_.onOpen,close:_.onClose,set:_.onSet}),h=n(x.$root.children()[0]),i.autofocus&&x.open(),x.trigger("start").trigger("render"))},render:function(e){return e?x.$root.html(f()):x.$root.find("."+y.box).html(x.component.nodes(v.open)),x.trigger("render")},stop:function(){return v.start?(x.close(),x._hidden&&x._hidden.parentNode.removeChild(x._hidden),x.$root.remove(),b.removeClass(y.input).removeData(a),setTimeout(function(){b.off("."+v.id)},0),i.type=v.type,i.readOnly=!1,x.trigger("stop"),v.methods={},v.start=!1,x):x},open:function(n){return v.open?x:(b.addClass(y.active),r(i,"expanded",!0),setTimeout(function(){x.$root.addClass(y.opened),r(x.$root[0],"hidden",!1)},0),n!==!1&&(v.open=!0,h&&s.css("overflow","hidden").css("padding-right","+="+o()),b.trigger("focus"),c.on("click."+v.id+" focusin."+v.id,function(e){var t=e.target;t!=i&&t!=document&&3!=e.which&&x.close(t===x.$root.children()[0])}).on("keydown."+v.id,function(n){var o=n.keyCode,r=x.component.key[o],a=n.target;27==o?x.close(!0):a!=i||!r&&13!=o?e.contains(x.$root[0],a)&&13==o&&(n.preventDefault(),a.click()):(n.preventDefault(),r?t._.trigger(x.component.key.go,x,[t._.trigger(r)]):x.$root.find("."+y.highlighted).hasClass(y.disabled)||x.set("select",x.component.item.highlight).close())})),x.trigger("open"))},close:function(e){return e&&(b.off("focus."+v.id).trigger("focus"),setTimeout(function(){b.on("focus."+v.id,g)},0)),b.removeClass(y.active),r(i,"expanded",!1),setTimeout(function(){x.$root.removeClass(y.opened+" "+y.focused),r(x.$root[0],"hidden",!0)},0),v.open?(v.open=!1,h&&s.css("overflow","").css("padding-right","-="+o()),c.off("."+v.id),x.trigger("close")):x},clear:function(e){return x.set("clear",null,e)},set:function(t,n,o){var r,i,a=e.isPlainObject(t),d=a?t:{};if(o=a&&e.isPlainObject(n)?n:o||{},t){a||(d[t]=n);for(r in d)i=d[r],r in x.component.item&&(void 0===i&&(i=null),x.component.set(r,i,o)),"select"!=r&&"clear"!=r||b.val("clear"==r?"":x.get(r,_.format)).trigger("change");x.render()}return o.muted?x:x.trigger("set",d)},get:function(e,n){if(e=e||"value",null!=v[e])return v[e];if("value"==e)return i.value;if(e in x.component.item){if("string"==typeof n){var o=x.component.get(e);return o?t._.trigger(x.component.formats.toString,x.component,[n,o]):""}return x.component.get(e)}},on:function(t,n,o){var r,i,a=e.isPlainObject(t),d=a?t:{};if(t){a||(d[t]=n);for(r in d)i=d[r],o&&(r="_"+r),v.methods[r]=v.methods[r]||[],v.methods[r].push(i)}return x},off:function(){var e,t,n=arguments;for(e=0,namesCount=n.length;e<namesCount;e+=1)t=n[e],t in v.methods&&delete v.methods[t];return x},trigger:function(e,n){var o=function(e){var o=v.methods[e];o&&o.map(function(e){t._.trigger(e,x,[n])})};return o("_"+e),o(e),x}};return new k}function n(e){var t,n="position";return e.currentStyle?t=e.currentStyle[n]:window.getComputedStyle&&(t=getComputedStyle(e)[n]),"fixed"==t}function o(){if(s.height()<=d.height())return 0;var t=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),n=t[0].offsetWidth;t.css("overflow","scroll");var o=e('<div style="width:100%" />').appendTo(t),r=o[0].offsetWidth;return t.remove(),n-r}function r(t,n,o){if(e.isPlainObject(n))for(var r in n)i(t,r,n[r]);else i(t,n,o)}function i(e,t,n){e.setAttribute(("role"==t?"":"aria-")+t,n)}function a(t,n){e.isPlainObject(t)||(t={attribute:n}),n="";for(var o in t){var r=("role"==o?"":"aria-")+o,i=t[o];n+=null==i?"":r+'="'+t[o]+'"'}return n}var d=e(window),c=e(document),s=e(document.documentElement);return t.klasses=function(e){return e=e||"picker",{picker:e,opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},t._={group:function(e){for(var n,o="",r=t._.trigger(e.min,e);r<=t._.trigger(e.max,e,[r]);r+=e.i)n=t._.trigger(e.item,e,[r]),o+=t._.node(e.node,n[0],n[1],n[2]);return o},node:function(t,n,o,r){return n?(n=e.isArray(n)?n.join(""):n,o=o?' class="'+o+'"':"",r=r?" "+r:"","<"+t+o+r+">"+n+"</"+t+">"):""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,n){return"function"==typeof e?e.apply(t,n||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1===0},ariaAttr:a},t.extend=function(n,o){e.fn[n]=function(r,i){var a=this.data(n);return"picker"==r?a:a&&"string"==typeof r?t._.trigger(a[r],a,[i]):this.each(function(){var i=e(this);i.data(n)||new t(this,n,o,r)})},e.fn[n].defaults=o.defaults},t});
!function(e){"function"==typeof define&&define.amd?define(["picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,t){function n(e,t){var n=this,a=e.$node[0],i=a.value,r=e.$node.data("value"),o=r||i,s=r?t.formatSubmit:t.format,l=function(){return a.currentStyle?"rtl"==a.currentStyle.direction:"rtl"==getComputedStyle(e.$root[0]).direction};n.settings=t,n.$node=e.$node,n.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},n.item={},n.item.clear=null,n.item.disable=(t.disable||[]).slice(0),n.item.enable=-function(e){return e[0]===!0?e.shift():-1}(n.item.disable),n.set("min",t.min).set("max",t.max).set("now"),o?n.set("select",o,{format:s}):n.set("select",null).set("highlight",n.item.now),n.key={40:7,38:-7,39:function(){return l()?-1:1},37:function(){return l()?1:-1},go:function(e){var t=n.item.highlight,a=new Date(t.year,t.month,t.date+e);n.set("highlight",[a.getFullYear(),a.getMonth(),a.getDate()],{interval:e}),this.render()}},e.on("render",function(){e.$root.find("."+t.klass.selectMonth).on("change",function(){var n=this.value;n&&(e.set("highlight",[e.get("view").year,n,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).trigger("focus"))}),e.$root.find("."+t.klass.selectYear).on("change",function(){var n=this.value;n&&(e.set("highlight",[n,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).trigger("focus"))})},1).on("open",function(){var a="";n.disabled(n.get("now"))&&(a=":not(."+t.klass.buttonToday+")"),e.$root.find("button"+a+", select").attr("disabled",!1)},1).on("close",function(){e.$root.find("button, select").attr("disabled",!0)},1)}var a=7,i=6,r=e._;n.prototype.set=function(e,t,n){var a=this,i=a.item;return null===t?("clear"==e&&(e="select"),i[e]=t,a):(i["enable"==e?"disable":"flip"==e?"enable":e]=a.queue[e].split(" ").map(function(i){return t=a[i](e,t,n)}).pop(),"select"==e?a.set("highlight",i.select,n):"highlight"==e?a.set("view",i.highlight,n):e.match(/^(flip|min|max|disable|enable)$/)&&(i.select&&a.disabled(i.select)&&a.set("select",i.select,n),i.highlight&&a.disabled(i.highlight)&&a.set("highlight",i.highlight,n)),a)},n.prototype.get=function(e){return this.item[e]},n.prototype.create=function(e,n,a){var i,o=this;return n=void 0===n?e:n,n==-(1/0)||n==1/0?i=n:t.isPlainObject(n)&&r.isInteger(n.pick)?n=n.obj:t.isArray(n)?(n=new Date(n[0],n[1],n[2]),n=r.isDate(n)?n:o.create().obj):n=r.isInteger(n)||r.isDate(n)?o.normalize(new Date(n),a):o.now(e,n,a),{year:i||n.getFullYear(),month:i||n.getMonth(),date:i||n.getDate(),day:i||n.getDay(),obj:i||n,pick:i||n.getTime()}},n.prototype.createRange=function(e,n){var a=this,i=function(e){return e===!0||t.isArray(e)||r.isDate(e)?a.create(e):e};return r.isInteger(e)||(e=i(e)),r.isInteger(n)||(n=i(n)),r.isInteger(e)&&t.isPlainObject(n)?e=[n.year,n.month,n.date+e]:r.isInteger(n)&&t.isPlainObject(e)&&(n=[e.year,e.month,e.date+n]),{from:i(e),to:i(n)}},n.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},n.prototype.overlapRanges=function(e,t){var n=this;return e=n.createRange(e.from,e.to),t=n.createRange(t.from,t.to),n.withinRange(e,t.from)||n.withinRange(e,t.to)||n.withinRange(t,e.from)||n.withinRange(t,e.to)},n.prototype.now=function(e,t,n){return t=new Date,n&&n.rel&&t.setDate(t.getDate()+n.rel),this.normalize(t,n)},n.prototype.navigate=function(e,n,a){var i,r,o,s,l=t.isArray(n),c=t.isPlainObject(n),d=this.item.view;if(l||c){for(c?(r=n.year,o=n.month,s=n.date):(r=+n[0],o=+n[1],s=+n[2]),a&&a.nav&&d&&d.month!==o&&(r=d.year,o=d.month),i=new Date(r,o+(a&&a.nav?a.nav:0),1),r=i.getFullYear(),o=i.getMonth();new Date(r,o,s).getMonth()!==o;)s-=1;n=[r,o,s]}return n},n.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},n.prototype.measure=function(e,t){var n=this;return t?"string"==typeof t?t=n.parse(e,t):r.isInteger(t)&&(t=n.now(e,t,{rel:t})):t="min"==e?-(1/0):1/0,t},n.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},n.prototype.validate=function(e,n,a){var i,o,s,l,c=this,d=n,u=a&&a.interval?a.interval:1,h=c.item.enable===-1,m=c.item.min,f=c.item.max,p=h&&c.item.disable.filter(function(e){if(t.isArray(e)){var a=c.create(e).pick;a<n.pick?i=!0:a>n.pick&&(o=!0)}return r.isInteger(e)}).length;if((!a||!a.nav)&&(!h&&c.disabled(n)||h&&c.disabled(n)&&(p||i||o)||!h&&(n.pick<=m.pick||n.pick>=f.pick)))for(h&&!p&&(!o&&u>0||!i&&u<0)&&(u*=-1);c.disabled(n)&&(Math.abs(u)>1&&(n.month<d.month||n.month>d.month)&&(n=d,u=u>0?1:-1),n.pick<=m.pick?(s=!0,u=1,n=c.create([m.year,m.month,m.date+(n.pick===m.pick?0:-1)])):n.pick>=f.pick&&(l=!0,u=-1,n=c.create([f.year,f.month,f.date+(n.pick===f.pick?0:1)])),!s||!l);)n=c.create([n.year,n.month,n.date+u]);return n},n.prototype.disabled=function(e){var n=this,a=n.item.disable.filter(function(a){return r.isInteger(a)?e.day===(n.settings.firstDay?a:a-1)%7:t.isArray(a)||r.isDate(a)?e.pick===n.create(a).pick:t.isPlainObject(a)?n.withinRange(a,e):void 0});return a=a.length&&!a.filter(function(e){return t.isArray(e)&&"inverted"==e[3]||t.isPlainObject(e)&&e.inverted}).length,n.item.enable===-1?!a:a||e.pick<n.item.min.pick||e.pick>n.item.max.pick},n.prototype.parse=function(e,t,n){var a=this,i={};return t&&"string"==typeof t?(n&&n.format||(n=n||{},n.format=a.settings.format),a.formats.toArray(n.format).map(function(e){var n=a.formats[e],o=n?r.trigger(n,a,[t,i]):e.replace(/^!/,"").length;n&&(i[e]=t.substr(0,o)),t=t.substr(o)}),[i.yyyy||i.yy,+(i.mm||i.m)-1,i.dd||i.d]):t},n.prototype.formats=function(){function e(e,t,n){var a=e.match(/\w+/)[0];return n.mm||n.m||(n.m=t.indexOf(a)+1),a.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?r.digits(e):t.date},dd:function(e,t){return e?2:r.lead(t.date)},ddd:function(e,n){return e?t(e):this.settings.weekdaysShort[n.day]},dddd:function(e,n){return e?t(e):this.settings.weekdaysFull[n.day]},m:function(e,t){return e?r.digits(e):t.month+1},mm:function(e,t){return e?2:r.lead(t.month+1)},mmm:function(t,n){var a=this.settings.monthsShort;return t?e(t,a,n):a[n.month]},mmmm:function(t,n){var a=this.settings.monthsFull;return t?e(t,a,n):a[n.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var n=this;return n.formats.toArray(e).map(function(e){return r.trigger(n.formats[e],n,[0,t])||e.replace(/^!/,"")}).join("")}}}(),n.prototype.isDateExact=function(e,n){var a=this;return r.isInteger(e)&&r.isInteger(n)||"boolean"==typeof e&&"boolean"==typeof n?e===n:(r.isDate(e)||t.isArray(e))&&(r.isDate(n)||t.isArray(n))?a.create(e).pick===a.create(n).pick:!(!t.isPlainObject(e)||!t.isPlainObject(n))&&(a.isDateExact(e.from,n.from)&&a.isDateExact(e.to,n.to))},n.prototype.isDateOverlap=function(e,n){var a=this,i=a.settings.firstDay?1:0;return r.isInteger(e)&&(r.isDate(n)||t.isArray(n))?(e=e%7+i,e===a.create(n).day+1):r.isInteger(n)&&(r.isDate(e)||t.isArray(e))?(n=n%7+i,n===a.create(e).day+1):!(!t.isPlainObject(e)||!t.isPlainObject(n))&&a.overlapRanges(e,n)},n.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(t.enable==-1?1:-1)},n.prototype.deactivate=function(e,n){var a=this,i=a.item.disable.slice(0);return"flip"==n?a.flipEnable():n===!1?(a.flipEnable(1),i=[]):n===!0?(a.flipEnable(-1),i=[]):n.map(function(e){for(var n,o=0;o<i.length;o+=1)if(a.isDateExact(e,i[o])){n=!0;break}n||(r.isInteger(e)||r.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&i.push(e)}),i},n.prototype.activate=function(e,n){var a=this,i=a.item.disable,o=i.length;return"flip"==n?a.flipEnable():n===!0?(a.flipEnable(1),i=[]):n===!1?(a.flipEnable(-1),i=[]):n.map(function(e){var n,s,l,c;for(l=0;l<o;l+=1){if(s=i[l],a.isDateExact(s,e)){n=i[l]=null,c=!0;break}if(a.isDateOverlap(s,e)){t.isPlainObject(e)?(e.inverted=!0,n=e):t.isArray(e)?(n=e,n[3]||n.push("inverted")):r.isDate(e)&&(n=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(n)for(l=0;l<o;l+=1)if(a.isDateExact(i[l],e)){i[l]=null;break}if(c)for(l=0;l<o;l+=1)if(a.isDateOverlap(i[l],e)){i[l]=null;break}n&&i.push(n)}),i.filter(function(e){return null!=e})},n.prototype.nodes=function(e){var t=this,n=t.settings,o=t.item,s=o.now,l=o.select,c=o.highlight,d=o.view,u=o.disable,h=o.min,m=o.max,f=function(e,t){return n.firstDay&&(e.push(e.shift()),t.push(t.shift())),r.node("thead",r.node("tr",r.group({min:0,max:a-1,i:1,node:"th",item:function(a){return[e[a],n.klass.weekdays,'scope=col title="'+t[a]+'"']}})))}((n.showWeekdaysFull?n.weekdaysFull:n.weekdaysShort).slice(0),n.weekdaysFull.slice(0)),p=function(e){return r.node("div"," ",n.klass["nav"+(e?"Next":"Prev")]+(e&&d.year>=m.year&&d.month>=m.month||!e&&d.year<=h.year&&d.month<=h.month?" "+n.klass.navDisabled:""),"data-nav="+(e||-1)+" "+r.ariaAttr({role:"button",controls:t.$node[0].id+"_table"})+' title="'+(e?n.labelMonthNext:n.labelMonthPrev)+'"')},y=function(){var a=n.showMonthsShort?n.monthsShort:n.monthsFull;return n.selectMonths?r.node("select",r.group({min:0,max:11,i:1,node:"option",item:function(e){return[a[e],0,"value="+e+(d.month==e?" selected":"")+(d.year==h.year&&e<h.month||d.year==m.year&&e>m.month?" disabled":"")]}}),n.klass.selectMonth,(e?"":"disabled")+" "+r.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+n.labelMonthSelect+'"'):r.node("div",a[d.month],n.klass.month)},g=function(){var a=d.year,i=n.selectYears===!0?5:~~(n.selectYears/2);if(i){var o=h.year,s=m.year,l=a-i,c=a+i;if(o>l&&(c+=o-l,l=o),s<c){var u=l-o,f=c-s;l-=u>f?f:u,c=s}return r.node("select",r.group({min:l,max:c,i:1,node:"option",item:function(e){return[e,0,"value="+e+(a==e?" selected":"")]}}),n.klass.selectYear,(e?"":"disabled")+" "+r.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+n.labelYearSelect+'"')}return r.node("div",a,n.klass.year)};return r.node("div",(n.selectYears?g()+y():y()+g())+p()+p(1),n.klass.header)+r.node("table",f+r.node("tbody",r.group({min:0,max:i-1,i:1,node:"tr",item:function(e){var i=n.firstDay&&0===t.create([d.year,d.month,1]).day?-7:0;return[r.group({min:a*e-d.day+i+1,max:function(){return this.min+a-1},i:1,node:"td",item:function(e){e=t.create([d.year,d.month,e+(n.firstDay?1:0)]);var a=l&&l.pick==e.pick,i=c&&c.pick==e.pick,o=u&&t.disabled(e)||e.pick<h.pick||e.pick>m.pick;return[r.node("div",e.date,function(t){return t.push(d.month==e.month?n.klass.infocus:n.klass.outfocus),s.pick==e.pick&&t.push(n.klass.now),a&&t.push(n.klass.selected),i&&t.push(n.klass.highlighted),o&&t.push(n.klass.disabled),t.join(" ")}([n.klass.day]),"data-pick="+e.pick+" "+r.ariaAttr({role:"gridcell",selected:!(!a||t.$node.val()!==r.trigger(t.formats.toString,t,[n.format,e]))||null,activedescendant:!!i||null,disabled:!!o||null})),"",r.ariaAttr({role:"presentation"})]}})]}})),n.klass.table,'id="'+t.$node[0].id+'_table" '+r.ariaAttr({role:"grid",controls:t.$node[0].id,readonly:!0}))+r.node("div",r.node("button",n.today,n.klass.buttonToday,"type=button data-pick="+s.pick+(e&&!t.disabled(s)?"":" disabled")+" "+r.ariaAttr({controls:t.$node[0].id}))+r.node("button",n.clear,n.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+r.ariaAttr({controls:t.$node[0].id}))+r.node("button",n.close,n.klass.buttonClose,"type=button data-close=true "+(e?"":" disabled")+" "+r.ariaAttr({controls:t.$node[0].id})),n.klass.footer)},n.defaults=function(e){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",format:"d mmmm, yyyy",klass:{table:e+"table",header:e+"header",navPrev:e+"nav--prev",navNext:e+"nav--next",navDisabled:e+"nav--disabled",month:e+"month",year:e+"year",selectMonth:e+"select--month",selectYear:e+"select--year",weekdays:e+"weekday",day:e+"day",disabled:e+"day--disabled",selected:e+"day--selected",highlighted:e+"day--highlighted",now:e+"day--today",infocus:e+"day--infocus",outfocus:e+"day--outfocus",footer:e+"footer",buttonClear:e+"button--clear",buttonToday:e+"button--today",buttonClose:e+"button--close"}}}(e.klasses().picker+"__"),e.extend("pickadate",n)});
!function(e){e.fn.maxlength=function(t){function a(e){var a=e.value;return t.words&&(a=e.value.length?a.split(/\s+/):{length:0}),a.length}return"string"==typeof t&&(t={feedback:t}),t=e.extend({},e.fn.maxlength.defaults,t),this.each(function(){function n(e){var n=a(this),s=n>=c,u=e.keyCode;if(s)switch(u){case 8:case 9:case 17:case 36:case 35:case 37:case 38:case 39:case 40:case 46:case 65:return;default:return t.words&&32!=u&&13!=u&&n==c}}var s=this,u=e(s),r=e(s.form),c=t.useInput?r.find("input[name=maxlength]").val():u.attr("maxlength"),i=r.find(t.feedback),f=function(){var e=a(s),n=c-e;i.html(n||"0"),t.hardLimit&&n<0&&(s.value=t.words?s.value.split(/(\s+)/,2*c-1).join(""):s.value.substr(0,c),f())};u.keyup(f).change(f),t.hardLimit&&u.keydown(n),f()})},e.fn.maxlength.defaults={useInput:!1,hardLimit:!0,feedback:".charsLeft",words:!1}}(jQuery);
!function(n,t){"use strict";function o(o){var o=o||location.hash,i=o.substring(1).split("|"),a=i[0],s=i[1]||n.AA_CONFIG.animationLength;if(0!=a.indexOf("/")){if(a.charAt(0).search(/[A-Za-z]/)>-1)var c=e.find("#"+a);var f=e.find('a[name="'+a+'"]');if(!(f&&f.length||c&&c.length)){var h=t(a).first();if(h&&h.length){var l=h;if(l&&l.length){var u=l.offset().top-n.AA_CONFIG.scrollOffset;r.stop(!0,!1).animate({scrollTop:u},parseInt(s),n.AA_CONFIG.easingFunction)}}}}}var i,e,a,s,r;n.AA_CONFIG=n.AA_CONFIG||{},n.AA_CONFIG=t.extend({animationLength:750,easingFunction:"linear",scrollOffset:0},n.AA_CONFIG),t(document).ready(function(){i=t(n),e=t(this),a=t(document.body),s=t(document.documentElement),r=a.add(s),o(),e.find('a[href^="#"], a[href^="."]').on("click",function(){var n=t(this).attr("href");"."===n.charAt(0)&&(n=n.split("#"),n.shift(),n="#"+n.join("#")),n===location.hash&&o(n)}),i.on("hashchange",function(){o()}),i.on("mousewheel DOMMouseScroll touchstart mousedown MSPointerDown",function(n){r.stop(!0,!1)})})}(window,jQuery);
!function(e){e.gritter={},e.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},e.gritter.add=function(e){try{return t.add(e||{})}catch(i){var r="Gritter Error: "+i;"undefined"!=typeof console&&console.error?console.error(r,e):alert(r)}},e.gritter.remove=function(e,i){t.removeSpecific(e,i||{})},e.gritter.removeAll=function(e){t.stop(e||{})};var t={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<i class="close icon"></i>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="ui message [[item_class]]" style="display:none" role="alert">[[close]]<div class="gritter-item content">[[image]]<div class="[[class_name]]">[[text]]</div></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(i){if("string"==typeof i&&(i={text:i}),null===i.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var r=i.title,o=i.text,n=i.image||"",s=i.sticky||!1,a=i.class_name||e.gritter.options.class_name,_=e.gritter.options.position,c=i.time||"";this._verifyWrapper(),this._item_count++;var p=this._item_count,u=this._tpl_item;e(["before_open","after_open","before_close","after_close"]).each(function(r,o){t["_"+o+"_"+p]=e.isFunction(i[o])?i[o]:function(){}}),this._custom_timer=0,c&&(this._custom_timer=c);var l=""!=n?'<img src="'+n+'" class="gritter-image" />':"",f=""!=n?"gritter-with-image":"gritter-without-image";if(r=r?this._str_replace("[[title]]",r,this._tpl_title):"",u=this._str_replace(["[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[o,this._tpl_close,l,this._item_count,f,a],u),this["_before_open_"+p]()===!1)return!1;e("#gritter-notice-wrapper").addClass(_).append(u);var m=e("#gritter-item-"+this._item_count);return m.fadeIn(this.fade_in_speed,function(){t["_after_open_"+p](e(this))}),s||this._setFadeTimer(m,p),e(m).bind("mouseenter mouseleave",function(i){"mouseenter"==i.type?s||t._restoreItemIfFading(e(this),p):s||t._setFadeTimer(e(this),p),t._hoverState(e(this),i.type)}),e(m).find(".gritter-close").click(function(){return t.removeSpecific(p,{},null,!0),!1}),p},_countRemoveWrapper:function(t,i,r){i.remove(),this["_after_close_"+t](i,r),0==e(".gritter-item-wrapper").length&&e("#gritter-notice-wrapper").remove()},_fade:function(e,i,r,o){var r=r||{},n="undefined"==typeof r.fade||r.fade,s=r.speed||this.fade_out_speed,a=o;this["_before_close_"+i](e,a),o&&e.unbind("mouseenter mouseleave"),n?e.animate({opacity:0},s,function(){e.animate({height:0},300,function(){t._countRemoveWrapper(i,e,a)})}):this._countRemoveWrapper(i,e)},_hoverState:function(e,t){"mouseenter"==t?(e.addClass("hover"),e.find(".gritter-close").show()):(e.removeClass("hover"),e.find(".gritter-close").hide())},removeSpecific:function(t,i,r,o){if(!r)var r=e("#gritter-item-"+t);this._fade(r,t,i||{},o)},_restoreItemIfFading:function(e,t){clearTimeout(this["_int_id_"+t]),e.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in e.gritter.options)this[opt]=e.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(e,i){var r=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+i]=setTimeout(function(){t._fade(e,i)},r)},stop:function(t){var i=e.isFunction(t.before_close)?t.before_close:function(){},r=e.isFunction(t.after_close)?t.after_close:function(){},o=e("#gritter-notice-wrapper");i(o),o.fadeOut(function(){e(this).remove(),r()})},_str_replace:function(e,t,i,r){var o=0,n=0,s="",a="",_=0,c=0,p=[].concat(e),u=[].concat(t),l=i,f=u instanceof Array,m=l instanceof Array;for(l=[].concat(l),r&&(this.window[r]=0),o=0,_=l.length;o<_;o++)if(""!==l[o])for(n=0,c=p.length;n<c;n++)s=l[o]+"",a=f?void 0!==u[n]?u[n]:"":u[0],l[o]=s.split(p[n]).join(a),r&&l[o]!==s&&(this.window[r]+=(s.length-l[o].length)/p[n].length);return m?l:l[0]},_verifyWrapper:function(){0==e("#gritter-notice-wrapper").length&&e("body").append(this._tpl_wrap)}}}(jQuery);
!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(o){return t.returnExportsGlobal=e(o)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){"use strict";var e,o,n,r,i,s,a,p,c,l,f;l="caret",e=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.setPos=function(t){return this.domInputor},e.prototype.getIEPosition=function(){return this.getPosition()},e.prototype.getPosition=function(){var t,e;return e=this.getOffset(),t=this.$inputor.offset(),e.left-=t.left,e.top-=t.top,e},e.prototype.getOldIEPos=function(){var t,e;return e=a.selection.createRange(),t=a.body.createTextRange(),t.moveToElementText(this.domInputor),t.setEndPoint("EndToEnd",e),t.text.length},e.prototype.getPos=function(){var t,e,o;return(o=this.range())?(t=o.cloneRange(),t.selectNodeContents(this.domInputor),t.setEnd(o.endContainer,o.endOffset),e=t.toString().length,t.detach(),e):a.selection?this.getOldIEPos():void 0},e.prototype.getOldIEOffset=function(){var t,e;return t=a.selection.createRange().duplicate(),t.moveStart("character",-1),e=t.getBoundingClientRect(),{height:e.bottom-e.top,left:e.left,top:e.top}},e.prototype.getOffset=function(e){var o,n,r,i,s;return c.getSelection&&(r=this.range())?(r.endOffset-1>0&&r.endContainer===!this.domInputor&&(o=r.cloneRange(),o.setStart(r.endContainer,r.endOffset-1),o.setEnd(r.endContainer,r.endOffset),i=o.getBoundingClientRect(),n={height:i.height,left:i.left+i.width,top:i.top},o.detach()),n&&0!==(null!=n?n.height:void 0)||(o=r.cloneRange(),s=t(a.createTextNode("|")),o.insertNode(s[0]),o.selectNode(s[0]),i=o.getBoundingClientRect(),n={height:i.height,left:i.left,top:i.top},s.remove(),o.detach())):a.selection&&(n=this.getOldIEOffset()),n&&(n.top+=t(c).scrollTop(),n.left+=t(c).scrollLeft()),n},e.prototype.range=function(){var t;if(c.getSelection)return t=c.getSelection(),t.rangeCount>0?t.getRangeAt(0):null},e}(),o=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.getIEPos=function(){var t,e,o,n,r,i,s;return e=this.domInputor,i=a.selection.createRange(),r=0,i&&i.parentElement()===e&&(n=e.value.replace(/\r\n/g,"\n"),o=n.length,s=e.createTextRange(),s.moveToBookmark(i.getBookmark()),t=e.createTextRange(),t.collapse(!1),r=s.compareEndPoints("StartToEnd",t)>-1?o:-s.moveStart("character",-o)),r},e.prototype.getPos=function(){return a.selection?this.getIEPos():this.domInputor.selectionStart},e.prototype.setPos=function(t){var e,o;return e=this.domInputor,a.selection?(o=e.createTextRange(),o.move("character",t),o.select()):e.setSelectionRange&&e.setSelectionRange(t,t),e},e.prototype.getIEOffset=function(t){var e,o,n,r;return o=this.domInputor.createTextRange(),t||(t=this.getPos()),o.move("character",t),n=o.boundingLeft,r=o.boundingTop,e=o.boundingHeight,{left:n,top:r,height:e}},e.prototype.getOffset=function(e){var o,n,r;return o=this.$inputor,a.selection?(n=this.getIEOffset(e),n.top+=t(c).scrollTop()+o.scrollTop(),n.left+=t(c).scrollLeft()+o.scrollLeft(),n):(n=o.offset(),r=this.getPosition(e),n={left:n.left+r.left-o.scrollLeft(),top:n.top+r.top-o.scrollTop(),height:r.height})},e.prototype.getPosition=function(t){var e,o,r,i,s,a,p;return e=this.$inputor,i=function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t},void 0===t&&(t=this.getPos()),p=e.val().slice(0,t),r=e.val().slice(t),s="<span style='position: relative; display: inline;'>"+i(p)+"</span>",s+="<span id='caret' style='position: relative; display: inline;'>|</span>",s+="<span style='position: relative; display: inline;'>"+i(r)+"</span>",a=new n(e),o=a.create(s).rect()},e.prototype.getIEPosition=function(t){var e,o,n,r,i;return n=this.getIEOffset(t),o=this.$inputor.offset(),r=n.left-o.left,i=n.top-o.top,e=n.height,{left:r,top:i,height:e}},e}(),n=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],e.prototype.mirrorCss=function(){var e,o=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),t.each(this.css_attr,function(t,n){return e[n]=o.$inputor.css(n)}),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.rect=function(){var t,e,o;return t=this.$mirror.find("#caret"),e=t.position(),o={left:e.left,top:e.top,height:t.height()},this.$mirror.remove(),o},e}(),r={contentEditable:function(t){return!(!t[0].contentEditable||"true"!==t[0].contentEditable)}},s={pos:function(t){return t||0===t?this.setPos(t):this.getPos()},position:function(t){return a.selection?this.getIEPosition(t):this.getPosition(t)},offset:function(t){var e;return e=this.getOffset(t)}},a=null,c=null,p=null,f=function(t){var e;return(e=null!=t?t.iframe:void 0)?(p=e,c=e.contentWindow,a=e.contentDocument||c.document):(p=void 0,c=window,a=document)},i=function(t){var e;a=t[0].ownerDocument,c=a.defaultView||a.parentWindow;try{return p=c.frameElement}catch(o){e=o}},t.fn.caret=function(n,i,a){var p;return s[n]?(t.isPlainObject(i)?(f(i),i=void 0):f(a),p=r.contentEditable(this)?new e(this):new o(this),s[n].apply(p,[i])):t.error("Method "+n+" does not exist on jQuery.caret")},t.fn.caret.EditableCaret=e,t.fn.caret.InputCaret=o,t.fn.caret.Utils=r,t.fn.caret.apis=s});
!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e,i,n,r,o,s,a,h,l,u,c=[].slice,p=function(t,e){function i(){this.constructor=t}for(var n in e)f.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},f={}.hasOwnProperty;e=t,n=function(){function t(t){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=e(t),this.setupRootElement(),this.listen()}return t.prototype.createContainer=function(t){var i;return null!=(i=this.$el)&&i.remove(),e(t.body).append(this.$el=e("<div class='atwho-container'></div>"))},t.prototype.setupRootElement=function(t,i){var n;if(null==i&&(i=!1),t)this.window=t.contentWindow,this.document=t.contentDocument||this.window.document,this.iframe=t;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(r){if(n=r,this.iframe=null,e.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+n)}}return this.createContainer((this.iframeAsRoot=i)?this.document:document)},t.prototype.controller=function(t){var e,i,n,r;if(this.aliasMaps[t])i=this.controllers[this.aliasMaps[t]];else{r=this.controllers;for(n in r)if(e=r[n],n===t){i=e;break}}return i?i:this.controllers[this.currentFlag]},t.prototype.setContextFor=function(t){return this.currentFlag=t,this},t.prototype.reg=function(t,e){var i,n;return n=(i=this.controllers)[t]||(i[t]=this.$inputor.is("[contentEditable]")?new s(this,t):new l(this,t)),e.alias&&(this.aliasMaps[e.alias]=t),n.init(e),this},t.prototype.listen=function(){return this.$inputor.on("compositionstart",function(t){return function(e){var i;return null!=(i=t.controller())&&i.view.hide(),console.log("compositionstart"),t.isComposing=!0,null}}(this)).on("compositionend",function(t){return function(e){return console.log("compositionend"),t.isComposing=!1,null}}(this)).on("keyup.atwhoInner",function(t){return function(e){return t.onKeyup(e)}}(this)).on("keydown.atwhoInner",function(t){return function(e){return t.onKeydown(e)}}(this)).on("blur.atwhoInner",function(t){return function(e){var i;if(i=t.controller())return i.expectedQueryCBId=null,i.view.hide(e,i.getOpt("displayTimeout"))}}(this)).on("click.atwhoInner",function(t){return function(e){return t.dispatch(e)}}(this)).on("scroll.atwhoInner",function(t){return function(){var e;return e=t.$inputor.scrollTop(),function(i){var n,r;return n=i.target.scrollTop,e!==n&&null!=(r=t.controller())&&r.view.hide(i),e=n,!0}}}(this)())},t.prototype.shutdown=function(){var t,e,i;i=this.controllers;for(t in i)e=i[t],e.destroy(),delete this.controllers[t];return this.$inputor.off(".atwhoInner"),this.$el.remove()},t.prototype.dispatch=function(t){var e,i,n,r;n=this.controllers,r=[];for(e in n)i=n[e],r.push(i.lookUp(t));return r},t.prototype.onKeyup=function(t){var i;switch(t.keyCode){case a.ESC:t.preventDefault(),null!=(i=this.controller())&&i.view.hide();break;case a.DOWN:case a.UP:case a.CTRL:case a.ENTER:e.noop();break;case a.P:case a.N:t.ctrlKey||this.dispatch(t);break;default:this.dispatch(t)}},t.prototype.onKeydown=function(t){var i,n;if(n=null!=(i=this.controller())?i.view:void 0,n&&n.visible())switch(t.keyCode){case a.ESC:t.preventDefault(),n.hide(t);break;case a.UP:t.preventDefault(),n.prev();break;case a.DOWN:t.preventDefault(),n.next();break;case a.P:if(!t.ctrlKey)return;t.preventDefault(),n.prev();break;case a.N:if(!t.ctrlKey)return;t.preventDefault(),n.next();break;case a.TAB:case a.ENTER:case a.SPACE:if(!n.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&t.keyCode===a.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&t.keyCode===a.TAB)return;n.highlighted()?(t.preventDefault(),n.choose(t)):n.hide(t);break;default:e.noop()}},t}(),r=function(){function t(t,i){this.app=t,this.at=i,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=e("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=e("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new h(this),this.view=new u(this)}return t.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},t.prototype.init=function(t){return this.setting=e.extend({},this.setting||e.fn.atwho["default"],t),this.view.init(),this.model.reload(this.setting.data)},t.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},t.prototype.callDefault=function(){var t,i,n;n=arguments[0],t=2<=arguments.length?c.call(arguments,1):[];try{return o[n].apply(this,t)}catch(r){return i=r,e.error(i+" Or maybe At.js doesn't have function "+n)}},t.prototype.trigger=function(t,e){var i,n;return null==e&&(e=[]),e.push(this),i=this.getOpt("alias"),n=i?t+"-"+i+".atwho":t+".atwho",this.$inputor.trigger(n,e)},t.prototype.callbacks=function(t){return this.getOpt("callbacks")[t]||o[t]},t.prototype.getOpt=function(t,e){var i;try{return this.setting[t]}catch(n){return i=n,null}},t.prototype.insertContentFor=function(t){var i,n;return n=this.getOpt("insertTpl"),i=e.extend({},t.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,n,i,"onInsert")},t.prototype.renderView=function(t){var e;return e=this.getOpt("searchKey"),t=this.callbacks("sorter").call(this,this.query.text,t.slice(0,1001),e),this.view.render(t.slice(0,this.getOpt("limit")))},t.arrayToDefaultHash=function(t){var i,n,r,o;if(!e.isArray(t))return t;for(o=[],i=0,r=t.length;i<r;i++)n=t[i],e.isPlainObject(n)?o.push(n):o.push({name:n});return o},t.prototype.lookUp=function(t){var e,i;if(!this.getOpt("suspendOnComposing")||!this.app.isComposing)return(e=this.catchQuery(t))?(this.app.setContextFor(this.at),(i=this.getOpt("delay"))?this._delayLookUp(e,i):this._lookUp(e),e):(this.expectedQueryCBId=null,e)},t.prototype._delayLookUp=function(t,e){var i,n;return i=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=i),n=e-(i-this.previousCallTime),0<n&&n<e?(this.previousCallTime=i,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout(function(e){return function(){return e.previousCallTime=0,e.delayedCallTimeout=null,e._lookUp(t)}}(this),e)):(this._stopDelayedCall(),this.previousCallTime!==i&&(this.previousCallTime=0),this._lookUp(t))},t.prototype._stopDelayedCall=function(){if(this.delayedCallTimeout)return clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null},t.prototype._generateQueryCBId=function(){return{}},t.prototype._lookUp=function(t){var i;return i=function(t,e){if(t===this.expectedQueryCBId)return e&&e.length>0?this.renderView(this.constructor.arrayToDefaultHash(e)):this.view.hide()},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(t.text,e.proxy(i,this,this.expectedQueryCBId))},t}(),l=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return p(i,t),i.prototype.catchQuery=function(){var t,e,i,n,r,o,s;if(e=this.$inputor.val(),t=this.$inputor.caret("pos",{iframe:this.app.iframe}),s=e.slice(0,t),r=this.callbacks("matcher").call(this,this.at,s,this.getOpt("startWithSpace")),n="string"==typeof r,!(n&&r.length<this.getOpt("minLen",0)))return n&&r.length<=this.getOpt("maxLen",20)?(o=t-r.length,i=o+r.length,this.pos=o,r={text:r,headPos:o,endPos:i},this.trigger("matched",[this.at,r.text])):(r=null,this.view.hide()),this.query=r},i.prototype.rect=function(){var t,i,n;if(t=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(i=e(this.app.iframe).offset(),t.left+=i.left,t.top+=i.top),n=this.app.document.selection?0:2,{left:t.left,top:t.top,bottom:t.top+t.height+n}},i.prototype.insert=function(t,e){var i,n,r,o,s;return i=this.$inputor,n=i.val(),r=n.slice(0,Math.max(this.query.headPos-this.at.length,0)),o=""===(o=this.getOpt("suffix"))?o:o||" ",t+=o,s=""+r+t+n.slice(this.query.endPos||0),i.val(s),i.caret("pos",r.length+t.length,{iframe:this.app.iframe}),i.is(":focus")||i.focus(),i.change()},i}(r),s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return p(i,t),i.prototype._getRange=function(){var t;if(t=this.app.window.getSelection(),t.rangeCount>0)return t.getRangeAt(0)},i.prototype._setRange=function(t,i,n){if(null==n&&(n=this._getRange()),n)return i=e(i)[0],"after"===t?(n.setEndAfter(i),n.setStartAfter(i)):(n.setEndBefore(i),n.setStartBefore(i)),n.collapse(!1),this._clearRange(n)},i.prototype._clearRange=function(t){var e;if(null==t&&(t=this._getRange()),e=this.app.window.getSelection(),null==this.ctrl_a_pressed)return e.removeAllRanges(),e.addRange(t)},i.prototype._movingEvent=function(t){var e;return"click"===t.type||(e=t.which)===a.RIGHT||e===a.LEFT||e===a.UP||e===a.DOWN},i.prototype._unwrap=function(t){var i;return t=e(t).unwrap().get(0),(i=t.nextSibling)&&i.nodeValue&&(t.nodeValue+=i.nodeValue,e(i).remove()),t},i.prototype.catchQuery=function(t){var i,n,r,o,s,h,l,u,c,p,f;if(f=this._getRange()){if(t.which===a.CTRL?this.ctrl_pressed=!0:t.which===a.A?null==this.ctrl_pressed&&(this.ctrl_a_pressed=!0):(delete this.ctrl_a_pressed,delete this.ctrl_pressed),t.which===a.ENTER)return(n=e(f.startContainer).closest(".atwho-query")).contents().unwrap(),n.is(":empty")&&n.remove(),(n=e(".atwho-query",this.app.document)).text(n.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if(e(f.startContainer).is(this.$inputor))return void this._clearRange();t.which===a.BACKSPACE&&f.startContainer.nodeType===document.ELEMENT_NODE&&(c=f.startOffset-1)>=0?(r=f.cloneRange(),r.setStart(f.startContainer,c),e(r.cloneContents()).contents().last().is(".atwho-inserted")&&(s=e(f.startContainer).contents().get(c),this._setRange("after",e(s).contents().last()))):t.which===a.LEFT&&f.startContainer.nodeType===document.TEXT_NODE&&(i=e(f.startContainer.previousSibling),i.is(".atwho-inserted")&&0===f.startOffset&&this._setRange("after",i.contents().last()))}if(e(f.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(n=e(".atwho-query",this.app.document)).length>0&&n.is(":empty")&&0===n.text().length&&n.remove(),this._movingEvent(t)||n.removeClass("atwho-inserted"),r=f.cloneRange(),r.setStart(f.startContainer,0),u=this.callbacks("matcher").call(this,this.at,r.toString(),this.getOpt("startWithSpace")),h="string"==typeof u,0===n.length&&h&&(o=f.startOffset-this.at.length-u.length)>=0&&(f.setStart(f.startContainer,o),n=e("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),f.surroundContents(n.get(0)),l=n.contents().last().get(0),/firefox/i.test(navigator.userAgent)?(f.setStart(l,l.length),f.setEnd(l,l.length),this._clearRange(f)):this._setRange("after",l,f)),!(h&&u.length<this.getOpt("minLen",0)))return h&&u.length<=this.getOpt("maxLen",20)?(p={text:u,el:n},this.trigger("matched",[this.at,p.text]),this.query=p):(this.view.hide(),this.query={el:n},n.text().indexOf(this.at)>=0&&(this._movingEvent(t)&&n.hasClass("atwho-inserted")?n.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,n)&&this._setRange("after",this._unwrap(n.text(n.text()).contents().first()))),null)}},i.prototype.rect=function(){var t,i,n;return n=this.query.el.offset(),this.app.iframe&&!this.app.iframeAsRoot&&(i=(t=e(this.app.iframe)).offset(),n.left+=i.left-this.$inputor.scrollLeft(),n.top+=i.top-this.$inputor.scrollTop()),n.bottom=n.top+this.query.el.height(),n},i.prototype.insert=function(t,e){var i,n,r;return n=""===(n=this.getOpt("suffix"))?n:n||"",this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(t),(i=this._getRange())&&(i.setEndAfter(this.query.el[0]),i.collapse(!1),i.insertNode(r=this.app.document.createTextNode(n)),this._setRange("after",r,i)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change()},i}(r),h=function(){function t(t){this.context=t,this.at=this.context.at,this.storage=this.context.$inputor}return t.prototype.destroy=function(){return this.storage.data(this.at,null)},t.prototype.saved=function(){return this.fetch()>0},t.prototype.query=function(t,e){var i,n,r;return n=this.fetch(),r=this.context.getOpt("searchKey"),n=this.context.callbacks("filter").call(this.context,t,n,r)||[],i=this.context.callbacks("remoteFilter"),n.length>0||!i&&0===n.length?e(n):i.call(this.context,t,e)},t.prototype.fetch=function(){return this.storage.data(this.at)||[]},t.prototype.save=function(t){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,t||[]))},t.prototype.load=function(t){if(!this.saved()&&t)return this._load(t)},t.prototype.reload=function(t){return this._load(t)},t.prototype._load=function(t){return"string"==typeof t?e.ajax(t,{dataType:"json"}).done(function(t){return function(e){return t.save(e)}}(this)):this.save(t)},t}(),u=function(){function t(t){this.context=t,this.$el=e("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return t.prototype.init=function(){var t;return t=this.context.getOpt("alias")||this.context.at.charCodeAt(0),this.$el.attr({id:"at-view-"+t})},t.prototype.destroy=function(){return this.$el.remove()},t.prototype.bindEvent=function(){var t;return t=this.$el.find("ul"),t.on("mouseenter.atwho-view","li",function(i){return t.find(".cur").removeClass("cur"),e(i.currentTarget).addClass("cur")}).on("click.atwho-view","li",function(i){return function(n){return t.find(".cur").removeClass("cur"),e(n.currentTarget).addClass("cur"),i.choose(n),n.preventDefault()}}(this))},t.prototype.visible=function(){return this.$el.is(":visible")},t.prototype.highlighted=function(){return this.$el.find(".cur").length>0},t.prototype.choose=function(t){var e,i;if((e=this.$el.find(".cur")).length&&(i=this.context.insertContentFor(e),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,i,e),e),this.context.trigger("inserted",[e,t]),this.hide(t)),this.context.getOpt("hideWithoutSuffix"))return this.stopShowing=!0},t.prototype.reposition=function(t){var i,n,r,o;return i=this.context.app.iframeAsRoot?this.context.app.window:window,t.bottom+this.$el.height()-e(i).scrollTop()>e(i).height()&&(t.bottom=t.top-this.$el.height()),t.left>(r=e(i).width()-this.$el.width()-5)&&(t.left=r),n={left:t.left,top:t.bottom},null!=(o=this.context.callbacks("beforeReposition"))&&o.call(this.context,n),this.$el.offset(n),this.context.trigger("reposition",[n])},t.prototype.next=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.next(),e.length||(e=this.$el.find("li:first")),e.addClass("cur"),this.scrollTop(Math.max(0,t.innerHeight()*(e.index()+2)-this.$el.height()))},t.prototype.prev=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.prev(),e.length||(e=this.$el.find("li:last")),e.addClass("cur"),this.scrollTop(Math.max(0,t.innerHeight()*(e.index()+2)-this.$el.height()))},t.prototype.scrollTop=function(t){var e;return e=this.context.getOpt("scrollDuration"),e?this.$el.animate({scrollTop:t},e):this.$el.scrollTop(t)},t.prototype.show=function(){var t;return this.stopShowing?void(this.stopShowing=!1):(this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(t=this.context.rect())?this.reposition(t):void 0)},t.prototype.hide=function(t,e){var i;if(this.visible())return isNaN(e)?(this.$el.hide(),this.context.trigger("hidden",[t])):(i=function(t){return function(){return t.hide()}}(this),clearTimeout(this.timeoutID),this.timeoutID=setTimeout(i,e))},t.prototype.render=function(t){var i,n,r,o,s,a,h;if(!(e.isArray(t)&&t.length>0))return void this.hide();for(this.$el.find("ul").empty(),n=this.$el.find("ul"),h=this.context.getOpt("displayTpl"),r=0,s=t.length;r<s;r++)o=t[r],o=e.extend({},o,{"atwho-at":this.context.at}),a=this.context.callbacks("tplEval").call(this.context,h,o,"onDisplay"),i=e(this.context.callbacks("highlighter").call(this.context,a,this.context.query.text)),i.data("item-data",o),n.append(i);return this.show(),this.context.getOpt("highlightFirst")?n.find("li:first").addClass("cur"):void 0},t}(),a={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},o={beforeSave:function(t){return r.arrayToDefaultHash(t)},matcher:function(t,e,i,n){var r,o,s,a,h;return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),i&&(t="(?:^|\\s)"+t),r=decodeURI("%C3%80"),o=decodeURI("%C3%BF"),h=n?" ":"",a=new RegExp(t+"([A-Za-z"+r+"-"+o+"0-9_"+h+"'.+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi"),s=a.exec(e),s?s[2]||s[1]:null},filter:function(t,e,i){var n,r,o,s;for(n=[],r=0,s=e.length;r<s;r++)o=e[r],~new String(o[i]).toLowerCase().indexOf(t.toLowerCase())&&n.push(o);return n},remoteFilter:null,sorter:function(t,e,i){var n,r,o,s;if(!t)return e;for(n=[],r=0,s=e.length;r<s;r++)o=e[r],o.atwho_order=new String(o[i]).toLowerCase().indexOf(t.toLowerCase()),o.atwho_order>-1&&n.push(o);return n.sort(function(t,e){return t.atwho_order-e.atwho_order})},tplEval:function(t,e){var i,n;n=t;try{return"string"!=typeof t&&(n=t(e)),n.replace(/\$\{([^\}]*)\}/g,function(t,i,n){return e[i]})}catch(r){return i=r,""}},highlighter:function(t,e){var i;return e?(i=new RegExp(">\\s*(\\w*?)("+e.replace("+","\\+")+")(\\w*)\\s*<","ig"),t.replace(i,function(t,e,i,n){return"> "+e+"<strong>"+i+"</strong>"+n+" <"})):t},beforeInsert:function(t,e){return t},beforeReposition:function(t){return t},afterMatchFailed:function(t,e){}},i={load:function(t,e){var i;if(i=this.controller(t))return i.model.load(e)},isSelecting:function(){var t;return!!(null!=(t=this.controller())?t.view.visible():void 0)},hide:function(){var t;return null!=(t=this.controller())?t.view.hide():void 0},reposition:function(){var t;if(t=this.controller())return t.view.reposition(t.rect())},setIframe:function(t,e){return this.setupRootElement(t,e),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},e.fn.atwho=function(t){var r,o;return r=arguments,o=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function(){var s,a;return(a=(s=e(this)).data("atwho"))||s.data("atwho",a=new n(this)),"object"!=typeof t&&t?i[t]&&a?o=i[t].apply(a,Array.prototype.slice.call(r,1)):e.error("Method "+t+" does not exist on jQuery.atwho"):a.reg(t.at,t)}),null!=o?o:this},e.fn.atwho["default"]={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",callbacks:o,searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,highlightFirst:!0,limit:5,maxLen:20,minLen:0,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150,suspendOnComposing:!0},e.fn.atwho.debug=!1});
!function(e,t,i,o){var n=e(t);e.fn.lazyload=function(r){function f(){var t=0;l.each(function(){var i=e(this);if(!h.skip_invisible||i.is(":visible"))if(e.abovethetop(this,h)||e.leftofbegin(this,h));else if(e.belowthefold(this,h)||e.rightoffold(this,h)){if(++t>h.failure_limit)return!1}else i.trigger("appear"),t=0})}var a,l=this,h={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return r&&(o!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),o!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),e.extend(h,r)),a=h.container===o||h.container===t?n:e(h.container),0===h.event.indexOf("scroll")&&a.bind(h.event,function(){return f()}),this.each(function(){var t=this,i=e(t);t.loaded=!1,i.attr("src")!==o&&i.attr("src")!==!1||i.is("img")&&i.attr("src",h.placeholder),i.one("appear",function(){if(!this.loaded){if(h.appear){var o=l.length;h.appear.call(t,o,h)}e("<img />").bind("load",function(){var o=i.attr("data-"+h.data_attribute);i.hide(),i.is("img")?i.attr("src",o):i.css("background-image","url('"+o+"')"),i[h.effect](h.effect_speed),t.loaded=!0;var n=e.grep(l,function(e){return!e.loaded});if(l=e(n),h.load){var r=l.length;h.load.call(t,r,h)}}).attr("src",i.attr("data-"+h.data_attribute))}}),0!==h.event.indexOf("scroll")&&i.bind(h.event,function(){t.loaded||i.trigger("appear")})}),n.bind("resize",function(){f()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&n.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&l.each(function(){e(this).trigger("appear")})}),e(i).ready(function(){f()}),this},e.belowthefold=function(i,r){var f;return f=r.container===o||r.container===t?(t.innerHeight?t.innerHeight:n.height())+n.scrollTop():e(r.container).offset().top+e(r.container).height(),f<=e(i).offset().top-r.threshold},e.rightoffold=function(i,r){var f;return f=r.container===o||r.container===t?n.width()+n.scrollLeft():e(r.container).offset().left+e(r.container).width(),f<=e(i).offset().left-r.threshold},e.abovethetop=function(i,r){var f;return f=r.container===o||r.container===t?n.scrollTop():e(r.container).offset().top,f>=e(i).offset().top+r.threshold+e(i).height()},e.leftofbegin=function(i,r){var f;return f=r.container===o||r.container===t?n.scrollLeft():e(r.container).offset().left,f>=e(i).offset().left+r.threshold+e(i).width()},e.inviewport=function(t,i){return!(e.rightoffold(t,i)||e.leftofbegin(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document);
!function(t){var a=new Array,e=new Array;t.fn.doAutosize=function(a){var e=t(this).data("minwidth"),i=t(this).data("maxwidth"),n="",r=t(this),d=t("#"+t(this).data("tester_id"));if(n!==(n=r.val())){var u=n.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");d.html(u);var o=d.width(),s=o+a.comfortZone>=e?o+a.comfortZone:e,l=r.width(),p=s<l&&s>=e||s>e&&s<i;p&&r.width(s)}},t.fn.resetAutosize=function(a){var e=t(this).data("minwidth")||a.minInputWidth||t(this).width(),i=t(this).data("maxwidth")||a.maxInputWidth||t(this).closest(".tagsinput").width()-a.inputPadding,n=t(this),r=t("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:n.css("fontSize"),fontFamily:n.css("fontFamily"),fontWeight:n.css("fontWeight"),letterSpacing:n.css("letterSpacing"),whiteSpace:"nowrap"}),d=t(this).attr("id")+"_autosize_tester";!t("#"+d).length>0&&(r.attr("id",d),r.appendTo("body")),n.data("minwidth",e),n.data("maxwidth",i),n.data("tester_id",d),n.css("width",e)},t.fn.addTag=function(i,n){return n=jQuery.extend({focus:!1,callback:!0},n),this.each(function(){var r=t(this).attr("id"),d=t(this).val().split(a[r]);if(""==d[0]&&(d=new Array),i=jQuery.trim(i),n.unique){var u=t(this).tagExist(i);1==u&&t("#"+r+"_tag").addClass("not_valid")}else var u=!1;if(""!=i&&1!=u){if(t("<span>").addClass("tag").append(t("<span>").text(i).append("&nbsp;&nbsp;"),t("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return t("#"+r).removeTag(escape(i))})).insertBefore("#"+r+"_addTag"),d.push(i),t("#"+r+"_tag").val(""),n.focus?t("#"+r+"_tag").focus():t("#"+r+"_tag").blur(),t.fn.tagsInput.updateTagsField(this,d),n.callback&&e[r]&&e[r].onAddTag){var o=e[r].onAddTag;o.call(this,i)}if(e[r]&&e[r].onChange){var s=d.length,o=e[r].onChange;o.call(this,t(this),d[s-1])}}}),!1},t.fn.removeTag=function(n){return n=unescape(n),this.each(function(){var r=t(this).attr("id"),d=t(this).val().split(a[r]);for(t("#"+r+"_tagsinput .tag").remove(),str="",i=0;i<d.length;i++)d[i]!=n&&(str=str+a[r]+d[i]);if(t.fn.tagsInput.importTags(this,str),e[r]&&e[r].onRemoveTag){var u=e[r].onRemoveTag;u.call(this,n)}}),!1},t.fn.tagExist=function(e){var i=t(this).attr("id"),n=t(this).val().split(a[i]);return jQuery.inArray(e,n)>=0},t.fn.importTags=function(a){var e=t(this).attr("id");t("#"+e+"_tagsinput .tag").remove(),t.fn.tagsInput.importTags(this,a)},t.fn.tagsInput=function(i){var r=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i),d=0;return this.each(function(){if("undefined"==typeof t(this).attr("data-tagsinput-init")){t(this).attr("data-tagsinput-init",!0),r.hide&&t(this).hide();var i=t(this).attr("id");i&&!a[t(this).attr("id")]||(i=t(this).attr("id","tags"+(new Date).getTime()+d++).attr("id"));var u=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},r);a[i]=u.delimiter,a[i].length>1&&(a[i]=","),(r.onAddTag||r.onRemoveTag||r.onChange)&&(e[i]=new Array,e[i].onAddTag=r.onAddTag,e[i].onRemoveTag=r.onRemoveTag,e[i].onChange=r.onChange);var o='<div id="'+i+'_tagsinput" class="tagsinput"><div id="'+i+'_addTag">';if(r.interactive&&(o=o+'<input id="'+i+'_tag" value="" data-default="'+r.defaultText+'" />'),o+='</div><div class="tags_clear"></div></div>',t(o).insertAfter(this),t(u.holder).css("width",r.width),t(u.holder).css("min-height",r.height),t(u.holder).css("height",r.height),""!=t(u.real_input).val()&&t.fn.tagsInput.importTags(t(u.real_input),t(u.real_input).val()),r.interactive){if(t(u.fake_input).val(t(u.fake_input).attr("data-default")),t(u.fake_input).css("color",r.placeholderColor),t(u.fake_input).resetAutosize(r),t(u.holder).bind("click",u,function(a){t(a.data.fake_input).focus()}),t(u.fake_input).bind("focus",u,function(a){t(a.data.fake_input).val()==t(a.data.fake_input).attr("data-default")&&t(a.data.fake_input).val(""),t(a.data.fake_input).css("color","#000000")}),void 0!=r.autocomplete_url){autocomplete_options={source:r.autocomplete_url};for(attrname in r.autocomplete)autocomplete_options[attrname]=r.autocomplete[attrname];void 0!==jQuery.Autocompleter?(t(u.fake_input).autocomplete(r.autocomplete_url,r.autocomplete),t(u.fake_input).bind("result",u,function(a,e,n){e&&t("#"+i).addTag(e[0]+"",{focus:!0,unique:r.unique})})):void 0!==jQuery.ui.autocomplete&&(t(u.fake_input).autocomplete(autocomplete_options),t(u.fake_input).bind("autocompleteselect",u,function(a,e){return t(a.data.real_input).addTag(e.item.value,{focus:!0,unique:r.unique}),!1}))}else t(u.fake_input).bind("blur",u,function(a){var e=t(this).attr("data-default");return""!=t(a.data.fake_input).val()&&t(a.data.fake_input).val()!=e?a.data.minChars<=t(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=t(a.data.fake_input).val().length)&&t(a.data.real_input).addTag(t(a.data.fake_input).val(),{focus:!0,unique:r.unique}):(t(a.data.fake_input).val(t(a.data.fake_input).attr("data-default")),t(a.data.fake_input).css("color",r.placeholderColor)),!1});t(u.fake_input).bind("keypress",u,function(a){return n(a)?(a.preventDefault(),a.data.minChars<=t(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=t(a.data.fake_input).val().length)&&t(a.data.real_input).addTag(t(a.data.fake_input).val(),{focus:!0,unique:r.unique}),t(a.data.fake_input).resetAutosize(r),!1):void(a.data.autosize&&t(a.data.fake_input).doAutosize(r))}),u.removeWithBackspace&&t(u.fake_input).bind("keydown",function(a){if(8==a.keyCode&&""==t(this).val()){a.preventDefault();var e=t(this).closest(".tagsinput").find(".tag:last").text(),i=t(this).attr("id").replace(/_tag$/,"");e=e.replace(/[\s]+x$/,""),t("#"+i).removeTag(escape(e)),t(this).trigger("focus")}}),t(u.fake_input).blur(),u.unique&&t(u.fake_input).keydown(function(a){(8==a.keyCode||String.fromCharCode(a.which).match(/\w+|[,\/]+/))&&t(this).removeClass("not_valid")})}}}),this},t.fn.tagsInput.updateTagsField=function(e,i){var n=t(e).attr("id");t(e).val(i.join(a[n]))},t.fn.tagsInput.importTags=function(n,r){t(n).val("");var d=t(n).attr("id"),u=r.split(a[d]);for(i=0;i<u.length;i++)t(n).addTag(u[i],{focus:!1,callback:!1});if(e[d]&&e[d].onChange){var o=e[d].onChange;o.call(n,n,u[i])}};var n=function(a){var e=!1;return 13==a.which||("string"==typeof a.data.delimiter?a.which==a.data.delimiter.charCodeAt(0)&&(e=!0):t.each(a.data.delimiter,function(t,i){a.which==i.charCodeAt(0)&&(e=!0)}),e)}}(jQuery);