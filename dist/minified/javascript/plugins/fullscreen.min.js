!function(e){e.Editable.prototype.refreshFullscreen=function(){this.$box.hasClass("fr-fullscreen")?this.$editor.find('[data-cmd="fullscreen"]').addClass("active"):this.$editor.find('[data-cmd="fullscreen"]').removeClass("active")},e.Editable.commands=e.extend(e.Editable.commands,{fullscreen:{icon:"fa fa-expand",title:"Fullscreen",callback:function(){if(this.$box.toggleClass("fr-fullscreen"),e("body").toggleClass("fr-fullscreen"),this.$editor.find('[data-cmd="fullscreen"] i').toggleClass("fa-expand fa-compress"),this.refreshFullscreen(),this.$box.hasClass("fr-fullscreen"))this.$fullscreen_marker=e("<div>"),this.$box.after(this.$fullscreen_marker),this.$box.appendTo("body"),this.computeElementHeight();else{this.$wrapper.css("height",""),this.$element.css("minHeight",""),this.setDimensions(),this.options.scrollableContainer=this.oldScrollableContainer;var t=this.$document.find(this.options.scrollableContainer);t.append(this.$popup_editor),this.$fullscreen_marker.replaceWith(this.$box)}},refresh:e.Editable.prototype.refreshFullscreen}}),e.Editable.prototype.computeElementHeight=function(){var e=this.$window.height()-this.$editor.outerHeight()-parseFloat(this.$wrapper.css("padding-top"),10)-parseFloat(this.$wrapper.css("padding-bottom"),10)-parseFloat((this.$wrapper||this.$element).css("border-top-width"),10)-parseFloat((this.$wrapper||this.$element).css("border-bottom-width"),10)+2;this.$wrapper.css("height",e),this.$element.css("minHeight",e-parseInt(this.$element.css("padding-top"),10)-parseInt(this.$element.css("padding-bottom"),10)),this.$element.css("maxHeight",""),this.$wrapper.css("maxHeight",""),this.oldScrollableContainer=this.options.scrollableContainer,this.options.scrollableContainer=this.$wrapper,this.$wrapper.append(this.$popup_editor)},e.Editable.prototype.initFullscreen=function(){this.$window.on("resize",e.proxy(function(){this.$box.hasClass("fr-fullscreen")&&this.computeElementHeight()},this))},e.Editable.initializers.push(e.Editable.prototype.initFullscreen)}(jQuery);