!function(e){e.Editable.DEFAULTS=e.extend(e.Editable.DEFAULTS,{maxCharacters:-1,countCharacters:!0}),e.Editable.prototype.validKeyCode=function(e,t){return!t&&(e>47&&e<58||32==e||13==e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223)},e.Editable.prototype.charNumber=function(){return this.getText().length},e.Editable.prototype.checkCharNumber=function(e,t,r){if(t.options.maxCharacters<0)return!0;if(t.charNumber()<t.options.maxCharacters)return!0;var a=r.which,i=(r.ctrlKey||r.metaKey)&&!r.altKey;return!t.validKeyCode(a,i)||(t.triggerEvent("maxCharNumberExceeded",[],!1),!1)},e.Editable.prototype.checkCharNumberOnPaste=function(t,r,a){if(r.options.maxCharacters<0)return!0;var i=e("<div>").html(a).text().length;return i+r.charNumber()<=r.options.maxCharacters?a:(r.triggerEvent("maxCharNumberExceeded",[],!1),"")},e.Editable.prototype.updateCharNumber=function(e,t){if(t.options.countCharacters){var r=t.charNumber()+(t.options.maxCharacters>0?"/"+t.options.maxCharacters:"");t.$box.attr("data-chars",r)}},e.Editable.prototype.initCharNumber=function(){this.$original_element.on("editable.keydown",this.checkCharNumber),this.$original_element.on("editable.afterPasteCleanup",this.checkCharNumberOnPaste),this.$original_element.on("editable.keyup",this.updateCharNumber),this.$original_element.on("editable.contentChanged",this.updateCharNumber),this.updateCharNumber(null,this)},e.Editable.initializers.push(e.Editable.prototype.initCharNumber)}(jQuery);