!function(){$.fn.smint=function(t){var s=$.extend({scrollSpeed:500,mySelector:"div",selectClass:""},t);$(this).addClass("smint");var i=new Array,e=0,o=$(".smint").height(),a=$(".smint"),l=a.height();if(s.selectClass)var n=$(".smint a."+s.selectClass);else var n=$(".smint a");if(s.scrollSpeed)var r=s.scrollSpeed;if(s.mySelector)var c=s.mySelector;return n.each(function(t){var s=$(this).attr("href").split("#")[1];$(this).hasClass("extLink")||$(this).attr("id",s),i.push(Array($(c+"."+s).position().top-o,$(c+"."+s).height()+$(c+"."+s).position().top,s));var d=a.offset().top,p=function(e){var n=$(window).scrollTop()+l;n>d+l?(a.css({position:"fixed",top:0,left:0}).addClass("fxd"),$("body").css("padding-top",o)):(a.css("position","relative").removeClass("fxd"),$("body").css("padding-top","0")),console.log("scrollTop:"+n+" direction: "+e+" index: "+t),i[t][0]<=n&&n<=i[t][1]&&("up"==e?($("#"+s).addClass("active"),$("#"+i[t+1][2]).removeClass("active")):t>0?($("#"+s).addClass("active"),$("#"+i[t-1][2]).removeClass("active")):void 0==e&&$("#"+s).addClass("active"),$.each(i,function(t){s!=i[t][2]&&$("#"+i[t][2]).removeClass("active")}))};p(),$(window).scroll(function(){var t=$(this).scrollTop()+l;t>e?direction="down":t<e&&(direction="up"),e=t,p(direction),$(window).scrollTop()+$(window).height()==$(document).height()?(n.removeClass("active"),$(".smint a:not('.extLink'):last").addClass("active")):n.last().removeClass("active")}),$(this).on("click",function(t){var s=a.height();t.preventDefault();var i=$(this).attr("href").split("#")[1],e=$(c+"."+i).offset().top-s;if($("html, body").stop().animate({scrollTop:e},r),$(this).hasClass("extLink"))return!1}),$(".intLink").on("click",function(t){var s=a.height();t.preventDefault();var i=$(this).attr("href").split("#")[1];if(a.hasClass("fxd"))var e=$(c+"."+i).position().top-s;else var e=$(c+"."+i).position().top-2*s;if($("html, body").stop().animate({scrollTop:e},r),$(this).hasClass("extLink"))return!1})})},$.fn.smint.defaults={scrollSpeed:500,mySelector:"div"}}(jQuery);