!function(e){e.fn.maxlength=function(t){function a(e){var a=e.value;return t.words&&(a=e.value.length?a.split(/\s+/):{length:0}),a.length}return"string"==typeof t&&(t={feedback:t}),t=e.extend({},e.fn.maxlength.defaults,t),this.each(function(){function n(e){var n=a(this),s=n>=c,u=e.keyCode;if(s)switch(u){case 8:case 9:case 17:case 36:case 35:case 37:case 38:case 39:case 40:case 46:case 65:return;default:return t.words&&32!=u&&13!=u&&n==c}}var s=this,u=e(s),r=e(s.form),c=t.useInput?r.find("input[name=maxlength]").val():u.attr("maxlength"),i=r.find(t.feedback),f=function(){var e=a(s),n=c-e;i.html(n||"0"),t.hardLimit&&n<0&&(s.value=t.words?s.value.split(/(\s+)/,2*c-1).join(""):s.value.substr(0,c),f())};u.keyup(f).change(f),t.hardLimit&&u.keydown(n),f()})},e.fn.maxlength.defaults={useInput:!1,hardLimit:!0,feedback:".charsLeft",words:!1}}(jQuery);