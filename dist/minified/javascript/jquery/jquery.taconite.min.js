!function(t){function e(){t.taconite.debug&&window.console&&window.console.log&&(1===++T&&e("Plugin Version: "+w),window.console.log("[taconite] "+[].join.call(arguments,"")))}function n(t,e,n){return N?N(t,e,n):t.responseXML||t.responseText}function o(o,r,a){var i=o.getResponseHeader("content-type");t.taconite.debug&&(e("[AJAX response] content-type: ",i,";  status: ",o.status," ",o.statusText,";  has responseXML: ",null!==o.responseXML),e("type arg: "+r));var c=n(o,r,a);return c&&c.documentElement&&"parsererror"!=c.documentElement.nodeName?t.taconite(c):"string"==typeof c?/taconite/.test(c)&&t.taconite(c):(e("jQuery core httpData returned: "+c),e('httpData: response is not XML (or not "valid" XML)')),c}function r(e,n){var o=L[e];if(t.isFunction(o))return o(n);throw'No parser registered for rawData of type "'+e+'"'}function a(t){return x(t)}function i(n){var o,r=!0;try{if("string"==typeof n&&(n=c(n)),!n||!n.documentElement)return e("$.taconite invoked without valid document; nothing to process"),!1;var a=n.documentElement.tagName;e("XML document root: ",a);var i=t("taconite",n)[0];if(!i)return e("document does not contain <taconite> element; nothing to process"),!1;t.event.trigger("taconite-begin-notify",[i]),r=s(i)}catch(l){r=o=l}if(E&&t.event.trigger("taconite-rawdata-notify",[D]),t.event.trigger("taconite-complete-notify",[n,!!r,r===!0?null:r]),o)throw o}function c(n){var o;e("attempting string to document conversion");try{if(window.DOMParser){var r=new DOMParser;o=r.parseFromString(n,"text/xml")}else o=t("<xml>")[0],o.async="false",o.loadXML(n)}catch(a){throw window.console&&window.console.error&&window.console.error("[taconite] ERROR parsing XML string for conversion: "+a),a}var i=o&&o.documentElement&&"parsererror"!=o.documentElement.tagName;return e("conversion ",i?"successful!":"FAILED"),o}function s(n){try{var o=(new Date).getTime();l(n.childNodes),t.taconite.lastTime=(new Date).getTime()-o,e("time to process response: "+t.taconite.lastTime+"ms")}catch(r){throw window.console&&window.console.error&&window.console.error("[taconite] ERROR processing document: "+r),r}return!0}function l(n){D={},E=!1;var o,a,i,c,s,l,g,m,h,v,w,b,y,A={wrap:1},T=0;for(c=0;c<n.length;c++)if(1==n[c].nodeType){var x=n[c],N=x.tagName;if("eval"!=N)if("rawData"!=N)if(v=x.getAttribute("select"),w=t(v),w[0]){if(b=x.getAttribute("cdataWrap")||t.taconite.defaults.cdataWrap,o=[],x.childNodes.length>0){for(T=1,s=0,g=[];s<x.childNodes.length;s++)g[s]=p(x.childNodes[s],b);o.push(A[N]?f(g):g)}for(a=x.getAttribute("name"),i=x.getAttribute("value"),null!==a&&o.push(a),null!==i&&(y=Number(i),i==y&&(i=y),o.push(i)),s=1;!0&&(i=x.getAttribute("arg"+s),null!==i);s++)i.length&&(y=Number(i),i==y&&(i=y)),o.push(i);t.taconite.debug&&u(v,N,o,g),w[N].apply(w,o)}else e("No matching targets for selector: ",v);else{m=x.firstChild?x.firstChild.nodeValue:null,h=x.getAttribute("type"),e("rawData ("+h+"): ",m);var L=x.getAttribute("namespace")||"none";D[L]||(D[L]=[]),D[L].push({data:r(h,m),type:h,name:x.getAttribute("name")||null,raw:m}),E||(E=!0)}else l=x.firstChild?x.firstChild.nodeValue:null,e('invoking "eval" command: ',l),l&&t.globalEval(l)}T&&d()}function u(t,n,o,r){var a="...";if(!r){a="";for(var i=0;i<o.length;i++)val=o[i],i>0&&(a+=","),a+="string"==typeof val?"'"+val+"'":val}e("invoking command: $('",t,"').",n,"("+a+")")}function d(){b.mozilla||t("select:taconiteTag").each(function(){var e=this;t("option:taconiteTag",this).each(function(){if(this.setAttribute("selected","selected"),this.taconiteTag=null,"select-one"==e.type){var n=t("option",e).index(this);e.selectedIndex=n}}),this.taconiteTag=null})}function f(t){for(var e=0,n=[];e<t.length;e++)1==t[e].nodeType&&n.push(t[e]);return n}function p(t,e){var n=t.nodeType;return 1==n?h(t,e):3==n?m(t.nodeValue):4==n?g(t.nodeValue,e):null}function g(e,n){var o=document.createElement(n),r=t(o)["script"==n?"text":"html"](e),a=r.children();return 1==a.size()?a[0]:o}function m(t){return b.msie&&(t=t.replace(/\n/g,"\r").replace(/\s+/g," ")),document.createTextNode(t)}function h(t,e){var n,o=t.tagName.toLowerCase();if(b.msie&&b.version<9){var r=t.getAttribute("type");("table"==o||"radio"==r||"checkbox"==r||"button"==o||"select"==o&&t.getAttribute("multiple"))&&(n=document.createElement("<"+o+" "+v(null,t,!0)+">"))}if(n||(n=document.createElement(o),v(n,t)),b.msie&&"td"==o){var a=t.getAttribute("colspan");a&&(n.colSpan=parseInt(a,10))}if(b.msie&&!n.canHaveChildren)t.childNodes.length>0&&(n.text=t.text);else for(var i=0,c=t.childNodes.length;i<c;i++){var s=p(t.childNodes[i],e);s&&n.appendChild(s)}return b.mozilla||("select"==o||"option"==o&&t.getAttribute("selected"))&&(n.taconiteTag=1),n}function v(e,n,o){for(var r=0,a="";r<n.attributes.length;r++){var i=n.attributes[r],c=t.trim(i.name),s=t.trim(i.value);o?a+=c+'="'+s+'" ':"style"==c?(e.style.cssText=s,e.setAttribute(c,s)):t.attr(e,c,s)}return a}var w="3.66",b=t.browser;if(!b){var y=navigator.userAgent.toLowerCase(),A=/(msie) ([\w.]+)/.exec(y)||!/compatible/.test(y)&&/(mozilla)/.exec(y)||[];b={version:A[2]},b[A[1]]=!0}t.taconite=function(t){i(t)},t.taconite.debug=0,t.taconite.autodetect=!0,t.taconite.defaults={cdataWrap:"div"},t.fn.replace=t.fn.replace||function(t){return this.after(t),this.remove(),this},t.fn.replaceContent=t.fn.replaceContent||function(t){return this.empty().append(t)},t.expr[":"].taconiteTag=function(t){return 1===t.taconiteTag},t.taconite.enableAutoDetection=function(e){t.taconite.autodetect=e,N&&(t.httpData=e?N:o)};var T=0,x=t.parseJSON||function(t){return window.eval("("+t+")")};t.ajaxPrefilter&&t.ajaxPrefilter(function(e,n,r){r.success(function(n,r,a){t.taconite.autodetect&&o(a,e.dataType,e)})});var N=t.httpData;t.httpData&&(t.httpData=o);var D,E,L={json:a};t.taconite.registerParser=function(t,e){L[t]=e}}(jQuery);