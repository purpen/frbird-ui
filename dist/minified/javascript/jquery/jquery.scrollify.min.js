!function(e,t,o,n){"use strict";var s,c=[],i=[],a=[],u=0,h=t.location.hash,r=!1,l=e(t).scrollTop(),d=!1,f={section:"section",sectionName:"section-name",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,axis:"y",target:"html,body",before:function(){},after:function(){}};e.scrollify=function(n){function p(o){i[o]&&(f.before(o,a),f.sectionName&&(t.location.hash=i[o]),e(f.target).stop().animate({scrollTop:c[o]},f.scrollSpeed,f.easing),e(f.target).promise().done(function(){f.after(o,a)}))}var m={handleMousedown:function(){d=!1},handleMouseup:function(){d=!0},handleScroll:function(){s&&clearTimeout(s),s=setTimeout(function(){if(l=e(t).scrollTop(),0==d)return!1;d=!1;for(var o,n=1,s=c.length,i=0,a=Math.abs(c[0]-l);n<s;n++)o=Math.abs(c[n]-l),o<a&&(a=o,i=n);u=i,p(i)},200)},wheelHandler:function(e,t){e.preventDefault(),t=t||-e.originalEvent.detail/3||e.originalEvent.wheelDelta/120,s&&clearTimeout(s),s=setTimeout(function(){t<0?u<c.length-1&&u++:t>0&&u>0&&u--,u>=0?p(u):u=0},25)},keyHandler:function(e){e.preventDefault(),38==e.keyCode?(u>0&&u--,p(u)):40==e.keyCode&&(u<c.length-1&&u++,p(u))},init:function(){f.scrollbars?(e(t).bind("mousedown",m.handleMousedown),e(t).bind("mouseup",m.handleMouseup),e(t).bind("scroll",m.handleScroll)):e("body").css({overflow:"hidden"}),e(o).bind("DOMMouseScroll mousewheel",m.wheelHandler),e(o).bind("keyup",m.keyHandler)}},y={touches:{touchstart:{y:-1},touchmove:{y:-1},touchend:!1,direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(e){var t;if("undefined"!=typeof e&&(e.preventDefault(),"undefined"!=typeof e.touches))switch(t=e.touches[0],e.type){case"touchstart":y.options.timeStamp=(new Date).getTime(),y.touches.touchend=!1;case"touchmove":y.touches[e.type].y=t.pageY,y.options.timeStamp+y.options.timeGap<(new Date).getTime()&&0==y.touches.touchend&&(y.touches.touchend=!0,y.touches.touchstart.y>-1&&Math.abs(y.touches.touchmove.y-y.touches.touchstart.y)>y.options.distance&&(y.touches.touchstart.y<y.touches.touchmove.y?(u>0&&u--,p(u)):(u<c.length-1&&u++,p(u))));break;case"touchend":0==y.touches[e.type]&&(y.touches[e.type]=!0,y.touches.touchstart.y>-1&&Math.abs(y.touches.touchmove.y-y.touches.touchstart.y)>y.options.distance&&(y.touches.touchstart.y<y.touches.touchmove.y?(u>0&&u--,p(u)):(u<c.length-1&&u++,p(u))))}},init:function(){o.addEventListener&&(o.addEventListener("touchstart",y.touchHandler,!1),o.addEventListener("touchmove",y.touchHandler,!1),o.addEventListener("touchend",y.touchHandler,!1))}};if("string"==typeof n)for(var v=i.length;v>=0;v--)"string"==typeof arguments[1]?i[v]==arguments[1]&&(u=v,p(v)):v==arguments[1]&&(u=v,p(v));else f=e.extend(f,n),e(f.section).each(function(t){t>0?c[t]=e(this).offset().top+f.offset:c[t]=e(this).offset().top,f.sectionName&&e(this).data(f.sectionName)?i[t]="#"+e(this).data(f.sectionName).replace(/ /g,"-"):i[t]="#"+(t+1),a[t]=e(this),h==i[t]&&(u=t,r=!0)}),0==r&&f.sectionName?t.location.hash=i[0]:p(u),m.init(),y.init()}}(jQuery,this,document);